import{d as ti,r as vi,o as zt,e as ee,l as xs,n as Ms,m as Cn,q as po,w as gi,j as Qi,g as bt,h as Tn,t as Be,k as In,s as Os,v as Yo,f as Ae,x as As,y as Bs,u as mo,c as ls,p as Ns,i as ks,F as ws,z as Ds,A as zs,B as Zs,C as Rs,D as Xs}from"../index.js";import _s from"./TheTextContent-d36caafe.js";import{T as ss}from"./TheActionButton-3828d78c.js";import Ys from"./TheHeadline-95ba48c1.js";import Fs from"./TheLogo-39c53fe6.js";const Ws=ti({__name:"TheScrollArea",props:{maxHeight:null},setup(w){const y=vi({maxHeight:w.maxHeight||"calc(100vh - 300px)"});return(Z,S)=>(zt(),ee("div",{class:"the-scroll-area",style:Ms(y.value)},[xs(Z.$slots,"default")],4))}});const Hs=["innerHTML"],qs=ti({__name:"TheIntro",setup(w){const{t:l}=Cn();return(y,Z)=>(zt(),po(_s,{small:!0},{default:gi(()=>[Qi("div",{innerHTML:bt(l)("index.widget_description")},null,8,Hs)]),_:1}))}});var Ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fo={},Us={get exports(){return Fo},set exports(w){Fo=w}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(w,l){(function(y,Z){Z(l)})(Ls,function(y){var Z="1.9.3";function S(t){var n,r,u,d;for(r=1,u=arguments.length;r<u;r++){d=arguments[r];for(n in d)t[n]=d[n]}return t}var k=Object.create||function(){function t(){}return function(n){return t.prototype=n,new t}}();function B(t,n){var r=Array.prototype.slice;if(t.bind)return t.bind.apply(t,r.call(arguments,1));var u=r.call(arguments,2);return function(){return t.apply(n,u.length?u.concat(r.call(arguments)):arguments)}}var E=0;function M(t){return"_leaflet_id"in t||(t._leaflet_id=++E),t._leaflet_id}function Ht(t,n,r){var u,d,v,P;return P=function(){u=!1,d&&(v.apply(r,d),d=!1)},v=function(){u?d=arguments:(t.apply(r,arguments),setTimeout(P,n),u=!0)},v}function Bt(t,n,r){var u=n[1],d=n[0],v=u-d;return t===u&&r?t:((t-d)%v+v)%v+d}function tt(){return!1}function vt(t,n){if(n===!1)return t;var r=Math.pow(10,n===void 0?6:n);return Math.round(t*r)/r}function Nt(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function St(t){return Nt(t).split(/\s+/)}function V(t,n){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?k(t.options):{});for(var r in n)t.options[r]=n[r];return t.options}function Zt(t,n,r){var u=[];for(var d in t)u.push(encodeURIComponent(r?d.toUpperCase():d)+"="+encodeURIComponent(t[d]));return(!n||n.indexOf("?")===-1?"?":"&")+u.join("&")}var tn=/\{ *([\w_ -]+) *\}/g;function ei(t,n){return t.replace(tn,function(r,u){var d=n[u];if(d===void 0)throw new Error("No value provided for variable "+r);return typeof d=="function"&&(d=d(n)),d})}var wt=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function Ne(t,n){for(var r=0;r<t.length;r++)if(t[r]===n)return r;return-1}var Rt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ke(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Pi=0;function xi(t){var n=+new Date,r=Math.max(0,16-(n-Pi));return Pi=n+r,window.setTimeout(t,r)}var De=window.requestAnimationFrame||ke("RequestAnimationFrame")||xi,wi=window.cancelAnimationFrame||ke("CancelAnimationFrame")||ke("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function ct(t,n,r){if(r&&De===xi)t.call(n);else return De.call(window,B(t,n))}function dt(t){t&&wi.call(window,t)}var bn={__proto__:null,extend:S,create:k,bind:B,get lastId(){return E},stamp:M,throttle:Ht,wrapNum:Bt,falseFn:tt,formatNum:vt,trim:Nt,splitWords:St,setOptions:V,getParamString:Zt,template:ei,isArray:wt,indexOf:Ne,emptyImageUrl:Rt,requestFn:De,cancelFn:wi,requestAnimFrame:ct,cancelAnimFrame:dt};function Ct(){}Ct.extend=function(t){var n=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=n.__super__=this.prototype,u=k(r);u.constructor=n,n.prototype=u;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(n[d]=this[d]);return t.statics&&S(n,t.statics),t.includes&&(Sn(t.includes),S.apply(null,[u].concat(t.includes))),S(u,t),delete u.statics,delete u.includes,u.options&&(u.options=r.options?k(r.options):{},S(u.options,t.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,P=u._initHooks.length;v<P;v++)u._initHooks[v].call(this)}},n},Ct.include=function(t){var n=this.prototype.options;return S(this.prototype,t),t.options&&(this.prototype.options=n,this.mergeOptions(t.options)),this},Ct.mergeOptions=function(t){return S(this.prototype.options,t),this},Ct.addInitHook=function(t){var n=Array.prototype.slice.call(arguments,1),r=typeof t=="function"?t:function(){this[t].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function Sn(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=wt(t)?t:[t];for(var n=0;n<t.length;n++)t[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var gt={on:function(t,n,r){if(typeof t=="object")for(var u in t)this._on(u,t[u],n);else{t=St(t);for(var d=0,v=t.length;d<v;d++)this._on(t[d],n,r)}return this},off:function(t,n,r){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var u in t)this._off(u,t[u],n);else{t=St(t);for(var d=arguments.length===1,v=0,P=t.length;v<P;v++)d?this._off(t[v]):this._off(t[v],n,r)}return this},_on:function(t,n,r,u){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}if(this._listens(t,n,r)===!1){r===this&&(r=void 0);var d={fn:n,ctx:r};u&&(d.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(d)}},_off:function(t,n,r){var u,d,v;if(this._events&&(u=this._events[t],!!u)){if(arguments.length===1){if(this._firingCount)for(d=0,v=u.length;d<v;d++)u[d].fn=tt;delete this._events[t];return}if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}var P=this._listens(t,n,r);if(P!==!1){var T=u[P];this._firingCount&&(T.fn=tt,this._events[t]=u=u.slice()),u.splice(P,1)}}},fire:function(t,n,r){if(!this.listens(t,r))return this;var u=S({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var d=this._events[t];if(d){this._firingCount=this._firingCount+1||1;for(var v=0,P=d.length;v<P;v++){var T=d[v],b=T.fn;T.once&&this.off(t,b,T.ctx),b.call(T.ctx||this,u)}this._firingCount--}}return r&&this._propagateEvent(u),this},listens:function(t,n,r,u){typeof t!="string"&&console.warn('"string" type argument expected');var d=n;typeof n!="function"&&(u=!!n,d=void 0,r=void 0);var v=this._events&&this._events[t];if(v&&v.length&&this._listens(t,d,r)!==!1)return!0;if(u){for(var P in this._eventParents)if(this._eventParents[P].listens(t,n,r,u))return!0}return!1},_listens:function(t,n,r){if(!this._events)return!1;var u=this._events[t]||[];if(!n)return!!u.length;r===this&&(r=void 0);for(var d=0,v=u.length;d<v;d++)if(u[d].fn===n&&u[d].ctx===r)return d;return!1},once:function(t,n,r){if(typeof t=="object")for(var u in t)this._on(u,t[u],n,!0);else{t=St(t);for(var d=0,v=t.length;d<v;d++)this._on(t[d],n,r,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[M(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[M(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,S({layer:t.target,propagatedFrom:t.target},t),!0)}};gt.addEventListener=gt.on,gt.removeEventListener=gt.clearAllEventListeners=gt.off,gt.addOneTimeEventListener=gt.once,gt.fireEvent=gt.fire,gt.hasEventListeners=gt.listens;var ie=Ct.extend(gt);function D(t,n,r){this.x=r?Math.round(t):t,this.y=r?Math.round(n):n}var Li=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};D.prototype={clone:function(){return new D(this.x,this.y)},add:function(t){return this.clone()._add(z(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(z(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new D(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new D(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Li(this.x),this.y=Li(this.y),this},distanceTo:function(t){t=z(t);var n=t.x-this.x,r=t.y-this.y;return Math.sqrt(n*n+r*r)},equals:function(t){return t=z(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=z(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+vt(this.x)+", "+vt(this.y)+")"}};function z(t,n,r){return t instanceof D?t:wt(t)?new D(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new D(t.x,t.y):new D(t,n,r)}function $(t,n){if(t)for(var r=n?[t,n]:t,u=0,d=r.length;u<d;u++)this.extend(r[u])}$.prototype={extend:function(t){var n,r;if(!t)return this;if(t instanceof D||typeof t[0]=="number"||"x"in t)n=r=z(t);else if(t=yt(t),n=t.min,r=t.max,!n||!r)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=r.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(t){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var n,r;return typeof t[0]=="number"||t instanceof D?t=z(t):t=yt(t),t instanceof $?(n=t.min,r=t.max):n=r=t,n.x>=this.min.x&&r.x<=this.max.x&&n.y>=this.min.y&&r.y<=this.max.y},intersects:function(t){t=yt(t);var n=this.min,r=this.max,u=t.min,d=t.max,v=d.x>=n.x&&u.x<=r.x,P=d.y>=n.y&&u.y<=r.y;return v&&P},overlaps:function(t){t=yt(t);var n=this.min,r=this.max,u=t.min,d=t.max,v=d.x>n.x&&u.x<r.x,P=d.y>n.y&&u.y<r.y;return v&&P},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var n=this.min,r=this.max,u=Math.abs(n.x-r.x)*t,d=Math.abs(n.y-r.y)*t;return yt(z(n.x-u,n.y-d),z(r.x+u,r.y+d))},equals:function(t){return t?(t=yt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function yt(t,n){return!t||t instanceof $?t:new $(t,n)}function lt(t,n){if(t)for(var r=n?[t,n]:t,u=0,d=r.length;u<d;u++)this.extend(r[u])}lt.prototype={extend:function(t){var n=this._southWest,r=this._northEast,u,d;if(t instanceof U)u=t,d=t;else if(t instanceof lt){if(u=t._southWest,d=t._northEast,!u||!d)return this}else return t?this.extend(K(t)||rt(t)):this;return!n&&!r?(this._southWest=new U(u.lat,u.lng),this._northEast=new U(d.lat,d.lng)):(n.lat=Math.min(u.lat,n.lat),n.lng=Math.min(u.lng,n.lng),r.lat=Math.max(d.lat,r.lat),r.lng=Math.max(d.lng,r.lng)),this},pad:function(t){var n=this._southWest,r=this._northEast,u=Math.abs(n.lat-r.lat)*t,d=Math.abs(n.lng-r.lng)*t;return new lt(new U(n.lat-u,n.lng-d),new U(r.lat+u,r.lng+d))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof U||"lat"in t?t=K(t):t=rt(t);var n=this._southWest,r=this._northEast,u,d;return t instanceof lt?(u=t.getSouthWest(),d=t.getNorthEast()):u=d=t,u.lat>=n.lat&&d.lat<=r.lat&&u.lng>=n.lng&&d.lng<=r.lng},intersects:function(t){t=rt(t);var n=this._southWest,r=this._northEast,u=t.getSouthWest(),d=t.getNorthEast(),v=d.lat>=n.lat&&u.lat<=r.lat,P=d.lng>=n.lng&&u.lng<=r.lng;return v&&P},overlaps:function(t){t=rt(t);var n=this._southWest,r=this._northEast,u=t.getSouthWest(),d=t.getNorthEast(),v=d.lat>n.lat&&u.lat<r.lat,P=d.lng>n.lng&&u.lng<r.lng;return v&&P},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,n){return t?(t=rt(t),this._southWest.equals(t.getSouthWest(),n)&&this._northEast.equals(t.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function rt(t,n){return t instanceof lt?t:new lt(t,n)}function U(t,n,r){if(isNaN(t)||isNaN(n))throw new Error("Invalid LatLng object: ("+t+", "+n+")");this.lat=+t,this.lng=+n,r!==void 0&&(this.alt=+r)}U.prototype={equals:function(t,n){if(!t)return!1;t=K(t);var r=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return r<=(n===void 0?1e-9:n)},toString:function(t){return"LatLng("+vt(this.lat,t)+", "+vt(this.lng,t)+")"},distanceTo:function(t){return kt.distance(this,K(t))},wrap:function(){return kt.wrapLatLng(this)},toBounds:function(t){var n=180*t/40075017,r=n/Math.cos(Math.PI/180*this.lat);return rt([this.lat-n,this.lng-r],[this.lat+n,this.lng+r])},clone:function(){return new U(this.lat,this.lng,this.alt)}};function K(t,n,r){return t instanceof U?t:wt(t)&&typeof t[0]!="object"?t.length===3?new U(t[0],t[1],t[2]):t.length===2?new U(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new U(t.lat,"lng"in t?t.lng:t.lon,t.alt):n===void 0?null:new U(t,n,r)}var It={latLngToPoint:function(t,n){var r=this.projection.project(t),u=this.scale(n);return this.transformation._transform(r,u)},pointToLatLng:function(t,n){var r=this.scale(n),u=this.transformation.untransform(t,r);return this.projection.unproject(u)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var n=this.projection.bounds,r=this.scale(t),u=this.transformation.transform(n.min,r),d=this.transformation.transform(n.max,r);return new $(u,d)},infinite:!1,wrapLatLng:function(t){var n=this.wrapLng?Bt(t.lng,this.wrapLng,!0):t.lng,r=this.wrapLat?Bt(t.lat,this.wrapLat,!0):t.lat,u=t.alt;return new U(r,n,u)},wrapLatLngBounds:function(t){var n=t.getCenter(),r=this.wrapLatLng(n),u=n.lat-r.lat,d=n.lng-r.lng;if(u===0&&d===0)return t;var v=t.getSouthWest(),P=t.getNorthEast(),T=new U(v.lat-u,v.lng-d),b=new U(P.lat-u,P.lng-d);return new lt(T,b)}},kt=S({},It,{wrapLng:[-180,180],R:6371e3,distance:function(t,n){var r=Math.PI/180,u=t.lat*r,d=n.lat*r,v=Math.sin((n.lat-t.lat)*r/2),P=Math.sin((n.lng-t.lng)*r/2),T=v*v+Math.cos(u)*Math.cos(d)*P*P,b=2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T));return this.R*b}}),Ti=6378137,qt={R:Ti,MAX_LATITUDE:85.0511287798,project:function(t){var n=Math.PI/180,r=this.MAX_LATITUDE,u=Math.max(Math.min(r,t.lat),-r),d=Math.sin(u*n);return new D(this.R*t.lng*n,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(t){var n=180/Math.PI;return new U((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*n,t.x*n/this.R)},bounds:function(){var t=Ti*Math.PI;return new $([-t,-t],[t,t])}()};function ze(t,n,r,u){if(wt(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=n,this._c=r,this._d=u}ze.prototype={transform:function(t,n){return this._transform(t.clone(),n)},_transform:function(t,n){return n=n||1,t.x=n*(this._a*t.x+this._b),t.y=n*(this._c*t.y+this._d),t},untransform:function(t,n){return n=n||1,new D((t.x/n-this._b)/this._a,(t.y/n-this._d)/this._c)}};function ne(t,n,r,u){return new ze(t,n,r,u)}var Ze=S({},kt,{code:"EPSG:3857",projection:qt,transformation:function(){var t=.5/(Math.PI*qt.R);return ne(t,.5,-t,.5)}()}),En=S({},Ze,{code:"EPSG:900913"});function Ci(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ii(t,n){var r="",u,d,v,P,T,b;for(u=0,v=t.length;u<v;u++){for(T=t[u],d=0,P=T.length;d<P;d++)b=T[d],r+=(d?"L":"M")+b.x+" "+b.y;r+=n?F.svg?"z":"x":""}return r||"M0 0"}var Re=document.documentElement.style,me="ActiveXObject"in window,Mn=me&&!document.addEventListener,bi="msLaunchUri"in navigator&&!("documentMode"in document),Xe=Ut("webkit"),Si=Ut("android"),Ei=Ut("android 2")||Ut("android 3"),On=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),An=Si&&Ut("Google")&&On<537&&!("AudioNode"in window),Ye=!!window.opera,Mi=!bi&&Ut("chrome"),Oi=Ut("gecko")&&!Xe&&!Ye&&!me,Bn=!Mi&&Ut("safari"),Ai=Ut("phantom"),Bi="OTransition"in Re,Nn=navigator.platform.indexOf("Win")===0,Ni=me&&"transition"in Re,Fe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ei,We="MozPerspective"in Re,kn=!window.L_DISABLE_3D&&(Ni||Fe||We)&&!Bi&&!Ai,Jt=typeof orientation<"u"||Ut("mobile"),Dn=Jt&&Xe,en=Jt&&Fe,ki=!window.PointerEvent&&window.MSPointerEvent,Di=!!(window.PointerEvent||ki),zi="ontouchstart"in window||!!window.TouchEvent,zn=!window.L_NO_TOUCH&&(zi||Di),Zn=Jt&&Ye,Rn=Jt&&Oi,Xn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Yn=function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",tt,n),window.removeEventListener("testPassiveEventSupport",tt,n)}catch{}return t}(),Fn=function(){return!!document.createElement("canvas").getContext}(),He=!!(document.createElementNS&&Ci("svg").createSVGRect),Wn=!!He&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Hn=!He&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}(),Kt=navigator.platform.indexOf("Mac")===0,H=navigator.platform.indexOf("Linux")===0;function Ut(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var F={ie:me,ielt9:Mn,edge:bi,webkit:Xe,android:Si,android23:Ei,androidStock:An,opera:Ye,chrome:Mi,gecko:Oi,safari:Bn,phantom:Ai,opera12:Bi,win:Nn,ie3d:Ni,webkit3d:Fe,gecko3d:We,any3d:kn,mobile:Jt,mobileWebkit:Dn,mobileWebkit3d:en,msPointer:ki,pointer:Di,touch:zn,touchNative:zi,mobileOpera:Zn,mobileGecko:Rn,retina:Xn,passiveEvents:Yn,canvas:Fn,svg:He,vml:Hn,inlineSvg:Wn,mac:Kt,linux:H},Zi=F.msPointer?"MSPointerDown":"pointerdown",Ri=F.msPointer?"MSPointerMove":"pointermove",ii=F.msPointer?"MSPointerUp":"pointerup",Xi=F.msPointer?"MSPointerCancel":"pointercancel",ce={touchstart:Zi,touchmove:Ri,touchend:ii,touchcancel:Xi},Yi={touchstart:Vn,touchmove:oe,touchend:oe,touchcancel:oe},we={},Le=!1;function nn(t,n,r){return n==="touchstart"&&Gn(),Yi[n]?(r=Yi[n].bind(this,r),t.addEventListener(ce[n],r,!1),r):(console.warn("wrong event specified:",n),tt)}function qn(t,n,r){if(!ce[n]){console.warn("wrong event specified:",n);return}t.removeEventListener(ce[n],r,!1)}function on(t){we[t.pointerId]=t}function Un(t){we[t.pointerId]&&(we[t.pointerId]=t)}function qe(t){delete we[t.pointerId]}function Gn(){Le||(document.addEventListener(Zi,on,!0),document.addEventListener(Ri,Un,!0),document.addEventListener(ii,qe,!0),document.addEventListener(Xi,qe,!0),Le=!0)}function oe(t,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var r in we)n.touches.push(we[r]);n.changedTouches=[n],t(n)}}function Vn(t,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&At(n),oe(t,n)}function Jn(t){var n={},r,u;for(u in t)r=t[u],n[u]=r&&r.bind?r.bind(t):r;return t=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var Kn=200;function Fi(t,n){t.addEventListener("dblclick",n);var r=0,u;function d(v){if(v.detail!==1){u=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var P=jn(v);if(!(P.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!P.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var T=Date.now();T-r<=Kn?(u++,u===2&&n(Jn(v))):u=1,r=T}}}return t.addEventListener("click",d),{dblclick:n,simDblclick:d}}function Ue(t,n){t.removeEventListener("dblclick",n.dblclick),t.removeEventListener("click",n.simDblclick)}var ni=f(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Te=f(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ce=Te==="webkitTransition"||Te==="OTransition"?Te+"End":"transitionend";function ut(t){return typeof t=="string"?document.getElementById(t):t}function it(t,n){var r=t.style[n]||t.currentStyle&&t.currentStyle[n];if((!r||r==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(t,null);r=u?u[n]:null}return r==="auto"?null:r}function at(t,n,r){var u=document.createElement(t);return u.className=n||"",r&&r.appendChild(u),u}function ft(t){var n=t.parentNode;n&&n.removeChild(t)}function se(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Q(t){var n=t.parentNode;n&&n.lastChild!==t&&n.appendChild(t)}function j(t){var n=t.parentNode;n&&n.firstChild!==t&&n.insertBefore(t,n.firstChild)}function xt(t,n){if(t.classList!==void 0)return t.classList.contains(n);var r=i(t);return r.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(r)}function et(t,n){if(t.classList!==void 0)for(var r=St(n),u=0,d=r.length;u<d;u++)t.classList.add(r[u]);else if(!xt(t,n)){var v=i(t);Xt(t,(v?v+" ":"")+n)}}function Pt(t,n){t.classList!==void 0?t.classList.remove(n):Xt(t,Nt((" "+i(t)+" ").replace(" "+n+" "," ")))}function Xt(t,n){t.className.baseVal===void 0?t.className=n:t.className.baseVal=n}function i(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function s(t,n){"opacity"in t.style?t.style.opacity=n:"filter"in t.style&&a(t,n)}function a(t,n){var r=!1,u="DXImageTransform.Microsoft.Alpha";try{r=t.filters.item(u)}catch{if(n===1)return}n=Math.round(n*100),r?(r.Enabled=n!==100,r.Opacity=n):t.style.filter+=" progid:"+u+"(opacity="+n+")"}function f(t){for(var n=document.documentElement.style,r=0;r<t.length;r++)if(t[r]in n)return t[r];return!1}function _(t,n,r){var u=n||new D(0,0);t.style[ni]=(F.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(r?" scale("+r+")":"")}function m(t,n){t._leaflet_pos=n,F.any3d?_(t,n):(t.style.left=n.x+"px",t.style.top=n.y+"px")}function g(t){return t._leaflet_pos||new D(0,0)}var x,C,I;if("onselectstart"in document)x=function(){Y(window,"selectstart",At)},C=function(){pt(window,"selectstart",At)};else{var A=f(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);x=function(){if(A){var t=document.documentElement.style;I=t[A],t[A]="none"}},C=function(){A&&(document.documentElement.style[A]=I,I=void 0)}}function N(){Y(window,"dragstart",At)}function X(){pt(window,"dragstart",At)}var q,W;function nt(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(_t(),q=t,W=t.style.outline,t.style.outline="none",Y(window,"keydown",_t))}function _t(){q&&(q.style.outline=W,q=void 0,W=void 0,pt(window,"keydown",_t))}function Et(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function G(t){var n=t.getBoundingClientRect();return{x:n.width/t.offsetWidth||1,y:n.height/t.offsetHeight||1,boundingClientRect:n}}var jt={__proto__:null,TRANSFORM:ni,TRANSITION:Te,TRANSITION_END:Ce,get:ut,getStyle:it,create:at,remove:ft,empty:se,toFront:Q,toBack:j,hasClass:xt,addClass:et,removeClass:Pt,setClass:Xt,getClass:i,setOpacity:s,testProp:f,setTransform:_,setPosition:m,getPosition:g,get disableTextSelection(){return x},get enableTextSelection(){return C},disableImageDrag:N,enableImageDrag:X,preventOutline:nt,restoreOutline:_t,getSizedParentNode:Et,getScale:G};function Y(t,n,r,u){if(n&&typeof n=="object")for(var d in n)ve(t,d,n[d],r);else{n=St(n);for(var v=0,P=n.length;v<P;v++)ve(t,n[v],r,u)}return this}var Mt="_leaflet_events";function pt(t,n,r,u){if(arguments.length===1)sn(t),delete t[Mt];else if(n&&typeof n=="object")for(var d in n)Hi(t,d,n[d],r);else if(n=St(n),arguments.length===2)sn(t,function(T){return Ne(n,T)!==-1});else for(var v=0,P=n.length;v<P;v++)Hi(t,n[v],r,u);return this}function sn(t,n){for(var r in t[Mt]){var u=r.split(/\d/)[0];(!n||n(u))&&Hi(t,u,null,null,r)}}var Wi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ve(t,n,r,u){var d=n+M(r)+(u?"_"+M(u):"");if(t[Mt]&&t[Mt][d])return this;var v=function(T){return r.call(u||t,T||window.event)},P=v;!F.touchNative&&F.pointer&&n.indexOf("touch")===0?v=nn(t,n,v):F.touch&&n==="dblclick"?v=Fi(t,v):"addEventListener"in t?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?t.addEventListener(Wi[n]||n,v,F.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(v=function(T){T=T||window.event,ht(t,T)&&P(T)},t.addEventListener(Wi[n],v,!1)):t.addEventListener(n,P,!1):t.attachEvent("on"+n,v),t[Mt]=t[Mt]||{},t[Mt][d]=v}function Hi(t,n,r,u,d){d=d||n+M(r)+(u?"_"+M(u):"");var v=t[Mt]&&t[Mt][d];if(!v)return this;!F.touchNative&&F.pointer&&n.indexOf("touch")===0?qn(t,n,v):F.touch&&n==="dblclick"?Ue(t,v):"removeEventListener"in t?t.removeEventListener(Wi[n]||n,v,!1):t.detachEvent("on"+n,v),t[Mt][d]=null}function re(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ot(t){return ve(t,"wheel",re),this}function ae(t){return Y(t,"mousedown touchstart dblclick contextmenu",re),t._leaflet_disable_click=!0,this}function At(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ge(t){return At(t),re(t),this}function jn(t){if(t.composedPath)return t.composedPath();for(var n=[],r=t.target;r;)n.push(r),r=r.parentNode;return n}function rn(t,n){if(!n)return new D(t.clientX,t.clientY);var r=G(n),u=r.boundingClientRect;return new D((t.clientX-u.left)/r.x-n.clientLeft,(t.clientY-u.top)/r.y-n.clientTop)}var Ho=F.linux&&F.chrome?window.devicePixelRatio:F.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $n(t){return F.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Ho:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function ht(t,n){var r=n.relatedTarget;if(!r)return!0;try{for(;r&&r!==t;)r=r.parentNode}catch{return!1}return r!==t}var qo={__proto__:null,on:Y,off:pt,stopPropagation:re,disableScrollPropagation:Ot,disableClickPropagation:ae,preventDefault:At,stop:Ge,getPropagationPath:jn,getMousePosition:rn,getWheelDelta:$n,isExternalTarget:ht,addListener:Y,removeListener:pt},$t=ie.extend({run:function(t,n,r,u){this.stop(),this._el=t,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=g(t),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ct(this._animate,this),this._step()},_step:function(t){var n=+new Date-this._startTime,r=this._duration*1e3;n<r?this._runFrame(this._easeOut(n/r),t):(this._runFrame(1),this._complete())},_runFrame:function(t,n){var r=this._startPos.add(this._offset.multiplyBy(t));n&&r._round(),m(this._el,r),this.fire("step")},_complete:function(){dt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ot=ie.extend({options:{crs:Ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,n){n=V(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=B(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(K(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Te&&F.any3d&&!F.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Y(this._proxy,Ce,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,r){if(n=n===void 0?this._zoom:this._limitZoom(n),t=this._limitCenter(K(t),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=S({animate:r.animate},r.zoom),r.pan=S({animate:r.animate,duration:r.duration},r.pan));var u=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,r.zoom):this._tryAnimatedPan(t,r.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(t,n,r.pan&&r.pan.noMoveStart),this},setZoom:function(t,n){return this._loaded?this.setView(this.getCenter(),t,{zoom:n}):(this._zoom=t,this)},zoomIn:function(t,n){return t=t||(F.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,n)},zoomOut:function(t,n){return t=t||(F.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,n)},setZoomAround:function(t,n,r){var u=this.getZoomScale(n),d=this.getSize().divideBy(2),v=t instanceof D?t:this.latLngToContainerPoint(t),P=v.subtract(d).multiplyBy(1-1/u),T=this.containerPointToLatLng(d.add(P));return this.setView(T,n,{zoom:r})},_getBoundsCenterZoom:function(t,n){n=n||{},t=t.getBounds?t.getBounds():rt(t);var r=z(n.paddingTopLeft||n.padding||[0,0]),u=z(n.paddingBottomRight||n.padding||[0,0]),d=this.getBoundsZoom(t,!1,r.add(u));if(d=typeof n.maxZoom=="number"?Math.min(n.maxZoom,d):d,d===1/0)return{center:t.getCenter(),zoom:d};var v=u.subtract(r).divideBy(2),P=this.project(t.getSouthWest(),d),T=this.project(t.getNorthEast(),d),b=this.unproject(P.add(T).divideBy(2).add(v),d);return{center:b,zoom:d}},fitBounds:function(t,n){if(t=rt(t),!t.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(t,n);return this.setView(r.center,r.zoom,n)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,n){return this.setView(t,this._zoom,{pan:n})},panBy:function(t,n){if(t=z(t).round(),n=n||{},!t.x&&!t.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $t,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){et(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,r,n.duration||.25,n.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,n,r){if(r=r||{},r.animate===!1||!F.any3d)return this.setView(t,n,r);this._stop();var u=this.project(this.getCenter()),d=this.project(t),v=this.getSize(),P=this._zoom;t=K(t),n=n===void 0?P:n;var T=Math.max(v.x,v.y),b=T*this.getZoomScale(P,n),O=d.distanceTo(u)||1,R=1.42,J=R*R;function st(Lt){var $i=Lt?-1:1,ns=Lt?b:T,bs=b*b-T*T+$i*J*J*O*O,Ss=2*ns*J*O,os=bs/Ss,ms=Math.sqrt(os*os+1)-os,Es=ms<1e-9?-18:Math.log(ms);return Es}function te(Lt){return(Math.exp(Lt)-Math.exp(-Lt))/2}function Qe(Lt){return(Math.exp(Lt)+Math.exp(-Lt))/2}function wn(Lt){return te(Lt)/Qe(Lt)}var xe=st(0);function co(Lt){return T*(Qe(xe)/Qe(xe+R*Lt))}function Zo(Lt){return T*(Qe(xe)*wn(xe+R*Lt)-te(xe))/J}function Tt(Lt){return 1-Math.pow(1-Lt,1.5)}var Ln=Date.now(),Ro=(st(1)-xe)/R,is=r.duration?1e3*r.duration:1e3*Ro*.8;function Xo(){var Lt=(Date.now()-Ln)/is,$i=Tt(Lt)*Ro;Lt<=1?(this._flyToFrame=ct(Xo,this),this._move(this.unproject(u.add(d.subtract(u).multiplyBy(Zo($i)/O)),P),this.getScaleZoom(T/co($i),P),{flyTo:!0})):this._move(t,n)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),Xo.call(this),this},flyToBounds:function(t,n){var r=this._getBoundsCenterZoom(t,n);return this.flyTo(r.center,r.zoom,n)},setMaxBounds:function(t){return t=rt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var n=this.options.minZoom;return this.options.minZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var n=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,n){this._enforcingBounds=!0;var r=this.getCenter(),u=this._limitCenter(r,this._zoom,rt(t));return r.equals(u)||this.panTo(u,n),this._enforcingBounds=!1,this},panInside:function(t,n){n=n||{};var r=z(n.paddingTopLeft||n.padding||[0,0]),u=z(n.paddingBottomRight||n.padding||[0,0]),d=this.project(this.getCenter()),v=this.project(t),P=this.getPixelBounds(),T=yt([P.min.add(r),P.max.subtract(u)]),b=T.getSize();if(!T.contains(v)){this._enforcingBounds=!0;var O=v.subtract(T.getCenter()),R=T.extend(v).getSize().subtract(b);d.x+=O.x<0?-R.x:R.x,d.y+=O.y<0?-R.y:R.y,this.panTo(this.unproject(d),n),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=S({animate:!1,pan:!0},t===!0?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),u=n.divideBy(2).round(),d=r.divideBy(2).round(),v=u.subtract(d);return!v.x&&!v.y?this:(t.animate&&t.pan?this.panBy(v):(t.pan&&this._rawPanBy(v),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(B(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=S({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=B(this._handleGeolocationResponse,this),r=B(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,r,t):navigator.geolocation.getCurrentPosition(n,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var n=t.code,r=t.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var n=t.coords.latitude,r=t.coords.longitude,u=new U(n,r),d=u.toBounds(t.coords.accuracy*2),v=this._locateOptions;if(v.setView){var P=this.getBoundsZoom(d);this.setView(u,v.maxZoom?Math.min(P,v.maxZoom):P)}var T={latlng:u,bounds:d,timestamp:t.timestamp};for(var b in t.coords)typeof t.coords[b]=="number"&&(T[b]=t.coords[b]);this.fire("locationfound",T)}},addHandler:function(t,n){if(!n)return this;var r=this[t]=new n(this);return this._handlers.push(r),this.options[t]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(dt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ft(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,n){var r="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),u=at("div",r,n||this._mapPane);return t&&(this._panes[t]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),n=this.unproject(t.getBottomLeft()),r=this.unproject(t.getTopRight());return new lt(n,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,n,r){t=rt(t),r=z(r||[0,0]);var u=this.getZoom()||0,d=this.getMinZoom(),v=this.getMaxZoom(),P=t.getNorthWest(),T=t.getSouthEast(),b=this.getSize().subtract(r),O=yt(this.project(T,u),this.project(P,u)).getSize(),R=F.any3d?this.options.zoomSnap:1,J=b.x/O.x,st=b.y/O.y,te=n?Math.max(J,st):Math.min(J,st);return u=this.getScaleZoom(te,u),R&&(u=Math.round(u/(R/100))*(R/100),u=n?Math.ceil(u/R)*R:Math.floor(u/R)*R),Math.max(d,Math.min(v,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,n){var r=this._getTopLeftPoint(t,n);return new $(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,n){var r=this.options.crs;return n=n===void 0?this._zoom:n,r.scale(t)/r.scale(n)},getScaleZoom:function(t,n){var r=this.options.crs;n=n===void 0?this._zoom:n;var u=r.zoom(t*r.scale(n));return isNaN(u)?1/0:u},project:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(K(t),n)},unproject:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(z(t),n)},layerPointToLatLng:function(t){var n=z(t).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(t){var n=this.project(K(t))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(K(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(rt(t))},distance:function(t,n){return this.options.crs.distance(K(t),K(n))},containerPointToLayerPoint:function(t){return z(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return z(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var n=this.containerPointToLayerPoint(z(t));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(t)))},mouseEventToContainerPoint:function(t){return rn(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var n=this._container=ut(t);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Y(n,"scroll",this._onScroll,this),this._containerId=M(n)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&F.any3d,et(t,"leaflet-container"+(F.touch?" leaflet-touch":"")+(F.retina?" leaflet-retina":"")+(F.ielt9?" leaflet-oldie":"")+(F.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=it(t,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),m(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(et(t.markerPane,"leaflet-zoom-hide"),et(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,n,r){m(this._mapPane,new D(0,0));var u=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var d=this._zoom!==n;this._moveStart(d,r)._move(t,n)._moveEnd(d),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(t,n){return t&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(t,n,r,u){n===void 0&&(n=this._zoom);var d=this._zoom!==n;return this._zoom=n,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),u?r&&r.pinch&&this.fire("zoom",r):((d||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return dt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){m(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[M(this._container)]=this;var n=t?pt:Y;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),F.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){dt(this._resizeRequest),this._resizeRequest=ct(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,n){for(var r=[],u,d=n==="mouseout"||n==="mouseover",v=t.target||t.srcElement,P=!1;v;){if(u=this._targets[M(v)],u&&(n==="click"||n==="preclick")&&this._draggableMoved(u)){P=!0;break}if(u&&u.listens(n,!0)&&(d&&!ht(v,t)||(r.push(u),d))||v===this._container)break;v=v.parentNode}return!r.length&&!P&&!d&&this.listens(n,!0)&&(r=[this]),r},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var n=t.target||t.srcElement;if(!(!this._loaded||n._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(n))){var r=t.type;r==="mousedown"&&nt(n),this._fireDOMEvent(t,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,r){if(t.type==="click"){var u=S({},t);u.type="preclick",this._fireDOMEvent(u,u.type,r)}var d=this._findEventTargets(t,n);if(r){for(var v=[],P=0;P<r.length;P++)r[P].listens(n,!0)&&v.push(r[P]);d=v.concat(d)}if(d.length){n==="contextmenu"&&At(t);var T=d[0],b={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var O=T.getLatLng&&(!T._radius||T._radius<=10);b.containerPoint=O?this.latLngToContainerPoint(T.getLatLng()):this.mouseEventToContainerPoint(t),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=O?T.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(P=0;P<d.length;P++)if(d[P].fire(n,b,!0),b.originalEvent._stopped||d[P].options.bubblingMouseEvents===!1&&Ne(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,n=this._handlers.length;t<n;t++)this._handlers[t].disable()},whenReady:function(t,n){return this._loaded?t.call(n||this,{target:this}):this.on("load",t,n),this},_getMapPanePos:function(){return g(this._mapPane)||new D(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,n){var r=t&&n!==void 0?this._getNewPixelOrigin(t,n):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,n){var r=this.getSize()._divideBy(2);return this.project(t,n)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,n,r){var u=this._getNewPixelOrigin(r,n);return this.project(t,n)._subtract(u)},_latLngBoundsToNewLayerBounds:function(t,n,r){var u=this._getNewPixelOrigin(r,n);return yt([this.project(t.getSouthWest(),n)._subtract(u),this.project(t.getNorthWest(),n)._subtract(u),this.project(t.getSouthEast(),n)._subtract(u),this.project(t.getNorthEast(),n)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,n,r){if(!r)return t;var u=this.project(t,n),d=this.getSize().divideBy(2),v=new $(u.subtract(d),u.add(d)),P=this._getBoundsOffset(v,r,n);return Math.abs(P.x)<=1&&Math.abs(P.y)<=1?t:this.unproject(u.add(P),n)},_limitOffset:function(t,n){if(!n)return t;var r=this.getPixelBounds(),u=new $(r.min.add(t),r.max.add(t));return t.add(this._getBoundsOffset(u,n))},_getBoundsOffset:function(t,n,r){var u=yt(this.project(n.getNorthEast(),r),this.project(n.getSouthWest(),r)),d=u.min.subtract(t.min),v=u.max.subtract(t.max),P=this._rebound(d.x,-v.x),T=this._rebound(d.y,-v.y);return new D(P,T)},_rebound:function(t,n){return t+n>0?Math.round(t-n)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(n))},_limitZoom:function(t){var n=this.getMinZoom(),r=this.getMaxZoom(),u=F.any3d?this.options.zoomSnap:1;return u&&(t=Math.round(t/u)*u),Math.max(n,Math.min(r,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,n){var r=this._getCenterOffset(t)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,n),!0)},_createAnimProxy:function(){var t=this._proxy=at("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(n){var r=ni,u=this._proxy.style[r];_(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),u===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),n=this.getZoom();_(this._proxy,this.project(t,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,n,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(n),d=this._getCenterOffset(t)._divideBy(1-1/u);return r.animate!==!0&&!this.getSize().contains(d)?!1:(ct(function(){this._moveStart(!0,!1)._animateZoom(t,n,!0)},this),!0)},_animateZoom:function(t,n,r,u){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=n,et(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:n,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(B(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function vo(t,n){return new ot(t,n)}var he=Ct.extend({options:{position:"topright"},initialize:function(t){V(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var n=this._map;return n&&n.removeControl(this),this.options.position=t,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var n=this._container=this.onAdd(t),r=this.getPosition(),u=t._controlCorners[r];return et(n,"leaflet-control"),r.indexOf("bottom")!==-1?u.insertBefore(n,u.firstChild):u.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ve=function(t){return new he(t)};ot.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},n="leaflet-",r=this._controlContainer=at("div",n+"control-container",this._container);function u(d,v){var P=n+d+" "+n+v;t[d+v]=at("div",P,r)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ft(this._controlCorners[t]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var go=he.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,n,r,u){return r<u?-1:u<r?1:0}},initialize:function(t,n,r){V(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var u in t)this._addLayer(t[u],u);for(u in n)this._addLayer(n[u],u,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return he.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,n){return this._addLayer(t,n),this._map?this._update():this},addOverlay:function(t,n){return this._addLayer(t,n,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var n=this._getLayer(M(t));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){et(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(et(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",n=this._container=at("div",t),r=this.options.collapsed;n.setAttribute("aria-haspopup",!0),ae(n),Ot(n);var u=this._section=at("section",t+"-list");r&&(this._map.on("click",this.collapse,this),Y(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=at("a",t+"-toggle",n);d.href="#",d.title="Layers",d.setAttribute("role","button"),Y(d,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){At(v),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=at("div",t+"-base",u),this._separator=at("div",t+"-separator",u),this._overlaysList=at("div",t+"-overlays",u),n.appendChild(u)},_getLayer:function(t){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&M(this._layers[n].layer)===t)return this._layers[n]},_addLayer:function(t,n,r){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:n,overlay:r}),this.options.sortLayers&&this._layers.sort(B(function(u,d){return this.options.sortFunction(u.layer,d.layer,u.name,d.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;se(this._baseLayersList),se(this._overlaysList),this._layerControlInputs=[];var t,n,r,u,d=0;for(r=0;r<this._layers.length;r++)u=this._layers[r],this._addItem(u),n=n||u.overlay,t=t||!u.overlay,d+=u.overlay?0:1;return this.options.hideSingleBase&&(t=t&&d>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=n&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var n=this._getLayer(M(t.target)),r=n.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;r&&this._map.fire(r,n)},_createRadioElement:function(t,n){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(n?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=r,u.firstChild},_addItem:function(t){var n=document.createElement("label"),r=this._map.hasLayer(t.layer),u;t.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=r):u=this._createRadioElement("leaflet-base-layers_"+M(this),r),this._layerControlInputs.push(u),u.layerId=M(t.layer),Y(u,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+t.name;var v=document.createElement("span");n.appendChild(v),v.appendChild(u),v.appendChild(d);var P=t.overlay?this._overlaysList:this._baseLayersList;return P.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t=this._layerControlInputs,n,r,u=[],d=[];this._handlingClick=!0;for(var v=t.length-1;v>=0;v--)n=t[v],r=this._getLayer(n.layerId).layer,n.checked?u.push(r):n.checked||d.push(r);for(v=0;v<d.length;v++)this._map.hasLayer(d[v])&&this._map.removeLayer(d[v]);for(v=0;v<u.length;v++)this._map.hasLayer(u[v])||this._map.addLayer(u[v]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,n,r,u=this._map.getZoom(),d=t.length-1;d>=0;d--)n=t[d],r=this._getLayer(n.layerId).layer,n.disabled=r.options.minZoom!==void 0&&u<r.options.minZoom||r.options.maxZoom!==void 0&&u>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;Y(t,"click",At),this.expand(),setTimeout(function(){pt(t,"click",At)})}}),yo=function(t,n,r){return new go(t,n,r)},Qn=he.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var n="leaflet-control-zoom",r=at("div",n+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,n+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,n+"-out",r,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,n,r,u,d){var v=at("a",r,u);return v.innerHTML=t,v.href="#",v.title=n,v.setAttribute("role","button"),v.setAttribute("aria-label",n),ae(v),Y(v,"click",Ge),Y(v,"click",d,this),Y(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var t=this._map,n="leaflet-disabled";Pt(this._zoomInButton,n),Pt(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(et(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(et(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});ot.mergeOptions({zoomControl:!0}),ot.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qn,this.addControl(this.zoomControl))});var Uo=function(t){return new Qn(t)},an=he.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var n="leaflet-control-scale",r=at("div",n),u=this.options;return this._addScales(u,n+"-line",r),t.on(u.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),r},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,n,r){t.metric&&(this._mScale=at("div",n,r)),t.imperial&&(this._iScale=at("div",n,r))},_update:function(){var t=this._map,n=t.getSize().y/2,r=t.distance(t.containerPointToLatLng([0,n]),t.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(r)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var n=this._getRoundNum(t),r=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,r,n/t)},_updateImperial:function(t){var n=t*3.2808399,r,u,d;n>5280?(r=n/5280,u=this._getRoundNum(r),this._updateScale(this._iScale,u+" mi",u/r)):(d=this._getRoundNum(n),this._updateScale(this._iScale,d+" ft",d/n))},_updateScale:function(t,n,r){t.style.width=Math.round(this.options.maxWidth*r)+"px",t.innerHTML=n},_getRoundNum:function(t){var n=Math.pow(10,(Math.floor(t)+"").length-1),r=t/n;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,n*r}}),Go=function(t){return new an(t)},de='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',to=he.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(F.inlineSvg?de+" ":"")+"Leaflet</a>"},initialize:function(t){V(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=at("div","leaflet-control-attribution"),ae(this._container);for(var n in t._layers)t._layers[n].getAttribution&&this.addAttribution(t._layers[n].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var n in this._attributions)this._attributions[n]&&t.push(n);var r=[];this.options.prefix&&r.push(this.options.prefix),t.length&&r.push(t.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});ot.mergeOptions({attributionControl:!0}),ot.addInitHook(function(){this.options.attributionControl&&new to().addTo(this)});var Po=function(t){return new to(t)};he.Layers=go,he.Zoom=Qn,he.Scale=an,he.Attribution=to,Ve.layers=yo,Ve.zoom=Uo,Ve.scale=Go,Ve.attribution=Po;var Dt=Ct.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Dt.addTo=function(t,n){return t.addHandler(n,this),this};var xo={Events:gt},eo=F.touch?"touchstart mousedown":"mousedown",Ie=ie.extend({options:{clickTolerance:3},initialize:function(t,n,r,u){V(this,u),this._element=t,this._dragStartTarget=n||t,this._preventOutline=r},enable:function(){this._enabled||(Y(this._dragStartTarget,eo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ie._dragging===this&&this.finishDrag(!0),pt(this._dragStartTarget,eo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!xt(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Ie._dragging===this&&this.finishDrag();return}if(!(Ie._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Ie._dragging=this,this._preventOutline&&nt(this._element),N(),x(),!this._moving)){this.fire("down");var n=t.touches?t.touches[0]:t,r=Et(this._element);this._startPoint=new D(n.clientX,n.clientY),this._startPos=g(this._element),this._parentScale=G(r);var u=t.type==="mousedown";Y(document,u?"mousemove":"touchmove",this._onMove,this),Y(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var n=t.touches&&t.touches.length===1?t.touches[0]:t,r=new D(n.clientX,n.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,At(t),this._moved||(this.fire("dragstart"),this._moved=!0,et(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),et(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),m(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Pt(document.body,"leaflet-dragging"),this._lastTarget&&(Pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pt(document,"mousemove touchmove",this._onMove,this),pt(document,"mouseup touchend touchcancel",this._onUp,this),X(),C(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Ie._dragging=!1}});function wo(t,n){if(!n||!t.length)return t.slice();var r=n*n;return t=un(t,r),t=Lo(t,r),t}function hn(t,n,r){return Math.sqrt(qi(t,n,r,!0))}function Vo(t,n,r){return qi(t,n,r)}function Lo(t,n){var r=t.length,u=typeof Uint8Array!=void 0+""?Uint8Array:Array,d=new u(r);d[0]=d[r-1]=1,ln(t,d,n,0,r-1);var v,P=[];for(v=0;v<r;v++)d[v]&&P.push(t[v]);return P}function ln(t,n,r,u,d){var v=0,P,T,b;for(T=u+1;T<=d-1;T++)b=qi(t[T],t[u],t[d],!0),b>v&&(P=T,v=b);v>r&&(n[P]=1,ln(t,n,r,u,P),ln(t,n,r,P,d))}function un(t,n){for(var r=[t[0]],u=1,d=0,v=t.length;u<v;u++)Co(t[u],t[d])>n&&(r.push(t[u]),d=u);return d<v-1&&r.push(t[v-1]),r}var be;function To(t,n,r,u,d){var v=u?be:Wt(t,r),P=Wt(n,r),T,b,O;for(be=P;;){if(!(v|P))return[t,n];if(v&P)return!1;T=v||P,b=Se(t,n,T,r,d),O=Wt(b,r),T===v?(t=b,v=O):(n=b,P=O)}}function Se(t,n,r,u,d){var v=n.x-t.x,P=n.y-t.y,T=u.min,b=u.max,O,R;return r&8?(O=t.x+v*(b.y-t.y)/P,R=b.y):r&4?(O=t.x+v*(T.y-t.y)/P,R=T.y):r&2?(O=b.x,R=t.y+P*(b.x-t.x)/v):r&1&&(O=T.x,R=t.y+P*(T.x-t.x)/v),new D(O,R,d)}function Wt(t,n){var r=0;return t.x<n.min.x?r|=1:t.x>n.max.x&&(r|=2),t.y<n.min.y?r|=4:t.y>n.max.y&&(r|=8),r}function Co(t,n){var r=n.x-t.x,u=n.y-t.y;return r*r+u*u}function qi(t,n,r,u){var d=n.x,v=n.y,P=r.x-d,T=r.y-v,b=P*P+T*T,O;return b>0&&(O=((t.x-d)*P+(t.y-v)*T)/b,O>1?(d=r.x,v=r.y):O>0&&(d+=P*O,v+=T*O)),P=t.x-d,T=t.y-v,u?P*P+T*T:new D(d,v)}function Gt(t){return!wt(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Io(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Gt(t)}function fn(t,n){var r,u,d,v,P,T,b,O;if(!t||t.length===0)throw new Error("latlngs not passed");Gt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var R=[];for(var J in t)R.push(n.project(K(t[J])));var st=R.length;for(r=0,u=0;r<st-1;r++)u+=R[r].distanceTo(R[r+1])/2;if(u===0)O=R[0];else for(r=0,v=0;r<st-1;r++)if(P=R[r],T=R[r+1],d=P.distanceTo(T),v+=d,v>u){b=(v-u)/d,O=[T.x-b*(T.x-P.x),T.y-b*(T.y-P.y)];break}return n.unproject(z(O))}var io={__proto__:null,simplify:wo,pointToSegmentDistance:hn,closestPointOnSegment:Vo,clipSegment:To,_getEdgeIntersection:Se,_getBitCode:Wt,_sqClosestPointOnSegment:qi,isFlat:Gt,_flat:Io,polylineCenter:fn};function bo(t,n,r){var u,d=[1,4,2,8],v,P,T,b,O,R,J,st;for(v=0,R=t.length;v<R;v++)t[v]._code=Wt(t[v],n);for(T=0;T<4;T++){for(J=d[T],u=[],v=0,R=t.length,P=R-1;v<R;P=v++)b=t[v],O=t[P],b._code&J?O._code&J||(st=Se(O,b,J,n,r),st._code=Wt(st,n),u.push(st)):(O._code&J&&(st=Se(O,b,J,n,r),st._code=Wt(st,n),u.push(st)),u.push(b));t=u}return t}function So(t,n){var r,u,d,v,P,T,b,O,R;if(!t||t.length===0)throw new Error("latlngs not passed");Gt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var J=[];for(var st in t)J.push(n.project(K(t[st])));var te=J.length;for(T=b=O=0,r=0,u=te-1;r<te;u=r++)d=J[r],v=J[u],P=d.y*v.x-v.y*d.x,b+=(d.x+v.x)*P,O+=(d.y+v.y)*P,T+=P*3;return T===0?R=J[0]:R=[b/T,O/T],n.unproject(z(R))}var Eo={__proto__:null,clipPolygon:bo,polygonCenter:So},no={project:function(t){return new D(t.lng,t.lat)},unproject:function(t){return new U(t.y,t.x)},bounds:new $([-180,-90],[180,90])},Vt={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var n=Math.PI/180,r=this.R,u=t.lat*n,d=this.R_MINOR/r,v=Math.sqrt(1-d*d),P=v*Math.sin(u),T=Math.tan(Math.PI/4-u/2)/Math.pow((1-P)/(1+P),v/2);return u=-r*Math.log(Math.max(T,1e-10)),new D(t.lng*n*r,u)},unproject:function(t){for(var n=180/Math.PI,r=this.R,u=this.R_MINOR/r,d=Math.sqrt(1-u*u),v=Math.exp(-t.y/r),P=Math.PI/2-2*Math.atan(v),T=0,b=.1,O;T<15&&Math.abs(b)>1e-7;T++)O=d*Math.sin(P),O=Math.pow((1-O)/(1+O),d/2),b=Math.PI/2-2*Math.atan(v*O)-P,P+=b;return new U(P*n,t.x*n/r)}},oi={__proto__:null,LonLat:no,Mercator:Vt,SphericalMercator:qt},Jo=S({},kt,{code:"EPSG:3395",projection:Vt,transformation:function(){var t=.5/(Math.PI*Vt.R);return ne(t,.5,-t,.5)}()}),Je=S({},kt,{code:"EPSG:4326",projection:no,transformation:ne(1/180,1,-1/180,.5)}),Ko=S({},It,{projection:no,transformation:ne(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,n){var r=n.lng-t.lng,u=n.lat-t.lat;return Math.sqrt(r*r+u*u)},infinite:!0});It.Earth=kt,It.EPSG3395=Jo,It.EPSG3857=Ze,It.EPSG900913=En,It.EPSG4326=Je,It.Simple=Ko;var Yt=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[M(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[M(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var n=t.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var r=this.getEvents();n.on(r,this),this.once("remove",function(){n.off(r,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});ot.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var n=M(t);return this._layers[n]?this:(this._layers[n]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var n=M(t);return this._layers[n]?(this._loaded&&t.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return M(t)in this._layers},eachLayer:function(t,n){for(var r in this._layers)t.call(n,this._layers[r]);return this},_addLayers:function(t){t=t?wt(t)?t:[t]:[];for(var n=0,r=t.length;n<r;n++)this.addLayer(t[n])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[M(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var n=M(t);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,n=-1/0,r=this._getZoomSpan();for(var u in this._zoomBoundLayers){var d=this._zoomBoundLayers[u].options;t=d.minZoom===void 0?t:Math.min(t,d.minZoom),n=d.maxZoom===void 0?n:Math.max(n,d.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=t===1/0?void 0:t,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var si=Yt.extend({initialize:function(t,n){V(this,n),this._layers={};var r,u;if(t)for(r=0,u=t.length;r<u;r++)this.addLayer(t[r])},addLayer:function(t){var n=this.getLayerId(t);return this._layers[n]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var n=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(t){var n=typeof t=="number"?t:this.getLayerId(t);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var n=Array.prototype.slice.call(arguments,1),r,u;for(r in this._layers)u=this._layers[r],u[t]&&u[t].apply(u,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,n){for(var r in this._layers)t.call(n,this._layers[r]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return M(t)}}),Ui=function(t,n){return new si(t,n)},_e=si.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),si.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),si.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new lt;for(var n in this._layers){var r=this._layers[n];t.extend(r.getBounds?r.getBounds():r.getLatLng())}return t}}),cn=function(t,n){return new _e(t,n)},ri=Ct.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){V(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,n){var r=this._getIconUrl(t);if(!r){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(r,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(u,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(t,n){var r=this.options,u=r[n+"Size"];typeof u=="number"&&(u=[u,u]);var d=z(u),v=z(n==="shadow"&&r.shadowAnchor||r.iconAnchor||d&&d.divideBy(2,!0));t.className="leaflet-marker-"+n+" "+(r.className||""),v&&(t.style.marginLeft=-v.x+"px",t.style.marginTop=-v.y+"px"),d&&(t.style.width=d.x+"px",t.style.height=d.y+"px")},_createImg:function(t,n){return n=n||document.createElement("img"),n.src=t,n},_getIconUrl:function(t){return F.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Ee(t){return new ri(t)}var Me=ri.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Me.imagePath!="string"&&(Me.imagePath=this._detectIconPath()),(this.options.imagePath||Me.imagePath)+ri.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var n=function(r,u,d){var v=u.exec(r);return v&&v[d]};return t=n(t,/^url\((['"])?(.+)\1\)$/,2),t&&n(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=at("div","leaflet-default-icon-path",document.body),n=it(t,"background-image")||it(t,"backgroundImage");if(document.body.removeChild(t),n=this._stripUrl(n),n)return n;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),Mo=Dt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Ie(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),et(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var n=this._marker,r=n._map,u=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,v=g(n._icon),P=r.getPixelBounds(),T=r.getPixelOrigin(),b=yt(P.min._subtract(T).add(d),P.max._subtract(T).subtract(d));if(!b.contains(v)){var O=z((Math.max(b.max.x,v.x)-b.max.x)/(P.max.x-b.max.x)-(Math.min(b.min.x,v.x)-b.min.x)/(P.min.x-b.min.x),(Math.max(b.max.y,v.y)-b.max.y)/(P.max.y-b.max.y)-(Math.min(b.min.y,v.y)-b.min.y)/(P.min.y-b.min.y)).multiplyBy(u);r.panBy(O,{animate:!1}),this._draggable._newPos._add(O),this._draggable._startPos._add(O),m(n._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=ct(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(dt(this._panRequest),this._panRequest=ct(this._adjustPan.bind(this,t)))},_onDrag:function(t){var n=this._marker,r=n._shadow,u=g(n._icon),d=n._map.layerPointToLatLng(u);r&&m(r,u),n._latlng=d,t.latlng=d,t.oldLatLng=this._oldLatLng,n.fire("move",t).fire("drag",t)},_onDragEnd:function(t){dt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),ai=Yt.extend({options:{icon:new Me,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,n){V(this,n),this._latlng=K(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var n=this._latlng;return this._latlng=K(t),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=t.icon.createIcon(this._icon),u=!1;r!==this._icon&&(this._icon&&this._removeIcon(),u=!0,t.title&&(r.title=t.title),r.tagName==="IMG"&&(r.alt=t.alt||"")),et(r,n),t.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Y(r,"focus",this._panOnFocus,this);var d=t.icon.createShadow(this._shadow),v=!1;d!==this._shadow&&(this._removeShadow(),v=!0),d&&(et(d,n),d.alt=""),this._shadow=d,t.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&v&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pt(this._icon,"focus",this._panOnFocus,this),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&m(this._icon,t),this._shadow&&m(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(et(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mo)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mo(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&s(this._icon,t),this._shadow&&s(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var n=this.options.icon.options,r=n.iconSize?z(n.iconSize):z(0,0),u=n.iconAnchor?z(n.iconAnchor):z(0,0);t.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:r.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function jo(t,n){return new ai(t,n)}var Ft=Yt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return V(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),dn=Ft.extend({options:{fill:!0,radius:10},initialize:function(t,n){V(this,n),this._latlng=K(t),this._radius=this.options.radius},setLatLng:function(t){var n=this._latlng;return this._latlng=K(t),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var n=t&&t.radius||this._radius;return Ft.prototype.setStyle.call(this,t),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,n=this._radiusY||t,r=this._clickTolerance(),u=[t+r,n+r];this._pxBounds=new $(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function hi(t,n){return new dn(t,n)}var oo=dn.extend({initialize:function(t,n,r){if(typeof n=="number"&&(n=S({},r,{radius:n})),V(this,n),this._latlng=K(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new lt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Ft.prototype.setStyle,_project:function(){var t=this._latlng.lng,n=this._latlng.lat,r=this._map,u=r.options.crs;if(u.distance===kt.distance){var d=Math.PI/180,v=this._mRadius/kt.R/d,P=r.project([n+v,t]),T=r.project([n-v,t]),b=P.add(T).divideBy(2),O=r.unproject(b).lat,R=Math.acos((Math.cos(v*d)-Math.sin(n*d)*Math.sin(O*d))/(Math.cos(n*d)*Math.cos(O*d)))/d;(isNaN(R)||R===0)&&(R=v/Math.cos(Math.PI/180*n)),this._point=b.subtract(r.getPixelOrigin()),this._radius=isNaN(R)?0:b.x-r.project([O,t-R]).x,this._radiusY=b.y-P.y}else{var J=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(J).x}this._updateBounds()}});function ge(t,n,r){return new oo(t,n,r)}var le=Ft.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,n){V(this,n),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var n=1/0,r=null,u=qi,d,v,P=0,T=this._parts.length;P<T;P++)for(var b=this._parts[P],O=1,R=b.length;O<R;O++){d=b[O-1],v=b[O];var J=u(t,d,v,!0);J<n&&(n=J,r=u(t,d,v))}return r&&(r.distance=Math.sqrt(n)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,n){return n=n||this._defaultShape(),t=K(t),n.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new lt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Gt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var n=[],r=Gt(t),u=0,d=t.length;u<d;u++)r?(n[u]=K(t[u]),this._bounds.extend(n[u])):n[u]=this._convertLatLngs(t[u]);return n},_project:function(){var t=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),n=new D(t,t);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(t,n,r){var u=t[0]instanceof U,d=t.length,v,P;if(u){for(P=[],v=0;v<d;v++)P[v]=this._map.latLngToLayerPoint(t[v]),r.extend(P[v]);n.push(P)}else for(v=0;v<d;v++)this._projectLatlngs(t[v],n,r)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,r,u,d,v,P,T,b;for(r=0,d=0,v=this._rings.length;r<v;r++)for(b=this._rings[r],u=0,P=b.length;u<P-1;u++)T=To(b[u],b[u+1],t,u,!0),T&&(n[d]=n[d]||[],n[d].push(T[0]),(T[1]!==b[u+1]||u===P-2)&&(n[d].push(T[1]),d++))}},_simplifyPoints:function(){for(var t=this._parts,n=this.options.smoothFactor,r=0,u=t.length;r<u;r++)t[r]=wo(t[r],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,n){var r,u,d,v,P,T,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,v=this._parts.length;r<v;r++)for(T=this._parts[r],u=0,P=T.length,d=P-1;u<P;d=u++)if(!(!n&&u===0)&&hn(t,T[d],T[u])<=b)return!0;return!1}});function Oo(t,n){return new le(t,n)}le._flat=Io;var Oe=le.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return So(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var n=le.prototype._convertLatLngs.call(this,t),r=n.length;return r>=2&&n[0]instanceof U&&n[0].equals(n[r-1])&&n.pop(),n},_setLatLngs:function(t){le.prototype._setLatLngs.call(this,t),Gt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Gt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,n=this.options.weight,r=new D(n,n);if(t=new $(t.min.subtract(r),t.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,d=this._rings.length,v;u<d;u++)v=bo(this._rings[u],t,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var n=!1,r,u,d,v,P,T,b,O;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(v=0,b=this._parts.length;v<b;v++)for(r=this._parts[v],P=0,O=r.length,T=O-1;P<O;T=P++)u=r[P],d=r[T],u.y>t.y!=d.y>t.y&&t.x<(d.x-u.x)*(t.y-u.y)/(d.y-u.y)+u.x&&(n=!n);return n||le.prototype._containsPoint.call(this,t,!0)}});function _n(t,n){return new Oe(t,n)}var ue=_e.extend({initialize:function(t,n){V(this,n),this._layers={},t&&this.addData(t)},addData:function(t){var n=wt(t)?t:t.features,r,u,d;if(n){for(r=0,u=n.length;r<u;r++)d=n[r],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var v=this.options;if(v.filter&&!v.filter(t))return this;var P=Ke(t,v);return P?(P.feature=vn(t),P.defaultOptions=P.options,this.resetStyle(P),v.onEachFeature&&v.onEachFeature(t,P),this.addLayer(P)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=S({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(n){this._setLayerStyle(n,t)},this)},_setLayerStyle:function(t,n){t.setStyle&&(typeof n=="function"&&(n=n(t.feature)),t.setStyle(n))}});function Ke(t,n){var r=t.type==="Feature"?t.geometry:t,u=r?r.coordinates:null,d=[],v=n&&n.pointToLayer,P=n&&n.coordsToLatLng||li,T,b,O,R;if(!u&&!r)return null;switch(r.type){case"Point":return T=P(u),je(v,t,T,n);case"MultiPoint":for(O=0,R=u.length;O<R;O++)T=P(u[O]),d.push(je(v,t,T,n));return new _e(d);case"LineString":case"MultiLineString":return b=ui(u,r.type==="LineString"?0:1,P),new le(b,n);case"Polygon":case"MultiPolygon":return b=ui(u,r.type==="Polygon"?1:2,P),new Oe(b,n);case"GeometryCollection":for(O=0,R=r.geometries.length;O<R;O++){var J=Ke({geometry:r.geometries[O],type:"Feature",properties:t.properties},n);J&&d.push(J)}return new _e(d);case"FeatureCollection":for(O=0,R=r.features.length;O<R;O++){var st=Ke(r.features[O],n);st&&d.push(st)}return new _e(d);default:throw new Error("Invalid GeoJSON object.")}}function je(t,n,r,u){return t?t(n,r):new ai(r,u&&u.markersInheritOptions&&u)}function li(t){return new U(t[1],t[0],t[2])}function ui(t,n,r){for(var u=[],d=0,v=t.length,P;d<v;d++)P=n?ui(t[d],n-1,r):(r||li)(t[d]),u.push(P);return u}function pn(t,n){return t=K(t),t.alt!==void 0?[vt(t.lng,n),vt(t.lat,n),vt(t.alt,n)]:[vt(t.lng,n),vt(t.lat,n)]}function mn(t,n,r,u){for(var d=[],v=0,P=t.length;v<P;v++)d.push(n?mn(t[v],Gt(t[v])?0:n-1,r,u):pn(t[v],u));return!n&&r&&d.push(d[0].slice()),d}function ye(t,n){return t.feature?S({},t.feature,{geometry:n}):vn(n)}function vn(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var gn={toGeoJSON:function(t){return ye(this,{type:"Point",coordinates:pn(this.getLatLng(),t)})}};ai.include(gn),oo.include(gn),dn.include(gn),le.include({toGeoJSON:function(t){var n=!Gt(this._latlngs),r=mn(this._latlngs,n?1:0,!1,t);return ye(this,{type:(n?"Multi":"")+"LineString",coordinates:r})}}),Oe.include({toGeoJSON:function(t){var n=!Gt(this._latlngs),r=n&&!Gt(this._latlngs[0]),u=mn(this._latlngs,r?2:n?1:0,!0,t);return n||(u=[u]),ye(this,{type:(r?"Multi":"")+"Polygon",coordinates:u})}}),si.include({toMultiPoint:function(t){var n=[];return this.eachLayer(function(r){n.push(r.toGeoJSON(t).geometry.coordinates)}),ye(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(t){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(t);var r=n==="GeometryCollection",u=[];return this.eachLayer(function(d){if(d.toGeoJSON){var v=d.toGeoJSON(t);if(r)u.push(v.geometry);else{var P=vn(v);P.type==="FeatureCollection"?u.push.apply(u,P.features):u.push(P)}}}),r?ye(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function Ao(t,n){return new ue(t,n)}var Bo=Ao,yn=Yt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,n,r){this._url=t,this._bounds=rt(n),V(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(et(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Q(this._image),this},bringToBack:function(){return this._map&&j(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=rt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",n=this._image=t?this._url:at("img");if(et(n,"leaflet-image-layer"),this._zoomAnimated&&et(n,"leaflet-zoom-animated"),this.options.className&&et(n,this.options.className),n.onselectstart=tt,n.onmousemove=tt,n.onload=B(this.fire,this,"load"),n.onerror=B(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(t){var n=this._map.getZoomScale(t.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;_(this._image,r,n)},_reset:function(){var t=this._image,n=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=n.getSize();m(t,n.min),t.style.width=r.x+"px",t.style.height=r.y+"px"},_updateOpacity:function(){s(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),pe=function(t,n,r){return new yn(t,n,r)},Gi=yn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",n=this._image=t?this._url:at("video");if(et(n,"leaflet-image-layer"),this._zoomAnimated&&et(n,"leaflet-zoom-animated"),this.options.className&&et(n,this.options.className),n.onselectstart=tt,n.onmousemove=tt,n.onloadeddata=B(this.fire,this,"load"),t){for(var r=n.getElementsByTagName("source"),u=[],d=0;d<r.length;d++)u.push(r[d].src);this._url=r.length>0?u:[n.src];return}wt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var P=at("source");P.src=this._url[v],n.appendChild(P)}}});function $o(t,n,r){return new Gi(t,n,r)}var Vi=yn.extend({_initImage:function(){var t=this._image=this._url;et(t,"leaflet-image-layer"),this._zoomAnimated&&et(t,"leaflet-zoom-animated"),this.options.className&&et(t,this.options.className),t.onselectstart=tt,t.onmousemove=tt}});function Qo(t,n,r){return new Vi(t,n,r)}var fe=Yt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,n){t&&(t instanceof U||wt(t))?(this._latlng=K(t),V(this,n)):(V(this,t),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&s(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&s(this._container,1),this.bringToFront(),this.options.interactive&&(et(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(s(this._container,0),this._removeTimeout=setTimeout(B(ft,void 0,this._container),200)):ft(this._container),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=K(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Q(this._container),this},bringToBack:function(){return this._map&&j(this._container),this},_prepareOpen:function(t){var n=this._source;if(!n._map)return!1;if(n instanceof _e){n=null;var r=this._source._layers;for(var u in r)if(r[u]._map){n=r[u];break}if(!n)return!1;this._source=n}if(!t)if(n.getCenter)t=n.getCenter();else if(n.getLatLng)t=n.getLatLng();else if(n.getBounds)t=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")t.innerHTML=n;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),n=z(this.options.offset),r=this._getAnchor();this._zoomAnimated?m(this._container,t.add(r)):n=n.add(t).add(r);var u=this._containerBottom=-n.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=u+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});ot.include({_initOverlay:function(t,n,r,u){var d=n;return d instanceof t||(d=new t(u).setContent(n)),r&&d.setLatLng(r),d}}),Yt.include({_initOverlay:function(t,n,r,u){var d=r;return d instanceof t?(V(d,u),d._source=this):(d=n&&!u?n:new t(u,this),d.setContent(r)),d}});var Pn=fe.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,fe.prototype.openOn.call(this,t)},onAdd:function(t){fe.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ft||this._source.on("preclick",re))},onRemove:function(t){fe.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ft||this._source.off("preclick",re))},getEvents:function(){var t=fe.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",n=this._container=at("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=at("div",t+"-content-wrapper",n);if(this._contentNode=at("div",t+"-content",r),ae(n),Ot(this._contentNode),Y(n,"contextmenu",re),this._tipContainer=at("div",t+"-tip-container",n),this._tip=at("div",t+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=at("a",t+"-close-button",n);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',Y(u,"click",function(d){At(d),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,n=t.style;n.width="",n.whiteSpace="nowrap";var r=t.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),n.width=r+1+"px",n.whiteSpace="",n.height="";var u=t.offsetHeight,d=this.options.maxHeight,v="leaflet-popup-scrolled";d&&u>d?(n.height=d+"px",et(t,v)):Pt(t,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),r=this._getAnchor();m(this._container,n.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,n=parseInt(it(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+n,u=this._containerWidth,d=new D(this._containerLeft,-r-this._containerBottom);d._add(g(this._container));var v=t.layerPointToContainerPoint(d),P=z(this.options.autoPanPadding),T=z(this.options.autoPanPaddingTopLeft||P),b=z(this.options.autoPanPaddingBottomRight||P),O=t.getSize(),R=0,J=0;v.x+u+b.x>O.x&&(R=v.x+u-O.x+b.x),v.x-R-T.x<0&&(R=v.x-T.x),v.y+r+b.y>O.y&&(J=v.y+r-O.y+b.y),v.y-J-T.y<0&&(J=v.y-T.y),(R||J)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([R,J]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ji=function(t,n){return new Pn(t,n)};ot.mergeOptions({closePopupOnClick:!0}),ot.include({openPopup:function(t,n,r){return this._initOverlay(Pn,t,n,r).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Yt.include({bindPopup:function(t,n){return this._popup=this._initOverlay(Pn,this._popup,t,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof _e||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Ge(t);var n=t.layer||t.target;if(this._popup._source===n&&!(n instanceof Ft)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=n,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var xn=fe.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){fe.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){fe.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=fe.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",n=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=at("div",n),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+M(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var n,r,u=this._map,d=this._container,v=u.latLngToContainerPoint(u.getCenter()),P=u.layerPointToContainerPoint(t),T=this.options.direction,b=d.offsetWidth,O=d.offsetHeight,R=z(this.options.offset),J=this._getAnchor();T==="top"?(n=b/2,r=O):T==="bottom"?(n=b/2,r=0):T==="center"?(n=b/2,r=O/2):T==="right"?(n=0,r=O/2):T==="left"?(n=b,r=O/2):P.x<v.x?(T="right",n=0,r=O/2):(T="left",n=b+(R.x+J.x)*2,r=O/2),t=t.subtract(z(n,r,!0)).add(R).add(J),Pt(d,"leaflet-tooltip-right"),Pt(d,"leaflet-tooltip-left"),Pt(d,"leaflet-tooltip-top"),Pt(d,"leaflet-tooltip-bottom"),et(d,"leaflet-tooltip-"+T),m(d,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&s(this._container,t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(n)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),fi=function(t,n){return new xn(t,n)};ot.include({openTooltip:function(t,n,r){return this._initOverlay(xn,t,n,r).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Yt.include({bindTooltip:function(t,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(xn,this._tooltip,t,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var n=t?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[n](r),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof _e||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var n=t.getElement();n&&(Y(n,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Y(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var n=t.getElement();n&&n.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var n=t.latlng,r,u;this._tooltip.options.sticky&&t.originalEvent&&(r=this._map.mouseEventToContainerPoint(t.originalEvent),u=this._map.containerPointToLayerPoint(r),n=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(n)}});var so=ri.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var n=t&&t.tagName==="DIV"?t:document.createElement("div"),r=this.options;if(r.html instanceof Element?(se(n),n.appendChild(r.html)):n.innerHTML=r.html!==!1?r.html:"",r.bgPos){var u=z(r.bgPos);n.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function No(t){return new so(t)}ri.Default=Me;var Ki=Yt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:F.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){V(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ft(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Q(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(j(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Ht(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof D?t:new D(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var n=this.getPane().children,r=-t(-1/0,1/0),u=0,d=n.length,v;u<d;u++)v=n[u].style.zIndex,n[u]!==this._container&&v&&(r=t(r,+v));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!F.ielt9){s(this._container,this.options.opacity);var t=+new Date,n=!1,r=!1;for(var u in this._tiles){var d=this._tiles[u];if(!(!d.current||!d.loaded)){var v=Math.min(1,(t-d.loaded)/200);s(d.el,v),v<1?n=!0:(d.active?r=!0:this._onOpaqueTile(d),d.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),n&&(dt(this._fadeFrame),this._fadeFrame=ct(this._updateOpacity,this))}},_onOpaqueTile:tt,_initContainer:function(){this._container||(this._container=at("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,n=this.options.maxZoom;if(t!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===t?(this._levels[r].el.style.zIndex=n-Math.abs(t-r),this._onUpdateLevel(r)):(ft(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var u=this._levels[t],d=this._map;return u||(u=this._levels[t]={},u.el=at("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=n,u.origin=d.project(d.unproject(d.getPixelOrigin()),t).round(),u.zoom=t,this._setZoomTransform(u,d.getCenter(),d.getZoom()),tt(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:tt,_onRemoveLevel:tt,_onCreateLevel:tt,_pruneTiles:function(){if(this._map){var t,n,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)n=this._tiles[t],n.retain=n.current;for(t in this._tiles)if(n=this._tiles[t],n.current&&!n.active){var u=n.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var n in this._tiles)this._tiles[n].coords.z===t&&this._removeTile(n)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ft(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,n,r,u){var d=Math.floor(t/2),v=Math.floor(n/2),P=r-1,T=new D(+d,+v);T.z=+P;var b=this._tileCoordsToKey(T),O=this._tiles[b];return O&&O.active?(O.retain=!0,!0):(O&&O.loaded&&(O.retain=!0),P>u?this._retainParent(d,v,P,u):!1)},_retainChildren:function(t,n,r,u){for(var d=2*t;d<2*t+2;d++)for(var v=2*n;v<2*n+2;v++){var P=new D(d,v);P.z=r+1;var T=this._tileCoordsToKey(P),b=this._tiles[T];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);r+1<u&&this._retainChildren(d,v,r+1,u)}},_resetView:function(t){var n=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var n=this.options;return n.minNativeZoom!==void 0&&t<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<t?n.maxNativeZoom:t},_setView:function(t,n,r,u){var d=Math.round(n);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var v=this.options.updateWhenZooming&&d!==this._tileZoom;(!u||v)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(t),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(t,n)},_setZoomTransforms:function(t,n){for(var r in this._levels)this._setZoomTransform(this._levels[r],t,n)},_setZoomTransform:function(t,n,r){var u=this._map.getZoomScale(r,t.zoom),d=t.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(n,r)).round();F.any3d?_(t.el,d,u):m(t.el,d)},_resetGrid:function(){var t=this._map,n=t.options.crs,r=this._tileSize=this.getTileSize(),u=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,n.wrapLng[0]],u).x/r.x),Math.ceil(t.project([0,n.wrapLng[1]],u).x/r.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([n.wrapLat[0],0],u).y/r.x),Math.ceil(t.project([n.wrapLat[1],0],u).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var n=this._map,r=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),u=n.getZoomScale(r,this._tileZoom),d=n.project(t,this._tileZoom).floor(),v=n.getSize().divideBy(u*2);return new $(d.subtract(v),d.add(v))},_update:function(t){var n=this._map;if(n){var r=this._clampZoom(n.getZoom());if(t===void 0&&(t=n.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(t),d=this._pxBoundsToTileRange(u),v=d.getCenter(),P=[],T=this.options.keepBuffer,b=new $(d.getBottomLeft().subtract([T,-T]),d.getTopRight().add([T,-T]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var O in this._tiles){var R=this._tiles[O].coords;(R.z!==this._tileZoom||!b.contains(new D(R.x,R.y)))&&(this._tiles[O].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(t,r);return}for(var J=d.min.y;J<=d.max.y;J++)for(var st=d.min.x;st<=d.max.x;st++){var te=new D(st,J);if(te.z=this._tileZoom,!!this._isValidTile(te)){var Qe=this._tiles[this._tileCoordsToKey(te)];Qe?Qe.current=!0:P.push(te)}}if(P.sort(function(xe,co){return xe.distanceTo(v)-co.distanceTo(v)}),P.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var wn=document.createDocumentFragment();for(st=0;st<P.length;st++)this._addTile(P[st],wn);this._level.el.appendChild(wn)}}}},_isValidTile:function(t){var n=this._map.options.crs;if(!n.infinite){var r=this._globalTileRange;if(!n.wrapLng&&(t.x<r.min.x||t.x>r.max.x)||!n.wrapLat&&(t.y<r.min.y||t.y>r.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(t);return rt(this.options.bounds).overlaps(u)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var n=this._map,r=this.getTileSize(),u=t.scaleBy(r),d=u.add(r),v=n.unproject(u,t.z),P=n.unproject(d,t.z);return[v,P]},_tileCoordsToBounds:function(t){var n=this._tileCoordsToNwSe(t),r=new lt(n[0],n[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var n=t.split(":"),r=new D(+n[0],+n[1]);return r.z=+n[2],r},_removeTile:function(t){var n=this._tiles[t];n&&(ft(n.el),delete this._tiles[t],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){et(t,"leaflet-tile");var n=this.getTileSize();t.style.width=n.x+"px",t.style.height=n.y+"px",t.onselectstart=tt,t.onmousemove=tt,F.ielt9&&this.options.opacity<1&&s(t,this.options.opacity)},_addTile:function(t,n){var r=this._getTilePos(t),u=this._tileCoordsToKey(t),d=this.createTile(this._wrapCoords(t),B(this._tileReady,this,t));this._initTile(d),this.createTile.length<2&&ct(B(this._tileReady,this,t,null,d)),m(d,r),this._tiles[u]={el:d,coords:t,current:!0},n.appendChild(d),this.fire("tileloadstart",{tile:d,coords:t})},_tileReady:function(t,n,r){n&&this.fire("tileerror",{error:n,tile:r,coords:t});var u=this._tileCoordsToKey(t);r=this._tiles[u],r&&(r.loaded=+new Date,this._map._fadeAnimated?(s(r.el,0),dt(this._fadeFrame),this._fadeFrame=ct(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),n||(et(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),F.ielt9||!this._map._fadeAnimated?ct(this._pruneTiles,this):setTimeout(B(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var n=new D(this._wrapX?Bt(t.x,this._wrapX):t.x,this._wrapY?Bt(t.y,this._wrapY):t.y);return n.z=t.z,n},_pxBoundsToTileRange:function(t){var n=this.getTileSize();return new $(t.min.unscaleBy(n).floor(),t.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Pe(t){return new Ki(t)}var $e=Ki.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,n){this._url=t,n=V(this,n),n.detectRetina&&F.retina&&n.maxZoom>0?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,n){return this._url===t&&n===void 0&&(n=!0),this._url=t,n||this.redraw(),this},createTile:function(t,n){var r=document.createElement("img");return Y(r,"load",B(this._tileOnLoad,this,n,r)),Y(r,"error",B(this._tileOnError,this,n,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(t),r},getTileUrl:function(t){var n={r:F.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=r),n["-y"]=r}return ei(this._url,S(n,this.options))},_tileOnLoad:function(t,n){F.ielt9?setTimeout(B(t,this,null,n),0):t(null,n)},_tileOnError:function(t,n,r){var u=this.options.errorTileUrl;u&&n.getAttribute("src")!==u&&(n.src=u),t(r,n)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,n=this.options.maxZoom,r=this.options.zoomReverse,u=this.options.zoomOffset;return r&&(t=n-t),t+u},_getSubdomain:function(t){var n=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var t,n;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(n=this._tiles[t].el,n.onload=tt,n.onerror=tt,!n.complete)){n.src=Rt;var r=this._tiles[t].coords;ft(n),delete this._tiles[t],this.fire("tileabort",{tile:n,coords:r})}},_removeTile:function(t){var n=this._tiles[t];if(n)return n.el.setAttribute("src",Rt),Ki.prototype._removeTile.call(this,t)},_tileReady:function(t,n,r){if(!(!this._map||r&&r.getAttribute("src")===Rt))return Ki.prototype._tileReady.call(this,t,n,r)}});function ro(t,n){return new $e(t,n)}var ci=$e.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var r=S({},this.defaultWmsParams);for(var u in n)u in this.options||(r[u]=n[u]);n=V(this,n);var d=n.detectRetina&&F.retina?2:1,v=this.getTileSize();r.width=v.x*d,r.height=v.y*d,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,$e.prototype.onAdd.call(this,t)},getTileUrl:function(t){var n=this._tileCoordsToNwSe(t),r=this._crs,u=yt(r.project(n[0]),r.project(n[1])),d=u.min,v=u.max,P=(this._wmsVersion>=1.3&&this._crs===Je?[d.y,d.x,v.y,v.x]:[d.x,d.y,v.x,v.y]).join(","),T=$e.prototype.getTileUrl.call(this,t);return T+Zt(this.wmsParams,T,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+P},setParams:function(t,n){return S(this.wmsParams,t),n||this.redraw(),this}});function ts(t,n){return new ci(t,n)}$e.WMS=ci,ro.wms=ts;var Qt=Yt.extend({options:{padding:.1},initialize:function(t){V(this,t),M(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&et(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,n){var r=this._map.getZoomScale(n,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,n),v=u.multiplyBy(-r).add(d).subtract(this._map._getNewPixelOrigin(t,n));F.any3d?_(this._container,v,r):m(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,n=this._map.getSize(),r=this._map.containerPointToLayerPoint(n.multiplyBy(-t)).round();this._bounds=new $(r,r.add(n.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),di=Qt.extend({options:{tolerance:0},getEvents:function(){var t=Qt.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Qt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Y(t,"mousemove",this._onMouseMove,this),Y(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Y(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){dt(this._redrawRequest),delete this._ctx,ft(this._container),pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var n in this._layers)t=this._layers[n],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qt.prototype._update.call(this);var t=this._bounds,n=this._container,r=t.getSize(),u=F.retina?2:1;m(n,t.min),n.width=u*r.x,n.height=u*r.y,n.style.width=r.x+"px",n.style.height=r.y+"px",F.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Qt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[M(t)]=t;var n=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var n=t._order,r=n.next,u=n.prev;r?r.prev=u:this._drawLast=u,u?u.next=r:this._drawFirst=r,delete t._order,delete this._layers[M(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var n=t.options.dashArray.split(/[, ]+/),r=[],u,d;for(d=0;d<n.length;d++){if(u=Number(n[d]),isNaN(u))return;r.push(u)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||ct(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var n=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(t._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(t._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var n=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,n=this._redrawBounds;if(this._ctx.save(),n){var r=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)t=u.layer,(!n||t._pxBounds&&t._pxBounds.intersects(n))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,n){if(this._drawing){var r,u,d,v,P=t._parts,T=P.length,b=this._ctx;if(T){for(b.beginPath(),r=0;r<T;r++){for(u=0,d=P[r].length;u<d;u++)v=P[r][u],b[u?"lineTo":"moveTo"](v.x,v.y);n&&b.closePath()}this._fillStroke(b,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var n=t._point,r=this._ctx,u=Math.max(Math.round(t._radius),1),d=(Math.max(Math.round(t._radiusY),1)||u)/u;d!==1&&(r.save(),r.scale(1,d)),r.beginPath(),r.arc(n.x,n.y/d,u,0,Math.PI*2,!1),d!==1&&r.restore(),this._fillStroke(r,t)}},_fillStroke:function(t,n){var r=n.options;r.fill&&(t.globalAlpha=r.fillOpacity,t.fillStyle=r.fillColor||r.color,t.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(t.setLineDash&&t.setLineDash(n.options&&n.options._dashArray||[]),t.globalAlpha=r.opacity,t.lineWidth=r.weight,t.strokeStyle=r.color,t.lineCap=r.lineCap,t.lineJoin=r.lineJoin,t.stroke())},_onClick:function(t){for(var n=this._map.mouseEventToLayerPoint(t),r,u,d=this._drawFirst;d;d=d.next)r=d.layer,r.options.interactive&&r._containsPoint(n)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(r))&&(u=r);this._fireEvent(u?[u]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,n)}},_handleMouseOut:function(t){var n=this._hoveredLayer;n&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,n){if(!this._mouseHoverThrottled){for(var r,u,d=this._drawFirst;d;d=d.next)r=d.layer,r.options.interactive&&r._containsPoint(n)&&(u=r);u!==this._hoveredLayer&&(this._handleMouseOut(t),u&&(et(this._container,"leaflet-interactive"),this._fireEvent([u],t,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(B(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,n,r){this._map._fireDOMEvent(n,r||n.type,t)},_bringToFront:function(t){var n=t._order;if(n){var r=n.next,u=n.prev;if(r)r.prev=u;else return;u?u.next=r:r&&(this._drawFirst=r),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(t)}},_bringToBack:function(t){var n=t._order;if(n){var r=n.next,u=n.prev;if(u)u.next=r;else return;r?r.prev=u:u&&(this._drawLast=u),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(t)}}});function ao(t){return F.canvas?new di(t):null}var _i=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),es={_initContainer:function(){this._container=at("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Qt.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var n=t._container=_i("shape");et(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",t._path=_i("path"),n.appendChild(t._path),this._updateStyle(t),this._layers[M(t)]=t},_addPath:function(t){var n=t._container;this._container.appendChild(n),t.options.interactive&&t.addInteractiveTarget(n)},_removePath:function(t){var n=t._container;ft(n),t.removeInteractiveTarget(n),delete this._layers[M(t)]},_updateStyle:function(t){var n=t._stroke,r=t._fill,u=t.options,d=t._container;d.stroked=!!u.stroke,d.filled=!!u.fill,u.stroke?(n||(n=t._stroke=_i("stroke")),d.appendChild(n),n.weight=u.weight+"px",n.color=u.color,n.opacity=u.opacity,u.dashArray?n.dashStyle=wt(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=u.lineCap.replace("butt","flat"),n.joinstyle=u.lineJoin):n&&(d.removeChild(n),t._stroke=null),u.fill?(r||(r=t._fill=_i("fill")),d.appendChild(r),r.color=u.fillColor||u.color,r.opacity=u.fillOpacity):r&&(d.removeChild(r),t._fill=null)},_updateCircle:function(t){var n=t._point.round(),r=Math.round(t._radius),u=Math.round(t._radiusY||r);this._setPath(t,t._empty()?"M0 0":"AL "+n.x+","+n.y+" "+r+","+u+" 0,"+65535*360)},_setPath:function(t,n){t._path.v=n},_bringToFront:function(t){Q(t._container)},_bringToBack:function(t){j(t._container)}},ji=F.vml?_i:Ci,pi=Qt.extend({_initContainer:function(){this._container=ji("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ji("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qt.prototype._update.call(this);var t=this._bounds,n=t.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,r.setAttribute("width",n.x),r.setAttribute("height",n.y)),m(r,t.min),r.setAttribute("viewBox",[t.min.x,t.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(t){var n=t._path=ji("path");t.options.className&&et(n,t.options.className),t.options.interactive&&et(n,"leaflet-interactive"),this._updateStyle(t),this._layers[M(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ft(t._path),t.removeInteractiveTarget(t._path),delete this._layers[M(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var n=t._path,r=t.options;n&&(r.stroke?(n.setAttribute("stroke",r.color),n.setAttribute("stroke-opacity",r.opacity),n.setAttribute("stroke-width",r.weight),n.setAttribute("stroke-linecap",r.lineCap),n.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?n.setAttribute("stroke-dasharray",r.dashArray):n.removeAttribute("stroke-dasharray"),r.dashOffset?n.setAttribute("stroke-dashoffset",r.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),r.fill?(n.setAttribute("fill",r.fillColor||r.color),n.setAttribute("fill-opacity",r.fillOpacity),n.setAttribute("fill-rule",r.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(t,n){this._setPath(t,Ii(t._parts,n))},_updateCircle:function(t){var n=t._point,r=Math.max(Math.round(t._radius),1),u=Math.max(Math.round(t._radiusY),1)||r,d="a"+r+","+u+" 0 1,0 ",v=t._empty()?"M0 0":"M"+(n.x-r)+","+n.y+d+r*2+",0 "+d+-r*2+",0 ";this._setPath(t,v)},_setPath:function(t,n){t._path.setAttribute("d",n)},_bringToFront:function(t){Q(t._path)},_bringToBack:function(t){j(t._path)}});F.vml&&pi.include(es);function ho(t){return F.svg||F.vml?new pi(t):null}ot.include({getRenderer:function(t){var n=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var n=this._paneRenderers[t];return n===void 0&&(n=this._createRenderer({pane:t}),this._paneRenderers[t]=n),n},_createRenderer:function(t){return this.options.preferCanvas&&ao(t)||ho(t)}});var lo=Oe.extend({initialize:function(t,n){Oe.prototype.initialize.call(this,this._boundsToLatLngs(t),n)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=rt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function ko(t,n){return new lo(t,n)}pi.create=ji,pi.pointsToPath=Ii,ue.geometryToLayer=Ke,ue.coordsToLatLng=li,ue.coordsToLatLngs=ui,ue.latLngToCoords=pn,ue.latLngsToCoords=mn,ue.getFeature=ye,ue.asFeature=vn,ot.mergeOptions({boxZoom:!0});var Do=Dt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Y(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),x(),N(),this._startPoint=this._map.mouseEventToContainerPoint(t),Y(document,{contextmenu:Ge,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=at("div","leaflet-zoom-box",this._container),et(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var n=new $(this._point,this._startPoint),r=n.getSize();m(this._box,n.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(ft(this._box),Pt(this._container,"leaflet-crosshair")),C(),X(),pt(document,{contextmenu:Ge,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(B(this._resetState,this),0);var n=new lt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ot.addInitHook("addHandler","boxZoom",Do),ot.mergeOptions({doubleClickZoom:!0});var uo=Dt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var n=this._map,r=n.getZoom(),u=n.options.zoomDelta,d=t.originalEvent.shiftKey?r-u:r+u;n.options.doubleClickZoom==="center"?n.setZoom(d):n.setZoomAround(t.containerPoint,d)}});ot.addInitHook("addHandler","doubleClickZoom",uo),ot.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var fo=Dt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Ie(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}et(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pt(this._map._container,"leaflet-grab"),Pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=rt(this._map.options.maxBounds);this._offsetLimit=yt(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var n=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(n),this._prunePositions(n)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,n){return t-(t-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;t.x<n.min.x&&(t.x=this._viscousLimit(t.x,n.min.x)),t.y<n.min.y&&(t.y=this._viscousLimit(t.y,n.min.y)),t.x>n.max.x&&(t.x=this._viscousLimit(t.x,n.max.x)),t.y>n.max.y&&(t.y=this._viscousLimit(t.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,n=Math.round(t/2),r=this._initialWorldOffset,u=this._draggable._newPos.x,d=(u-n+r)%t+n-r,v=(u+n+r)%t-n-r,P=Math.abs(d+r)<Math.abs(v+r)?d:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=P},_onDragEnd:function(t){var n=this._map,r=n.options,u=!r.inertia||t.noInertia||this._times.length<2;if(n.fire("dragend",t),u)n.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,P=r.easeLinearity,T=d.multiplyBy(P/v),b=T.distanceTo([0,0]),O=Math.min(r.inertiaMaxSpeed,b),R=T.multiplyBy(O/b),J=O/(r.inertiaDeceleration*P),st=R.multiplyBy(-J/2).round();!st.x&&!st.y?n.fire("moveend"):(st=n._limitOffset(st,n.options.maxBounds),ct(function(){n.panBy(st,{duration:J,easeLinearity:P,noMoveStart:!0,animate:!0})}))}}});ot.addInitHook("addHandler","dragging",fo),ot.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zo=Dt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Y(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,n=document.documentElement,r=t.scrollTop||n.scrollTop,u=t.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(u,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var n=this._panKeys={},r=this.keyCodes,u,d;for(u=0,d=r.left.length;u<d;u++)n[r.left[u]]=[-1*t,0];for(u=0,d=r.right.length;u<d;u++)n[r.right[u]]=[t,0];for(u=0,d=r.down.length;u<d;u++)n[r.down[u]]=[0,t];for(u=0,d=r.up.length;u<d;u++)n[r.up[u]]=[0,-1*t]},_setZoomDelta:function(t){var n=this._zoomKeys={},r=this.keyCodes,u,d;for(u=0,d=r.zoomIn.length;u<d;u++)n[r.zoomIn[u]]=t;for(u=0,d=r.zoomOut.length;u<d;u++)n[r.zoomOut[u]]=-t},_addHooks:function(){Y(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=t.keyCode,r=this._map,u;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(u=this._panKeys[n],t.shiftKey&&(u=z(u).multiplyBy(3)),r.options.maxBounds&&(u=r._limitOffset(z(u),r.options.maxBounds)),r.options.worldCopyJump){var d=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(u)));r.panTo(d)}else r.panBy(u)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;Ge(t)}}});ot.addInitHook("addHandler","keyboard",zo),ot.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var e=Dt.extend({addHooks:function(){Y(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var n=$n(t),r=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var u=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(B(this._performZoom,this),u),Ge(t)},_performZoom:function(){var t=this._map,n=t.getZoom(),r=this._map.options.zoomSnap||0;t._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,v=r?Math.ceil(d/r)*r:d,P=t._limitZoom(n+(this._delta>0?v:-v))-n;this._delta=0,this._startTime=null,P&&(t.options.scrollWheelZoom==="center"?t.setZoom(n+P):t.setZoomAround(this._lastMousePos,n+P))}});ot.addInitHook("addHandler","scrollWheelZoom",e);var o=600;ot.mergeOptions({tapHold:F.touchNative&&F.safari&&F.mobile,tapTolerance:15});var h=Dt.extend({addHooks:function(){Y(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var n=t.touches[0];this._startPos=this._newPos=new D(n.clientX,n.clientY),this._holdTimeout=setTimeout(B(function(){this._cancel(),this._isTapValid()&&(Y(document,"touchend",At),Y(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),o),Y(document,"touchend touchcancel contextmenu",this._cancel,this),Y(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){pt(document,"touchend",At),pt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),pt(document,"touchend touchcancel contextmenu",this._cancel,this),pt(document,"touchmove",this._onMove,this)},_onMove:function(t){var n=t.touches[0];this._newPos=new D(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,n){var r=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});r._simulated=!0,n.target.dispatchEvent(r)}});ot.addInitHook("addHandler","tapHold",h),ot.mergeOptions({touchZoom:F.touch,bounceAtZoomLimits:!0});var c=Dt.extend({addHooks:function(){et(this._map._container,"leaflet-touch-zoom"),Y(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(!(!t.touches||t.touches.length!==2||n._animatingZoom||this._zooming)){var r=n.mouseEventToContainerPoint(t.touches[0]),u=n.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(r.add(u)._divideBy(2))),this._startDist=r.distanceTo(u),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),Y(document,"touchmove",this._onTouchMove,this),Y(document,"touchend touchcancel",this._onTouchEnd,this),At(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var n=this._map,r=n.mouseEventToContainerPoint(t.touches[0]),u=n.mouseEventToContainerPoint(t.touches[1]),d=r.distanceTo(u)/this._startDist;if(this._zoom=n.getScaleZoom(d,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&d<1||this._zoom>n.getMaxZoom()&&d>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var v=r._add(u)._divideBy(2)._subtract(this._centerPoint);if(d===1&&v.x===0&&v.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),dt(this._animRequest);var P=B(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ct(P,this,!0),At(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,dt(this._animRequest),pt(document,"touchmove",this._onTouchMove,this),pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ot.addInitHook("addHandler","touchZoom",c),ot.BoxZoom=Do,ot.DoubleClickZoom=uo,ot.Drag=fo,ot.Keyboard=zo,ot.ScrollWheelZoom=e,ot.TapHold=h,ot.TouchZoom=c,y.Bounds=$,y.Browser=F,y.CRS=It,y.Canvas=di,y.Circle=oo,y.CircleMarker=dn,y.Class=Ct,y.Control=he,y.DivIcon=so,y.DivOverlay=fe,y.DomEvent=qo,y.DomUtil=jt,y.Draggable=Ie,y.Evented=ie,y.FeatureGroup=_e,y.GeoJSON=ue,y.GridLayer=Ki,y.Handler=Dt,y.Icon=ri,y.ImageOverlay=yn,y.LatLng=U,y.LatLngBounds=lt,y.Layer=Yt,y.LayerGroup=si,y.LineUtil=io,y.Map=ot,y.Marker=ai,y.Mixin=xo,y.Path=Ft,y.Point=D,y.PolyUtil=Eo,y.Polygon=Oe,y.Polyline=le,y.Popup=Pn,y.PosAnimation=$t,y.Projection=oi,y.Rectangle=lo,y.Renderer=Qt,y.SVG=pi,y.SVGOverlay=Vi,y.TileLayer=$e,y.Tooltip=xn,y.Transformation=ze,y.Util=bn,y.VideoOverlay=Gi,y.bind=B,y.bounds=yt,y.canvas=ao,y.circle=ge,y.circleMarker=hi,y.control=Ve,y.divIcon=No,y.extend=S,y.featureGroup=cn,y.geoJSON=Ao,y.geoJson=Bo,y.gridLayer=Pe,y.icon=Ee,y.imageOverlay=pe,y.latLng=K,y.latLngBounds=rt,y.layerGroup=Ui,y.map=vo,y.marker=jo,y.point=z,y.polygon=_n,y.polyline=Oo,y.popup=Ji,y.rectangle=ko,y.setOptions=V,y.stamp=M,y.svg=ho,y.svgOverlay=Qo,y.tileLayer=ro,y.tooltip=fi,y.transformation=ne,y.version=Z,y.videoOverlay=$o;var p=window.L;y.noConflict=function(){return window.L=p,this},window.L=y})})(Us,Fo);const _o=Fo;const Gs="https://tile.openstreetmap.org/{z}/{x}/{y}.png",Vs='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors';function Js(){const w=vi(null);return{init:(y,Z,S=14)=>{w.value=_o.map(y).setView(Z,S).addLayer(_o.tileLayer(Gs,{attribution:Vs}))},map:w}}const Ks={class:"the-info"},js=ti({__name:"TheInfo",props:{label:null},setup(w){const l=w;return(y,Z)=>(zt(),ee("div",Ks,[Tn(Be(l.label)+" ",1),xs(y.$slots,"default",{},void 0,!0)]))}});const $s=In(js,[["__scopeId","data-v-42ce6754"]]);var Wo={},Qs={get exports(){return Wo},set exports(w){Wo=w}};/* @preserve
 * Leaflet 1.8.0, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(w,l){(function(y,Z){Z(l)})(Ls,function(y){var Z="1.8.0";function S(e){var o,h,c,p;for(h=1,c=arguments.length;h<c;h++){p=arguments[h];for(o in p)e[o]=p[o]}return e}var k=Object.create||function(){function e(){}return function(o){return e.prototype=o,new e}}();function B(e,o){var h=Array.prototype.slice;if(e.bind)return e.bind.apply(e,h.call(arguments,1));var c=h.call(arguments,2);return function(){return e.apply(o,c.length?c.concat(h.call(arguments)):arguments)}}var E=0;function M(e){return"_leaflet_id"in e||(e._leaflet_id=++E),e._leaflet_id}function Ht(e,o,h){var c,p,t,n;return n=function(){c=!1,p&&(t.apply(h,p),p=!1)},t=function(){c?p=arguments:(e.apply(h,arguments),setTimeout(n,o),c=!0)},t}function Bt(e,o,h){var c=o[1],p=o[0],t=c-p;return e===c&&h?e:((e-p)%t+t)%t+p}function tt(){return!1}function vt(e,o){if(o===!1)return e;var h=Math.pow(10,o===void 0?6:o);return Math.round(e*h)/h}function Nt(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function St(e){return Nt(e).split(/\s+/)}function V(e,o){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?k(e.options):{});for(var h in o)e.options[h]=o[h];return e.options}function Zt(e,o,h){var c=[];for(var p in e)c.push(encodeURIComponent(h?p.toUpperCase():p)+"="+encodeURIComponent(e[p]));return(!o||o.indexOf("?")===-1?"?":"&")+c.join("&")}var tn=/\{ *([\w_ -]+) *\}/g;function ei(e,o){return e.replace(tn,function(h,c){var p=o[c];if(p===void 0)throw new Error("No value provided for variable "+h);return typeof p=="function"&&(p=p(o)),p})}var wt=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function Ne(e,o){for(var h=0;h<e.length;h++)if(e[h]===o)return h;return-1}var Rt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ke(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var Pi=0;function xi(e){var o=+new Date,h=Math.max(0,16-(o-Pi));return Pi=o+h,window.setTimeout(e,h)}var De=window.requestAnimationFrame||ke("RequestAnimationFrame")||xi,wi=window.cancelAnimationFrame||ke("CancelAnimationFrame")||ke("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function ct(e,o,h){if(h&&De===xi)e.call(o);else return De.call(window,B(e,o))}function dt(e){e&&wi.call(window,e)}var bn={__proto__:null,extend:S,create:k,bind:B,get lastId(){return E},stamp:M,throttle:Ht,wrapNum:Bt,falseFn:tt,formatNum:vt,trim:Nt,splitWords:St,setOptions:V,getParamString:Zt,template:ei,isArray:wt,indexOf:Ne,emptyImageUrl:Rt,requestFn:De,cancelFn:wi,requestAnimFrame:ct,cancelAnimFrame:dt};function Ct(){}Ct.extend=function(e){var o=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=o.__super__=this.prototype,c=k(h);c.constructor=o,o.prototype=c;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(o[p]=this[p]);return e.statics&&S(o,e.statics),e.includes&&(Sn(e.includes),S.apply(null,[c].concat(e.includes))),S(c,e),delete c.statics,delete c.includes,c.options&&(c.options=h.options?k(h.options):{},S(c.options,e.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,n=c._initHooks.length;t<n;t++)c._initHooks[t].call(this)}},o},Ct.include=function(e){var o=this.prototype.options;return S(this.prototype,e),e.options&&(this.prototype.options=o,this.mergeOptions(e.options)),this},Ct.mergeOptions=function(e){return S(this.prototype.options,e),this},Ct.addInitHook=function(e){var o=Array.prototype.slice.call(arguments,1),h=typeof e=="function"?e:function(){this[e].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Sn(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=wt(e)?e:[e];for(var o=0;o<e.length;o++)e[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var gt={on:function(e,o,h){if(typeof e=="object")for(var c in e)this._on(c,e[c],o);else{e=St(e);for(var p=0,t=e.length;p<t;p++)this._on(e[p],o,h)}return this},off:function(e,o,h){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var c in e)this._off(c,e[c],o);else{e=St(e);for(var p=arguments.length===1,t=0,n=e.length;t<n;t++)p?this._off(e[t]):this._off(e[t],o,h)}return this},_on:function(e,o,h){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}this._events=this._events||{};var c=this._events[e];c||(c=[],this._events[e]=c),h===this&&(h=void 0);for(var p={fn:o,ctx:h},t=c,n=0,r=t.length;n<r;n++)if(t[n].fn===o&&t[n].ctx===h)return;t.push(p)},_off:function(e,o,h){var c,p,t;if(this._events&&(c=this._events[e],!!c)){if(arguments.length===1){if(this._firingCount)for(p=0,t=c.length;p<t;p++)c[p].fn=tt;delete this._events[e];return}if(h===this&&(h=void 0),typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}for(p=0,t=c.length;p<t;p++){var n=c[p];if(n.ctx===h&&n.fn===o){this._firingCount&&(n.fn=tt,this._events[e]=c=c.slice()),c.splice(p,1);return}}console.warn("listener not found")}},fire:function(e,o,h){if(!this.listens(e,h))return this;var c=S({},o,{type:e,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var p=this._events[e];if(p){this._firingCount=this._firingCount+1||1;for(var t=0,n=p.length;t<n;t++){var r=p[t];r.fn.call(r.ctx||this,c)}this._firingCount--}}return h&&this._propagateEvent(c),this},listens:function(e,o){typeof e!="string"&&console.warn('"string" type argument expected');var h=this._events&&this._events[e];if(h&&h.length)return!0;if(o){for(var c in this._eventParents)if(this._eventParents[c].listens(e,o))return!0}return!1},once:function(e,o,h){if(typeof e=="object"){for(var c in e)this.once(c,e[c],o);return this}var p=B(function(){this.off(e,o,h).off(e,p,h)},this);return this.on(e,o,h).on(e,p,h)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[M(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[M(e)],this},_propagateEvent:function(e){for(var o in this._eventParents)this._eventParents[o].fire(e.type,S({layer:e.target,propagatedFrom:e.target},e),!0)}};gt.addEventListener=gt.on,gt.removeEventListener=gt.clearAllEventListeners=gt.off,gt.addOneTimeEventListener=gt.once,gt.fireEvent=gt.fire,gt.hasEventListeners=gt.listens;var ie=Ct.extend(gt);function D(e,o,h){this.x=h?Math.round(e):e,this.y=h?Math.round(o):o}var Li=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};D.prototype={clone:function(){return new D(this.x,this.y)},add:function(e){return this.clone()._add(z(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(z(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new D(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new D(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Li(this.x),this.y=Li(this.y),this},distanceTo:function(e){e=z(e);var o=e.x-this.x,h=e.y-this.y;return Math.sqrt(o*o+h*h)},equals:function(e){return e=z(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=z(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+vt(this.x)+", "+vt(this.y)+")"}};function z(e,o,h){return e instanceof D?e:wt(e)?new D(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new D(e.x,e.y):new D(e,o,h)}function $(e,o){if(e)for(var h=o?[e,o]:e,c=0,p=h.length;c<p;c++)this.extend(h[c])}$.prototype={extend:function(e){return e=z(e),!this.min&&!this.max?(this.min=e.clone(),this.max=e.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)),this},getCenter:function(e){return new D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new D(this.min.x,this.max.y)},getTopRight:function(){return new D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var o,h;return typeof e[0]=="number"||e instanceof D?e=z(e):e=yt(e),e instanceof $?(o=e.min,h=e.max):o=h=e,o.x>=this.min.x&&h.x<=this.max.x&&o.y>=this.min.y&&h.y<=this.max.y},intersects:function(e){e=yt(e);var o=this.min,h=this.max,c=e.min,p=e.max,t=p.x>=o.x&&c.x<=h.x,n=p.y>=o.y&&c.y<=h.y;return t&&n},overlaps:function(e){e=yt(e);var o=this.min,h=this.max,c=e.min,p=e.max,t=p.x>o.x&&c.x<h.x,n=p.y>o.y&&c.y<h.y;return t&&n},isValid:function(){return!!(this.min&&this.max)}};function yt(e,o){return!e||e instanceof $?e:new $(e,o)}function lt(e,o){if(e)for(var h=o?[e,o]:e,c=0,p=h.length;c<p;c++)this.extend(h[c])}lt.prototype={extend:function(e){var o=this._southWest,h=this._northEast,c,p;if(e instanceof U)c=e,p=e;else if(e instanceof lt){if(c=e._southWest,p=e._northEast,!c||!p)return this}else return e?this.extend(K(e)||rt(e)):this;return!o&&!h?(this._southWest=new U(c.lat,c.lng),this._northEast=new U(p.lat,p.lng)):(o.lat=Math.min(c.lat,o.lat),o.lng=Math.min(c.lng,o.lng),h.lat=Math.max(p.lat,h.lat),h.lng=Math.max(p.lng,h.lng)),this},pad:function(e){var o=this._southWest,h=this._northEast,c=Math.abs(o.lat-h.lat)*e,p=Math.abs(o.lng-h.lng)*e;return new lt(new U(o.lat-c,o.lng-p),new U(h.lat+c,h.lng+p))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof U||"lat"in e?e=K(e):e=rt(e);var o=this._southWest,h=this._northEast,c,p;return e instanceof lt?(c=e.getSouthWest(),p=e.getNorthEast()):c=p=e,c.lat>=o.lat&&p.lat<=h.lat&&c.lng>=o.lng&&p.lng<=h.lng},intersects:function(e){e=rt(e);var o=this._southWest,h=this._northEast,c=e.getSouthWest(),p=e.getNorthEast(),t=p.lat>=o.lat&&c.lat<=h.lat,n=p.lng>=o.lng&&c.lng<=h.lng;return t&&n},overlaps:function(e){e=rt(e);var o=this._southWest,h=this._northEast,c=e.getSouthWest(),p=e.getNorthEast(),t=p.lat>o.lat&&c.lat<h.lat,n=p.lng>o.lng&&c.lng<h.lng;return t&&n},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,o){return e?(e=rt(e),this._southWest.equals(e.getSouthWest(),o)&&this._northEast.equals(e.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function rt(e,o){return e instanceof lt?e:new lt(e,o)}function U(e,o,h){if(isNaN(e)||isNaN(o))throw new Error("Invalid LatLng object: ("+e+", "+o+")");this.lat=+e,this.lng=+o,h!==void 0&&(this.alt=+h)}U.prototype={equals:function(e,o){if(!e)return!1;e=K(e);var h=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return h<=(o===void 0?1e-9:o)},toString:function(e){return"LatLng("+vt(this.lat,e)+", "+vt(this.lng,e)+")"},distanceTo:function(e){return kt.distance(this,K(e))},wrap:function(){return kt.wrapLatLng(this)},toBounds:function(e){var o=180*e/40075017,h=o/Math.cos(Math.PI/180*this.lat);return rt([this.lat-o,this.lng-h],[this.lat+o,this.lng+h])},clone:function(){return new U(this.lat,this.lng,this.alt)}};function K(e,o,h){return e instanceof U?e:wt(e)&&typeof e[0]!="object"?e.length===3?new U(e[0],e[1],e[2]):e.length===2?new U(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new U(e.lat,"lng"in e?e.lng:e.lon,e.alt):o===void 0?null:new U(e,o,h)}var It={latLngToPoint:function(e,o){var h=this.projection.project(e),c=this.scale(o);return this.transformation._transform(h,c)},pointToLatLng:function(e,o){var h=this.scale(o),c=this.transformation.untransform(e,h);return this.projection.unproject(c)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var o=this.projection.bounds,h=this.scale(e),c=this.transformation.transform(o.min,h),p=this.transformation.transform(o.max,h);return new $(c,p)},infinite:!1,wrapLatLng:function(e){var o=this.wrapLng?Bt(e.lng,this.wrapLng,!0):e.lng,h=this.wrapLat?Bt(e.lat,this.wrapLat,!0):e.lat,c=e.alt;return new U(h,o,c)},wrapLatLngBounds:function(e){var o=e.getCenter(),h=this.wrapLatLng(o),c=o.lat-h.lat,p=o.lng-h.lng;if(c===0&&p===0)return e;var t=e.getSouthWest(),n=e.getNorthEast(),r=new U(t.lat-c,t.lng-p),u=new U(n.lat-c,n.lng-p);return new lt(r,u)}},kt=S({},It,{wrapLng:[-180,180],R:6371e3,distance:function(e,o){var h=Math.PI/180,c=e.lat*h,p=o.lat*h,t=Math.sin((o.lat-e.lat)*h/2),n=Math.sin((o.lng-e.lng)*h/2),r=t*t+Math.cos(c)*Math.cos(p)*n*n,u=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r));return this.R*u}}),Ti=6378137,qt={R:Ti,MAX_LATITUDE:85.0511287798,project:function(e){var o=Math.PI/180,h=this.MAX_LATITUDE,c=Math.max(Math.min(h,e.lat),-h),p=Math.sin(c*o);return new D(this.R*e.lng*o,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(e){var o=180/Math.PI;return new U((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*o,e.x*o/this.R)},bounds:function(){var e=Ti*Math.PI;return new $([-e,-e],[e,e])}()};function ze(e,o,h,c){if(wt(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=o,this._c=h,this._d=c}ze.prototype={transform:function(e,o){return this._transform(e.clone(),o)},_transform:function(e,o){return o=o||1,e.x=o*(this._a*e.x+this._b),e.y=o*(this._c*e.y+this._d),e},untransform:function(e,o){return o=o||1,new D((e.x/o-this._b)/this._a,(e.y/o-this._d)/this._c)}};function ne(e,o,h,c){return new ze(e,o,h,c)}var Ze=S({},kt,{code:"EPSG:3857",projection:qt,transformation:function(){var e=.5/(Math.PI*qt.R);return ne(e,.5,-e,.5)}()}),En=S({},Ze,{code:"EPSG:900913"});function Ci(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ii(e,o){var h="",c,p,t,n,r,u;for(c=0,t=e.length;c<t;c++){for(r=e[c],p=0,n=r.length;p<n;p++)u=r[p],h+=(p?"L":"M")+u.x+" "+u.y;h+=o?H.svg?"z":"x":""}return h||"M0 0"}var Re=document.documentElement.style,me="ActiveXObject"in window,Mn=me&&!document.addEventListener,bi="msLaunchUri"in navigator&&!("documentMode"in document),Xe=Kt("webkit"),Si=Kt("android"),Ei=Kt("android 2")||Kt("android 3"),On=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),An=Si&&Kt("Google")&&On<537&&!("AudioNode"in window),Ye=!!window.opera,Mi=!bi&&Kt("chrome"),Oi=Kt("gecko")&&!Xe&&!Ye&&!me,Bn=!Mi&&Kt("safari"),Ai=Kt("phantom"),Bi="OTransition"in Re,Nn=navigator.platform.indexOf("Win")===0,Ni=me&&"transition"in Re,Fe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ei,We="MozPerspective"in Re,kn=!window.L_DISABLE_3D&&(Ni||Fe||We)&&!Bi&&!Ai,Jt=typeof orientation<"u"||Kt("mobile"),Dn=Jt&&Xe,en=Jt&&Fe,ki=!window.PointerEvent&&window.MSPointerEvent,Di=!!(window.PointerEvent||ki),zi="ontouchstart"in window||!!window.TouchEvent,zn=!window.L_NO_TOUCH&&(zi||Di),Zn=Jt&&Ye,Rn=Jt&&Oi,Xn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Yn=function(){var e=!1;try{var o=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",tt,o),window.removeEventListener("testPassiveEventSupport",tt,o)}catch{}return e}(),Fn=function(){return!!document.createElement("canvas").getContext}(),He=!!(document.createElementNS&&Ci("svg").createSVGRect),Wn=!!He&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Hn=!He&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var o=e.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}();function Kt(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var H={ie:me,ielt9:Mn,edge:bi,webkit:Xe,android:Si,android23:Ei,androidStock:An,opera:Ye,chrome:Mi,gecko:Oi,safari:Bn,phantom:Ai,opera12:Bi,win:Nn,ie3d:Ni,webkit3d:Fe,gecko3d:We,any3d:kn,mobile:Jt,mobileWebkit:Dn,mobileWebkit3d:en,msPointer:ki,pointer:Di,touch:zn,touchNative:zi,mobileOpera:Zn,mobileGecko:Rn,retina:Xn,passiveEvents:Yn,canvas:Fn,svg:He,vml:Hn,inlineSvg:Wn},Ut=H.msPointer?"MSPointerDown":"pointerdown",F=H.msPointer?"MSPointerMove":"pointermove",Zi=H.msPointer?"MSPointerUp":"pointerup",Ri=H.msPointer?"MSPointerCancel":"pointercancel",ii={touchstart:Ut,touchmove:F,touchend:Zi,touchcancel:Ri},Xi={touchstart:Gn,touchmove:qe,touchend:qe,touchcancel:qe},ce={},Yi=!1;function we(e,o,h){return o==="touchstart"&&Un(),Xi[o]?(h=Xi[o].bind(this,h),e.addEventListener(ii[o],h,!1),h):(console.warn("wrong event specified:",o),L.Util.falseFn)}function Le(e,o,h){if(!ii[o]){console.warn("wrong event specified:",o);return}e.removeEventListener(ii[o],h,!1)}function nn(e){ce[e.pointerId]=e}function qn(e){ce[e.pointerId]&&(ce[e.pointerId]=e)}function on(e){delete ce[e.pointerId]}function Un(){Yi||(document.addEventListener(Ut,nn,!0),document.addEventListener(F,qn,!0),document.addEventListener(Zi,on,!0),document.addEventListener(Ri,on,!0),Yi=!0)}function qe(e,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var h in ce)o.touches.push(ce[h]);o.changedTouches=[o],e(o)}}function Gn(e,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&Ot(o),qe(e,o)}function oe(e){var o={},h,c;for(c in e)h=e[c],o[c]=h&&h.bind?h.bind(e):h;return e=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Vn=200;function Jn(e,o){e.addEventListener("dblclick",o);var h=0,c;function p(t){if(t.detail!==1){c=t.detail;return}if(!(t.pointerType==="mouse"||t.sourceCapabilities&&!t.sourceCapabilities.firesTouchEvents)){var n=Date.now();n-h<=Vn?(c++,c===2&&o(oe(t))):c=1,h=n}}return e.addEventListener("click",p),{dblclick:o,simDblclick:p}}function Kn(e,o){e.removeEventListener("dblclick",o.dblclick),e.removeEventListener("click",o.simDblclick)}var Fi=s(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ue=s(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ni=Ue==="webkitTransition"||Ue==="OTransition"?Ue+"End":"transitionend";function Te(e){return typeof e=="string"?document.getElementById(e):e}function Ce(e,o){var h=e.style[o]||e.currentStyle&&e.currentStyle[o];if((!h||h==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(e,null);h=c?c[o]:null}return h==="auto"?null:h}function ut(e,o,h){var c=document.createElement(e);return c.className=o||"",h&&h.appendChild(c),c}function it(e){var o=e.parentNode;o&&o.removeChild(e)}function at(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function ft(e){var o=e.parentNode;o&&o.lastChild!==e&&o.appendChild(e)}function se(e){var o=e.parentNode;o&&o.firstChild!==e&&o.insertBefore(e,o.firstChild)}function Q(e,o){if(e.classList!==void 0)return e.classList.contains(o);var h=Pt(e);return h.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(h)}function j(e,o){if(e.classList!==void 0)for(var h=St(o),c=0,p=h.length;c<p;c++)e.classList.add(h[c]);else if(!Q(e,o)){var t=Pt(e);et(e,(t?t+" ":"")+o)}}function xt(e,o){e.classList!==void 0?e.classList.remove(o):et(e,Nt((" "+Pt(e)+" ").replace(" "+o+" "," ")))}function et(e,o){e.className.baseVal===void 0?e.className=o:e.className.baseVal=o}function Pt(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Xt(e,o){"opacity"in e.style?e.style.opacity=o:"filter"in e.style&&i(e,o)}function i(e,o){var h=!1,c="DXImageTransform.Microsoft.Alpha";try{h=e.filters.item(c)}catch{if(o===1)return}o=Math.round(o*100),h?(h.Enabled=o!==100,h.Opacity=o):e.style.filter+=" progid:"+c+"(opacity="+o+")"}function s(e){for(var o=document.documentElement.style,h=0;h<e.length;h++)if(e[h]in o)return e[h];return!1}function a(e,o,h){var c=o||new D(0,0);e.style[Fi]=(H.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(h?" scale("+h+")":"")}function f(e,o){e._leaflet_pos=o,H.any3d?a(e,o):(e.style.left=o.x+"px",e.style.top=o.y+"px")}function _(e){return e._leaflet_pos||new D(0,0)}var m,g,x;if("onselectstart"in document)m=function(){G(window,"selectstart",Ot)},g=function(){Y(window,"selectstart",Ot)};else{var C=s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);m=function(){if(C){var e=document.documentElement.style;x=e[C],e[C]="none"}},g=function(){C&&(document.documentElement.style[C]=x,x=void 0)}}function I(){G(window,"dragstart",Ot)}function A(){Y(window,"dragstart",Ot)}var N,X;function q(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(W(),N=e,X=e.style.outline,e.style.outline="none",G(window,"keydown",W))}function W(){N&&(N.style.outline=X,N=void 0,X=void 0,Y(window,"keydown",W))}function nt(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function _t(e){var o=e.getBoundingClientRect();return{x:o.width/e.offsetWidth||1,y:o.height/e.offsetHeight||1,boundingClientRect:o}}var Et={__proto__:null,TRANSFORM:Fi,TRANSITION:Ue,TRANSITION_END:ni,get:Te,getStyle:Ce,create:ut,remove:it,empty:at,toFront:ft,toBack:se,hasClass:Q,addClass:j,removeClass:xt,setClass:et,getClass:Pt,setOpacity:Xt,testProp:s,setTransform:a,setPosition:f,getPosition:_,get disableTextSelection(){return m},get enableTextSelection(){return g},disableImageDrag:I,enableImageDrag:A,preventOutline:q,restoreOutline:W,getSizedParentNode:nt,getScale:_t};function G(e,o,h,c){if(o&&typeof o=="object")for(var p in o)sn(e,p,o[p],h);else{o=St(o);for(var t=0,n=o.length;t<n;t++)sn(e,o[t],h,c)}return this}var jt="_leaflet_events";function Y(e,o,h,c){if(arguments.length===1)Mt(e),delete e[jt];else if(o&&typeof o=="object")for(var p in o)Wi(e,p,o[p],h);else if(o=St(o),arguments.length===2)Mt(e,function(r){return Ne(o,r)!==-1});else for(var t=0,n=o.length;t<n;t++)Wi(e,o[t],h,c);return this}function Mt(e,o){for(var h in e[jt]){var c=h.split(/\d/)[0];(!o||o(c))&&Wi(e,c,null,null,h)}}var pt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function sn(e,o,h,c){var p=o+M(h)+(c?"_"+M(c):"");if(e[jt]&&e[jt][p])return this;var t=function(r){return h.call(c||e,r||window.event)},n=t;!H.touchNative&&H.pointer&&o.indexOf("touch")===0?t=we(e,o,t):H.touch&&o==="dblclick"?t=Jn(e,t):"addEventListener"in e?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?e.addEventListener(pt[o]||o,t,H.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(t=function(r){r=r||window.event,rn(e,r)&&n(r)},e.addEventListener(pt[o],t,!1)):e.addEventListener(o,n,!1):e.attachEvent("on"+o,t),e[jt]=e[jt]||{},e[jt][p]=t}function Wi(e,o,h,c,p){p=p||o+M(h)+(c?"_"+M(c):"");var t=e[jt]&&e[jt][p];if(!t)return this;!H.touchNative&&H.pointer&&o.indexOf("touch")===0?Le(e,o,t):H.touch&&o==="dblclick"?Kn(e,t):"removeEventListener"in e?e.removeEventListener(pt[o]||o,t,!1):e.detachEvent("on"+o,t),e[jt][p]=null}function ve(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Hi(e){return sn(e,"wheel",ve),this}function re(e){return G(e,"mousedown touchstart dblclick contextmenu",ve),e._leaflet_disable_click=!0,this}function Ot(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function ae(e){return Ot(e),ve(e),this}function At(e,o){if(!o)return new D(e.clientX,e.clientY);var h=_t(o),c=h.boundingClientRect;return new D((e.clientX-c.left)/h.x-o.clientLeft,(e.clientY-c.top)/h.y-o.clientTop)}var Ge=H.win&&H.chrome?2*window.devicePixelRatio:H.gecko?window.devicePixelRatio:1;function jn(e){return H.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Ge:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function rn(e,o){var h=o.relatedTarget;if(!h)return!0;try{for(;h&&h!==e;)h=h.parentNode}catch{return!1}return h!==e}var Ho={__proto__:null,on:G,off:Y,stopPropagation:ve,disableScrollPropagation:Hi,disableClickPropagation:re,preventDefault:Ot,stop:ae,getMousePosition:At,getWheelDelta:jn,isExternalTarget:rn,addListener:G,removeListener:Y},$n=ie.extend({run:function(e,o,h,c){this.stop(),this._el=e,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=_(e),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ct(this._animate,this),this._step()},_step:function(e){var o=+new Date-this._startTime,h=this._duration*1e3;o<h?this._runFrame(this._easeOut(o/h),e):(this._runFrame(1),this._complete())},_runFrame:function(e,o){var h=this._startPos.add(this._offset.multiplyBy(e));o&&h._round(),f(this._el,h),this.fire("step")},_complete:function(){dt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),ht=ie.extend({options:{crs:Ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,o){o=V(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=B(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(K(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ue&&H.any3d&&!H.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),G(this._proxy,ni,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,o,h){if(o=o===void 0?this._zoom:this._limitZoom(o),e=this._limitCenter(K(e),o,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=S({animate:h.animate},h.zoom),h.pan=S({animate:h.animate,duration:h.duration},h.pan));var c=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,o,h.zoom):this._tryAnimatedPan(e,h.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(e,o),this},setZoom:function(e,o){return this._loaded?this.setView(this.getCenter(),e,{zoom:o}):(this._zoom=e,this)},zoomIn:function(e,o){return e=e||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,o)},zoomOut:function(e,o){return e=e||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,o)},setZoomAround:function(e,o,h){var c=this.getZoomScale(o),p=this.getSize().divideBy(2),t=e instanceof D?e:this.latLngToContainerPoint(e),n=t.subtract(p).multiplyBy(1-1/c),r=this.containerPointToLatLng(p.add(n));return this.setView(r,o,{zoom:h})},_getBoundsCenterZoom:function(e,o){o=o||{},e=e.getBounds?e.getBounds():rt(e);var h=z(o.paddingTopLeft||o.padding||[0,0]),c=z(o.paddingBottomRight||o.padding||[0,0]),p=this.getBoundsZoom(e,!1,h.add(c));if(p=typeof o.maxZoom=="number"?Math.min(o.maxZoom,p):p,p===1/0)return{center:e.getCenter(),zoom:p};var t=c.subtract(h).divideBy(2),n=this.project(e.getSouthWest(),p),r=this.project(e.getNorthEast(),p),u=this.unproject(n.add(r).divideBy(2).add(t),p);return{center:u,zoom:p}},fitBounds:function(e,o){if(e=rt(e),!e.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(e,o);return this.setView(h.center,h.zoom,o)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,o){return this.setView(e,this._zoom,{pan:o})},panBy:function(e,o){if(e=z(e).round(),o=o||{},!e.x&&!e.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $n,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){j(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,h,o.duration||.25,o.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,o,h){if(h=h||{},h.animate===!1||!H.any3d)return this.setView(e,o,h);this._stop();var c=this.project(this.getCenter()),p=this.project(e),t=this.getSize(),n=this._zoom;e=K(e),o=o===void 0?n:o;var r=Math.max(t.x,t.y),u=r*this.getZoomScale(n,o),d=p.distanceTo(c)||1,v=1.42,P=v*v;function T(Tt){var Ln=Tt?-1:1,Ro=Tt?u:r,is=u*u-r*r+Ln*P*P*d*d,Xo=2*Ro*P*d,Lt=is/Xo,$i=Math.sqrt(Lt*Lt+1)-Lt,ns=$i<1e-9?-18:Math.log($i);return ns}function b(Tt){return(Math.exp(Tt)-Math.exp(-Tt))/2}function O(Tt){return(Math.exp(Tt)+Math.exp(-Tt))/2}function R(Tt){return b(Tt)/O(Tt)}var J=T(0);function st(Tt){return r*(O(J)/O(J+v*Tt))}function te(Tt){return r*(O(J)*R(J+v*Tt)-b(J))/P}function Qe(Tt){return 1-Math.pow(1-Tt,1.5)}var wn=Date.now(),xe=(T(1)-J)/v,co=h.duration?1e3*h.duration:1e3*xe*.8;function Zo(){var Tt=(Date.now()-wn)/co,Ln=Qe(Tt)*xe;Tt<=1?(this._flyToFrame=ct(Zo,this),this._move(this.unproject(c.add(p.subtract(c).multiplyBy(te(Ln)/d)),n),this.getScaleZoom(r/st(Ln),n),{flyTo:!0})):this._move(e,o)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Zo.call(this),this},flyToBounds:function(e,o){var h=this._getBoundsCenterZoom(e,o);return this.flyTo(h.center,h.zoom,o)},setMaxBounds:function(e){if(e=rt(e),e.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);return this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(e){var o=this.options.minZoom;return this.options.minZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var o=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,o){this._enforcingBounds=!0;var h=this.getCenter(),c=this._limitCenter(h,this._zoom,rt(e));return h.equals(c)||this.panTo(c,o),this._enforcingBounds=!1,this},panInside:function(e,o){o=o||{};var h=z(o.paddingTopLeft||o.padding||[0,0]),c=z(o.paddingBottomRight||o.padding||[0,0]),p=this.project(this.getCenter()),t=this.project(e),n=this.getPixelBounds(),r=yt([n.min.add(h),n.max.subtract(c)]),u=r.getSize();if(!r.contains(t)){this._enforcingBounds=!0;var d=t.subtract(r.getCenter()),v=r.extend(t).getSize().subtract(u);p.x+=d.x<0?-v.x:v.x,p.y+=d.y<0?-v.y:v.y,this.panTo(this.unproject(p),o),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=S({animate:!1,pan:!0},e===!0?{animate:!0}:e);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),c=o.divideBy(2).round(),p=h.divideBy(2).round(),t=c.subtract(p);return!t.x&&!t.y?this:(e.animate&&e.pan?this.panBy(t):(e.pan&&this._rawPanBy(t),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(B(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=S({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=B(this._handleGeolocationResponse,this),h=B(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,h,e):navigator.geolocation.getCurrentPosition(o,h,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var o=e.code,h=e.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var o=e.coords.latitude,h=e.coords.longitude,c=new U(o,h),p=c.toBounds(e.coords.accuracy*2),t=this._locateOptions;if(t.setView){var n=this.getBoundsZoom(p);this.setView(c,t.maxZoom?Math.min(n,t.maxZoom):n)}var r={latlng:c,bounds:p,timestamp:e.timestamp};for(var u in e.coords)typeof e.coords[u]=="number"&&(r[u]=e.coords[u]);this.fire("locationfound",r)}},addHandler:function(e,o){if(!o)return this;var h=this[e]=new o(this);return this._handlers.push(h),this.options[e]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),it(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(dt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)it(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,o){var h="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),c=ut("div",h,o||this._mapPane);return e&&(this._panes[e]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),o=this.unproject(e.getBottomLeft()),h=this.unproject(e.getTopRight());return new lt(o,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,o,h){e=rt(e),h=z(h||[0,0]);var c=this.getZoom()||0,p=this.getMinZoom(),t=this.getMaxZoom(),n=e.getNorthWest(),r=e.getSouthEast(),u=this.getSize().subtract(h),d=yt(this.project(r,c),this.project(n,c)).getSize(),v=H.any3d?this.options.zoomSnap:1,P=u.x/d.x,T=u.y/d.y,b=o?Math.max(P,T):Math.min(P,T);return c=this.getScaleZoom(b,c),v&&(c=Math.round(c/(v/100))*(v/100),c=o?Math.ceil(c/v)*v:Math.floor(c/v)*v),Math.max(p,Math.min(t,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,o){var h=this._getTopLeftPoint(e,o);return new $(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,o){var h=this.options.crs;return o=o===void 0?this._zoom:o,h.scale(e)/h.scale(o)},getScaleZoom:function(e,o){var h=this.options.crs;o=o===void 0?this._zoom:o;var c=h.zoom(e*h.scale(o));return isNaN(c)?1/0:c},project:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(K(e),o)},unproject:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(z(e),o)},layerPointToLatLng:function(e){var o=z(e).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(e){var o=this.project(K(e))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(K(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(rt(e))},distance:function(e,o){return this.options.crs.distance(K(e),K(o))},containerPointToLayerPoint:function(e){return z(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return z(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var o=this.containerPointToLayerPoint(z(e));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(e)))},mouseEventToContainerPoint:function(e){return At(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var o=this._container=Te(e);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");G(o,"scroll",this._onScroll,this),this._containerId=M(o)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&H.any3d,j(e,"leaflet-container"+(H.touch?" leaflet-touch":"")+(H.retina?" leaflet-retina":"")+(H.ielt9?" leaflet-oldie":"")+(H.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=Ce(e,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),f(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(j(e.markerPane,"leaflet-zoom-hide"),j(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,o){f(this._mapPane,new D(0,0));var h=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var c=this._zoom!==o;this._moveStart(c,!1)._move(e,o)._moveEnd(c),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(e,o){return e&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(e,o,h,c){o===void 0&&(o=this._zoom);var p=this._zoom!==o;return this._zoom=o,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),c?h&&h.pinch&&this.fire("zoom",h):((p||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return dt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){f(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[M(this._container)]=this;var o=e?Y:G;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),H.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){dt(this._resizeRequest),this._resizeRequest=ct(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,o){for(var h=[],c,p=o==="mouseout"||o==="mouseover",t=e.target||e.srcElement,n=!1;t;){if(c=this._targets[M(t)],c&&(o==="click"||o==="preclick")&&this._draggableMoved(c)){n=!0;break}if(c&&c.listens(o,!0)&&(p&&!rn(t,e)||(h.push(c),p))||t===this._container)break;t=t.parentNode}return!h.length&&!n&&!p&&this.listens(o,!0)&&(h=[this]),h},_isClickDisabled:function(e){for(;e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var o=e.target||e.srcElement;if(!(!this._loaded||o._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(o))){var h=e.type;h==="mousedown"&&q(o),this._fireDOMEvent(e,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,o,h){if(e.type==="click"){var c=S({},e);c.type="preclick",this._fireDOMEvent(c,c.type,h)}var p=this._findEventTargets(e,o);if(h){for(var t=[],n=0;n<h.length;n++)h[n].listens(o,!0)&&t.push(h[n]);p=t.concat(p)}if(p.length){o==="contextmenu"&&Ot(e);var r=p[0],u={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var d=r.getLatLng&&(!r._radius||r._radius<=10);u.containerPoint=d?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(e),u.layerPoint=this.containerPointToLayerPoint(u.containerPoint),u.latlng=d?r.getLatLng():this.layerPointToLatLng(u.layerPoint)}for(n=0;n<p.length;n++)if(p[n].fire(o,u,!0),u.originalEvent._stopped||p[n].options.bubblingMouseEvents===!1&&Ne(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,o=this._handlers.length;e<o;e++)this._handlers[e].disable()},whenReady:function(e,o){return this._loaded?e.call(o||this,{target:this}):this.on("load",e,o),this},_getMapPanePos:function(){return _(this._mapPane)||new D(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,o){var h=e&&o!==void 0?this._getNewPixelOrigin(e,o):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,o){var h=this.getSize()._divideBy(2);return this.project(e,o)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,o,h){var c=this._getNewPixelOrigin(h,o);return this.project(e,o)._subtract(c)},_latLngBoundsToNewLayerBounds:function(e,o,h){var c=this._getNewPixelOrigin(h,o);return yt([this.project(e.getSouthWest(),o)._subtract(c),this.project(e.getNorthWest(),o)._subtract(c),this.project(e.getSouthEast(),o)._subtract(c),this.project(e.getNorthEast(),o)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,o,h){if(!h)return e;var c=this.project(e,o),p=this.getSize().divideBy(2),t=new $(c.subtract(p),c.add(p)),n=this._getBoundsOffset(t,h,o);return n.round().equals([0,0])?e:this.unproject(c.add(n),o)},_limitOffset:function(e,o){if(!o)return e;var h=this.getPixelBounds(),c=new $(h.min.add(e),h.max.add(e));return e.add(this._getBoundsOffset(c,o))},_getBoundsOffset:function(e,o,h){var c=yt(this.project(o.getNorthEast(),h),this.project(o.getSouthWest(),h)),p=c.min.subtract(e.min),t=c.max.subtract(e.max),n=this._rebound(p.x,-t.x),r=this._rebound(p.y,-t.y);return new D(n,r)},_rebound:function(e,o){return e+o>0?Math.round(e-o)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(o))},_limitZoom:function(e){var o=this.getMinZoom(),h=this.getMaxZoom(),c=H.any3d?this.options.zoomSnap:1;return c&&(e=Math.round(e/c)*c),Math.max(o,Math.min(h,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,o){var h=this._getCenterOffset(e)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,o),!0)},_createAnimProxy:function(){var e=this._proxy=ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(o){var h=Fi,c=this._proxy.style[h];a(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),c===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){it(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),o=this.getZoom();a(this._proxy,this.project(e,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,o,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(o),p=this._getCenterOffset(e)._divideBy(1-1/c);return h.animate!==!0&&!this.getSize().contains(p)?!1:(ct(function(){this._moveStart(!0,!1)._animateZoom(e,o,!0)},this),!0)},_animateZoom:function(e,o,h,c){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=o,j(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:o,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(B(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qo(e,o){return new ht(e,o)}var $t=Ct.extend({options:{position:"topright"},initialize:function(e){V(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var o=this._map;return o&&o.removeControl(this),this.options.position=e,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var o=this._container=this.onAdd(e),h=this.getPosition(),c=e._controlCorners[h];return j(o,"leaflet-control"),h.indexOf("bottom")!==-1?c.insertBefore(o,c.firstChild):c.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(it(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),ot=function(e){return new $t(e)};ht.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},o="leaflet-",h=this._controlContainer=ut("div",o+"control-container",this._container);function c(p,t){var n=o+p+" "+o+t;e[p+t]=ut("div",n,h)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)it(this._controlCorners[e]);it(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vo=$t.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,o,h,c){return h<c?-1:c<h?1:0}},initialize:function(e,o,h){V(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var c in e)this._addLayer(e[c],c);for(c in o)this._addLayer(o[c],c,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return $t.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,o){return this._addLayer(e,o),this._map?this._update():this},addOverlay:function(e,o){return this._addLayer(e,o,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var o=this._getLayer(M(e));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){j(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(j(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):xt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",o=this._container=ut("div",e),h=this.options.collapsed;o.setAttribute("aria-haspopup",!0),re(o),Hi(o);var c=this._section=ut("section",e+"-list");h&&(this._map.on("click",this.collapse,this),G(o,{mouseenter:function(){G(c,"click",Ot),this.expand(),setTimeout(function(){Y(c,"click",Ot)})},mouseleave:this.collapse},this));var p=this._layersLink=ut("a",e+"-toggle",o);p.href="#",p.title="Layers",p.setAttribute("role","button"),G(p,"click",Ot),G(p,"focus",this.expand,this),h||this.expand(),this._baseLayersList=ut("div",e+"-base",c),this._separator=ut("div",e+"-separator",c),this._overlaysList=ut("div",e+"-overlays",c),o.appendChild(c)},_getLayer:function(e){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&M(this._layers[o].layer)===e)return this._layers[o]},_addLayer:function(e,o,h){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:o,overlay:h}),this.options.sortLayers&&this._layers.sort(B(function(c,p){return this.options.sortFunction(c.layer,p.layer,c.name,p.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;at(this._baseLayersList),at(this._overlaysList),this._layerControlInputs=[];var e,o,h,c,p=0;for(h=0;h<this._layers.length;h++)c=this._layers[h],this._addItem(c),o=o||c.overlay,e=e||!c.overlay,p+=c.overlay?0:1;return this.options.hideSingleBase&&(e=e&&p>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=o&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var o=this._getLayer(M(e.target)),h=o.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;h&&this._map.fire(h,o)},_createRadioElement:function(e,o){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(o?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=h,c.firstChild},_addItem:function(e){var o=document.createElement("label"),h=this._map.hasLayer(e.layer),c;e.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=h):c=this._createRadioElement("leaflet-base-layers_"+M(this),h),this._layerControlInputs.push(c),c.layerId=M(e.layer),G(c,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+e.name;var t=document.createElement("span");o.appendChild(t),t.appendChild(c),t.appendChild(p);var n=e.overlay?this._overlaysList:this._baseLayersList;return n.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){var e=this._layerControlInputs,o,h,c=[],p=[];this._handlingClick=!0;for(var t=e.length-1;t>=0;t--)o=e[t],h=this._getLayer(o.layerId).layer,o.checked?c.push(h):o.checked||p.push(h);for(t=0;t<p.length;t++)this._map.hasLayer(p[t])&&this._map.removeLayer(p[t]);for(t=0;t<c.length;t++)this._map.hasLayer(c[t])||this._map.addLayer(c[t]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,o,h,c=this._map.getZoom(),p=e.length-1;p>=0;p--)o=e[p],h=this._getLayer(o.layerId).layer,o.disabled=h.options.minZoom!==void 0&&c<h.options.minZoom||h.options.maxZoom!==void 0&&c>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),he=function(e,o,h){return new vo(e,o,h)},Ve=$t.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var o="leaflet-control-zoom",h=ut("div",o+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,o+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,o+"-out",h,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,o,h,c,p){var t=ut("a",h,c);return t.innerHTML=e,t.href="#",t.title=o,t.setAttribute("role","button"),t.setAttribute("aria-label",o),re(t),G(t,"click",ae),G(t,"click",p,this),G(t,"click",this._refocusOnMap,this),t},_updateDisabled:function(){var e=this._map,o="leaflet-disabled";xt(this._zoomInButton,o),xt(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(j(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(j(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});ht.mergeOptions({zoomControl:!0}),ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ve,this.addControl(this.zoomControl))});var go=function(e){return new Ve(e)},yo=$t.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var o="leaflet-control-scale",h=ut("div",o),c=this.options;return this._addScales(c,o+"-line",h),e.on(c.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),h},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,o,h){e.metric&&(this._mScale=ut("div",o,h)),e.imperial&&(this._iScale=ut("div",o,h))},_update:function(){var e=this._map,o=e.getSize().y/2,h=e.distance(e.containerPointToLatLng([0,o]),e.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(h)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var o=this._getRoundNum(e),h=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,h,o/e)},_updateImperial:function(e){var o=e*3.2808399,h,c,p;o>5280?(h=o/5280,c=this._getRoundNum(h),this._updateScale(this._iScale,c+" mi",c/h)):(p=this._getRoundNum(o),this._updateScale(this._iScale,p+" ft",p/o))},_updateScale:function(e,o,h){e.style.width=Math.round(this.options.maxWidth*h)+"px",e.innerHTML=o},_getRoundNum:function(e){var o=Math.pow(10,(Math.floor(e)+"").length-1),h=e/o;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,o*h}}),Qn=function(e){return new yo(e)},Uo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',an=$t.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(H.inlineSvg?Uo+" ":"")+"Leaflet</a>"},initialize:function(e){V(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=ut("div","leaflet-control-attribution"),re(this._container);for(var o in e._layers)e._layers[o].getAttribution&&this.addAttribution(e._layers[o].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var o in this._attributions)this._attributions[o]&&e.push(o);var h=[];this.options.prefix&&h.push(this.options.prefix),e.length&&h.push(e.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});ht.mergeOptions({attributionControl:!0}),ht.addInitHook(function(){this.options.attributionControl&&new an().addTo(this)});var Go=function(e){return new an(e)};$t.Layers=vo,$t.Zoom=Ve,$t.Scale=yo,$t.Attribution=an,ot.layers=he,ot.zoom=go,ot.scale=Qn,ot.attribution=Go;var de=Ct.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});de.addTo=function(e,o){return e.addHandler(o,this),this};var to={Events:gt},Po=H.touch?"touchstart mousedown":"mousedown",Dt=ie.extend({options:{clickTolerance:3},initialize:function(e,o,h,c){V(this,c),this._element=e,this._dragStartTarget=o||e,this._preventOutline=h},enable:function(){this._enabled||(G(this._dragStartTarget,Po,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Dt._dragging===this&&this.finishDrag(!0),Y(this._dragStartTarget,Po,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Q(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Dt._dragging===this&&this.finishDrag();return}if(!(Dt._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Dt._dragging=this,this._preventOutline&&q(this._element),I(),m(),!this._moving)){this.fire("down");var o=e.touches?e.touches[0]:e,h=nt(this._element);this._startPoint=new D(o.clientX,o.clientY),this._startPos=_(this._element),this._parentScale=_t(h);var c=e.type==="mousedown";G(document,c?"mousemove":"touchmove",this._onMove,this),G(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var o=e.touches&&e.touches.length===1?e.touches[0]:e,h=new D(o.clientX,o.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Ot(e),this._moved||(this.fire("dragstart"),this._moved=!0,j(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),j(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),f(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){xt(document.body,"leaflet-dragging"),this._lastTarget&&(xt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Y(document,"mousemove touchmove",this._onMove,this),Y(document,"mouseup touchend touchcancel",this._onUp,this),A(),g(),this._moved&&this._moving&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Dt._dragging=!1}});function xo(e,o){if(!o||!e.length)return e.slice();var h=o*o;return e=Vo(e,h),e=wo(e,h),e}function eo(e,o,h){return Math.sqrt(Se(e,o,h,!0))}function Ie(e,o,h){return Se(e,o,h)}function wo(e,o){var h=e.length,c=typeof Uint8Array!=void 0+""?Uint8Array:Array,p=new c(h);p[0]=p[h-1]=1,hn(e,p,o,0,h-1);var t,n=[];for(t=0;t<h;t++)p[t]&&n.push(e[t]);return n}function hn(e,o,h,c,p){var t=0,n,r,u;for(r=c+1;r<=p-1;r++)u=Se(e[r],e[c],e[p],!0),u>t&&(n=r,t=u);t>h&&(o[n]=1,hn(e,o,h,c,n),hn(e,o,h,n,p))}function Vo(e,o){for(var h=[e[0]],c=1,p=0,t=e.length;c<t;c++)To(e[c],e[p])>o&&(h.push(e[c]),p=c);return p<t-1&&h.push(e[t-1]),h}var Lo;function ln(e,o,h,c,p){var t=c?Lo:be(e,h),n=be(o,h),r,u,d;for(Lo=n;;){if(!(t|n))return[e,o];if(t&n)return!1;r=t||n,u=un(e,o,r,h,p),d=be(u,h),r===t?(e=u,t=d):(o=u,n=d)}}function un(e,o,h,c,p){var t=o.x-e.x,n=o.y-e.y,r=c.min,u=c.max,d,v;return h&8?(d=e.x+t*(u.y-e.y)/n,v=u.y):h&4?(d=e.x+t*(r.y-e.y)/n,v=r.y):h&2?(d=u.x,v=e.y+n*(u.x-e.x)/t):h&1&&(d=r.x,v=e.y+n*(r.x-e.x)/t),new D(d,v,p)}function be(e,o){var h=0;return e.x<o.min.x?h|=1:e.x>o.max.x&&(h|=2),e.y<o.min.y?h|=4:e.y>o.max.y&&(h|=8),h}function To(e,o){var h=o.x-e.x,c=o.y-e.y;return h*h+c*c}function Se(e,o,h,c){var p=o.x,t=o.y,n=h.x-p,r=h.y-t,u=n*n+r*r,d;return u>0&&(d=((e.x-p)*n+(e.y-t)*r)/u,d>1?(p=h.x,t=h.y):d>0&&(p+=n*d,t+=r*d)),n=e.x-p,r=e.y-t,c?n*n+r*r:new D(p,t)}function Wt(e){return!wt(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Co(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Wt(e)}var qi={__proto__:null,simplify:xo,pointToSegmentDistance:eo,closestPointOnSegment:Ie,clipSegment:ln,_getEdgeIntersection:un,_getBitCode:be,_sqClosestPointOnSegment:Se,isFlat:Wt,_flat:Co};function Gt(e,o,h){var c,p=[1,4,2,8],t,n,r,u,d,v,P,T;for(t=0,v=e.length;t<v;t++)e[t]._code=be(e[t],o);for(r=0;r<4;r++){for(P=p[r],c=[],t=0,v=e.length,n=v-1;t<v;n=t++)u=e[t],d=e[n],u._code&P?d._code&P||(T=un(d,u,P,o,h),T._code=be(T,o),c.push(T)):(d._code&P&&(T=un(d,u,P,o,h),T._code=be(T,o),c.push(T)),c.push(u));e=c}return e}var Io={__proto__:null,clipPolygon:Gt},fn={project:function(e){return new D(e.lng,e.lat)},unproject:function(e){return new U(e.y,e.x)},bounds:new $([-180,-90],[180,90])},io={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var o=Math.PI/180,h=this.R,c=e.lat*o,p=this.R_MINOR/h,t=Math.sqrt(1-p*p),n=t*Math.sin(c),r=Math.tan(Math.PI/4-c/2)/Math.pow((1-n)/(1+n),t/2);return c=-h*Math.log(Math.max(r,1e-10)),new D(e.lng*o*h,c)},unproject:function(e){for(var o=180/Math.PI,h=this.R,c=this.R_MINOR/h,p=Math.sqrt(1-c*c),t=Math.exp(-e.y/h),n=Math.PI/2-2*Math.atan(t),r=0,u=.1,d;r<15&&Math.abs(u)>1e-7;r++)d=p*Math.sin(n),d=Math.pow((1-d)/(1+d),p/2),u=Math.PI/2-2*Math.atan(t*d)-n,n+=u;return new U(n*o,e.x*o/h)}},bo={__proto__:null,LonLat:fn,Mercator:io,SphericalMercator:qt},So=S({},kt,{code:"EPSG:3395",projection:io,transformation:function(){var e=.5/(Math.PI*io.R);return ne(e,.5,-e,.5)}()}),Eo=S({},kt,{code:"EPSG:4326",projection:fn,transformation:ne(1/180,1,-1/180,.5)}),no=S({},It,{projection:fn,transformation:ne(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,o){var h=o.lng-e.lng,c=o.lat-e.lat;return Math.sqrt(h*h+c*c)},infinite:!0});It.Earth=kt,It.EPSG3395=So,It.EPSG3857=Ze,It.EPSG900913=En,It.EPSG4326=Eo,It.Simple=no;var Vt=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[M(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[M(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var o=e.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var h=this.getEvents();o.on(h,this),this.once("remove",function(){o.off(h,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});ht.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var o=M(e);return this._layers[o]?this:(this._layers[o]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var o=M(e);return this._layers[o]?(this._loaded&&e.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return M(e)in this._layers},eachLayer:function(e,o){for(var h in this._layers)e.call(o,this._layers[h]);return this},_addLayers:function(e){e=e?wt(e)?e:[e]:[];for(var o=0,h=e.length;o<h;o++)this.addLayer(e[o])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[M(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var o=M(e);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,o=-1/0,h=this._getZoomSpan();for(var c in this._zoomBoundLayers){var p=this._zoomBoundLayers[c].options;e=p.minZoom===void 0?e:Math.min(e,p.minZoom),o=p.maxZoom===void 0?o:Math.max(o,p.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=e===1/0?void 0:e,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var oi=Vt.extend({initialize:function(e,o){V(this,o),this._layers={};var h,c;if(e)for(h=0,c=e.length;h<c;h++)this.addLayer(e[h])},addLayer:function(e){var o=this.getLayerId(e);return this._layers[o]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var o=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(e){var o=typeof e=="number"?e:this.getLayerId(e);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var o=Array.prototype.slice.call(arguments,1),h,c;for(h in this._layers)c=this._layers[h],c[e]&&c[e].apply(c,o);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,o){for(var h in this._layers)e.call(o,this._layers[h]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return M(e)}}),Jo=function(e,o){return new oi(e,o)},Je=oi.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),oi.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),oi.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new lt;for(var o in this._layers){var h=this._layers[o];e.extend(h.getBounds?h.getBounds():h.getLatLng())}return e}}),Ko=function(e,o){return new Je(e,o)},Yt=Ct.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){V(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,o){var h=this._getIconUrl(e);if(!h){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(h,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(c,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(e,o){var h=this.options,c=h[o+"Size"];typeof c=="number"&&(c=[c,c]);var p=z(c),t=z(o==="shadow"&&h.shadowAnchor||h.iconAnchor||p&&p.divideBy(2,!0));e.className="leaflet-marker-"+o+" "+(h.className||""),t&&(e.style.marginLeft=-t.x+"px",e.style.marginTop=-t.y+"px"),p&&(e.style.width=p.x+"px",e.style.height=p.y+"px")},_createImg:function(e,o){return o=o||document.createElement("img"),o.src=e,o},_getIconUrl:function(e){return H.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function si(e){return new Yt(e)}var Ui=Yt.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Ui.imagePath!="string"&&(Ui.imagePath=this._detectIconPath()),(this.options.imagePath||Ui.imagePath)+Yt.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var o=function(h,c,p){var t=c.exec(h);return t&&t[p]};return e=o(e,/^url\((['"])?(.+)\1\)$/,2),e&&o(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ut("div","leaflet-default-icon-path",document.body),o=Ce(e,"background-image")||Ce(e,"backgroundImage");if(document.body.removeChild(e),o=this._stripUrl(o),o)return o;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),_e=de.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Dt(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),j(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var o=this._marker,h=o._map,c=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,t=_(o._icon),n=h.getPixelBounds(),r=h.getPixelOrigin(),u=yt(n.min._subtract(r).add(p),n.max._subtract(r).subtract(p));if(!u.contains(t)){var d=z((Math.max(u.max.x,t.x)-u.max.x)/(n.max.x-u.max.x)-(Math.min(u.min.x,t.x)-u.min.x)/(n.min.x-u.min.x),(Math.max(u.max.y,t.y)-u.max.y)/(n.max.y-u.max.y)-(Math.min(u.min.y,t.y)-u.min.y)/(n.min.y-u.min.y)).multiplyBy(c);h.panBy(d,{animate:!1}),this._draggable._newPos._add(d),this._draggable._startPos._add(d),f(o._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=ct(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(dt(this._panRequest),this._panRequest=ct(this._adjustPan.bind(this,e)))},_onDrag:function(e){var o=this._marker,h=o._shadow,c=_(o._icon),p=o._map.layerPointToLatLng(c);h&&f(h,c),o._latlng=p,e.latlng=p,e.oldLatLng=this._oldLatLng,o.fire("move",e).fire("drag",e)},_onDragEnd:function(e){dt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),cn=Vt.extend({options:{icon:new Ui,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,o){V(this,o),this._latlng=K(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var o=this._latlng;return this._latlng=K(e),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=e.icon.createIcon(this._icon),c=!1;h!==this._icon&&(this._icon&&this._removeIcon(),c=!0,e.title&&(h.title=e.title),h.tagName==="IMG"&&(h.alt=e.alt||"")),j(h,o),e.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&G(h,"focus",this._panOnFocus,this);var p=e.icon.createShadow(this._shadow),t=!1;p!==this._shadow&&(this._removeShadow(),t=!0),p&&(j(p,o),p.alt=""),this._shadow=p,e.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&t&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Y(this._icon,"focus",this._panOnFocus,this),it(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&it(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&f(this._icon,e),this._shadow&&f(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(j(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),_e)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new _e(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Xt(this._icon,e),this._shadow&&Xt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var o=this.options.icon.options,h=o.iconSize?z(o.iconSize):z(0,0),c=o.iconAnchor?z(o.iconAnchor):z(0,0);e.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:h.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ri(e,o){return new cn(e,o)}var Ee=Vt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return V(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Me=Ee.extend({options:{fill:!0,radius:10},initialize:function(e,o){V(this,o),this._latlng=K(e),this._radius=this.options.radius},setLatLng:function(e){var o=this._latlng;return this._latlng=K(e),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var o=e&&e.radius||this._radius;return Ee.prototype.setStyle.call(this,e),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,o=this._radiusY||e,h=this._clickTolerance(),c=[e+h,o+h];this._pxBounds=new $(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Mo(e,o){return new Me(e,o)}var ai=Me.extend({initialize:function(e,o,h){if(typeof o=="number"&&(o=S({},h,{radius:o})),V(this,o),this._latlng=K(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new lt(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Ee.prototype.setStyle,_project:function(){var e=this._latlng.lng,o=this._latlng.lat,h=this._map,c=h.options.crs;if(c.distance===kt.distance){var p=Math.PI/180,t=this._mRadius/kt.R/p,n=h.project([o+t,e]),r=h.project([o-t,e]),u=n.add(r).divideBy(2),d=h.unproject(u).lat,v=Math.acos((Math.cos(t*p)-Math.sin(o*p)*Math.sin(d*p))/(Math.cos(o*p)*Math.cos(d*p)))/p;(isNaN(v)||v===0)&&(v=t/Math.cos(Math.PI/180*o)),this._point=u.subtract(h.getPixelOrigin()),this._radius=isNaN(v)?0:u.x-h.project([d,e-v]).x,this._radiusY=u.y-n.y}else{var P=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(P).x}this._updateBounds()}});function jo(e,o,h){return new ai(e,o,h)}var Ft=Ee.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,o){V(this,o),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var o=1/0,h=null,c=Se,p,t,n=0,r=this._parts.length;n<r;n++)for(var u=this._parts[n],d=1,v=u.length;d<v;d++){p=u[d-1],t=u[d];var P=c(e,p,t,!0);P<o&&(o=P,h=c(e,p,t))}return h&&(h.distance=Math.sqrt(o)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,o,h,c,p,t,n,r=this._rings[0],u=r.length;if(!u)return null;for(e=0,o=0;e<u-1;e++)o+=r[e].distanceTo(r[e+1])/2;if(o===0)return this._map.layerPointToLatLng(r[0]);for(e=0,c=0;e<u-1;e++)if(p=r[e],t=r[e+1],h=p.distanceTo(t),c+=h,c>o)return n=(c-o)/h,this._map.layerPointToLatLng([t.x-n*(t.x-p.x),t.y-n*(t.y-p.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,o){return o=o||this._defaultShape(),e=K(e),o.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new lt,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Wt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var o=[],h=Wt(e),c=0,p=e.length;c<p;c++)h?(o[c]=K(e[c]),this._bounds.extend(o[c])):o[c]=this._convertLatLngs(e[c]);return o},_project:function(){var e=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),o=new D(e,e);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(e,o,h){var c=e[0]instanceof U,p=e.length,t,n;if(c){for(n=[],t=0;t<p;t++)n[t]=this._map.latLngToLayerPoint(e[t]),h.extend(n[t]);o.push(n)}else for(t=0;t<p;t++)this._projectLatlngs(e[t],o,h)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,h,c,p,t,n,r,u;for(h=0,p=0,t=this._rings.length;h<t;h++)for(u=this._rings[h],c=0,n=u.length;c<n-1;c++)r=ln(u[c],u[c+1],e,c,!0),r&&(o[p]=o[p]||[],o[p].push(r[0]),(r[1]!==u[c+1]||c===n-2)&&(o[p].push(r[1]),p++))}},_simplifyPoints:function(){for(var e=this._parts,o=this.options.smoothFactor,h=0,c=e.length;h<c;h++)e[h]=xo(e[h],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,o){var h,c,p,t,n,r,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(h=0,t=this._parts.length;h<t;h++)for(r=this._parts[h],c=0,n=r.length,p=n-1;c<n;p=c++)if(!(!o&&c===0)&&eo(e,r[p],r[c])<=u)return!0;return!1}});function dn(e,o){return new Ft(e,o)}Ft._flat=Co;var hi=Ft.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,o,h,c,p,t,n,r,u,d=this._rings[0],v=d.length;if(!v)return null;for(t=n=r=0,e=0,o=v-1;e<v;o=e++)h=d[e],c=d[o],p=h.y*c.x-c.y*h.x,n+=(h.x+c.x)*p,r+=(h.y+c.y)*p,t+=p*3;return t===0?u=d[0]:u=[n/t,r/t],this._map.layerPointToLatLng(u)},_convertLatLngs:function(e){var o=Ft.prototype._convertLatLngs.call(this,e),h=o.length;return h>=2&&o[0]instanceof U&&o[0].equals(o[h-1])&&o.pop(),o},_setLatLngs:function(e){Ft.prototype._setLatLngs.call(this,e),Wt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Wt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,o=this.options.weight,h=new D(o,o);if(e=new $(e.min.subtract(h),e.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,p=this._rings.length,t;c<p;c++)t=Gt(this._rings[c],e,!0),t.length&&this._parts.push(t)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var o=!1,h,c,p,t,n,r,u,d;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(t=0,u=this._parts.length;t<u;t++)for(h=this._parts[t],n=0,d=h.length,r=d-1;n<d;r=n++)c=h[n],p=h[r],c.y>e.y!=p.y>e.y&&e.x<(p.x-c.x)*(e.y-c.y)/(p.y-c.y)+c.x&&(o=!o);return o||Ft.prototype._containsPoint.call(this,e,!0)}});function oo(e,o){return new hi(e,o)}var ge=Je.extend({initialize:function(e,o){V(this,o),this._layers={},e&&this.addData(e)},addData:function(e){var o=wt(e)?e:e.features,h,c,p;if(o){for(h=0,c=o.length;h<c;h++)p=o[h],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var t=this.options;if(t.filter&&!t.filter(e))return this;var n=le(e,t);return n?(n.feature=li(e),n.defaultOptions=n.options,this.resetStyle(n),t.onEachFeature&&t.onEachFeature(e,n),this.addLayer(n)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=S({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(o){this._setLayerStyle(o,e)},this)},_setLayerStyle:function(e,o){e.setStyle&&(typeof o=="function"&&(o=o(e.feature)),e.setStyle(o))}});function le(e,o){var h=e.type==="Feature"?e.geometry:e,c=h?h.coordinates:null,p=[],t=o&&o.pointToLayer,n=o&&o.coordsToLatLng||Oe,r,u,d,v;if(!c&&!h)return null;switch(h.type){case"Point":return r=n(c),Oo(t,e,r,o);case"MultiPoint":for(d=0,v=c.length;d<v;d++)r=n(c[d]),p.push(Oo(t,e,r,o));return new Je(p);case"LineString":case"MultiLineString":return u=_n(c,h.type==="LineString"?0:1,n),new Ft(u,o);case"Polygon":case"MultiPolygon":return u=_n(c,h.type==="Polygon"?1:2,n),new hi(u,o);case"GeometryCollection":for(d=0,v=h.geometries.length;d<v;d++){var P=le({geometry:h.geometries[d],type:"Feature",properties:e.properties},o);P&&p.push(P)}return new Je(p);default:throw new Error("Invalid GeoJSON object.")}}function Oo(e,o,h,c){return e?e(o,h):new cn(h,c&&c.markersInheritOptions&&c)}function Oe(e){return new U(e[1],e[0],e[2])}function _n(e,o,h){for(var c=[],p=0,t=e.length,n;p<t;p++)n=o?_n(e[p],o-1,h):(h||Oe)(e[p]),c.push(n);return c}function ue(e,o){return e=K(e),e.alt!==void 0?[vt(e.lng,o),vt(e.lat,o),vt(e.alt,o)]:[vt(e.lng,o),vt(e.lat,o)]}function Ke(e,o,h,c){for(var p=[],t=0,n=e.length;t<n;t++)p.push(o?Ke(e[t],o-1,h,c):ue(e[t],c));return!o&&h&&p.push(p[0]),p}function je(e,o){return e.feature?S({},e.feature,{geometry:o}):li(o)}function li(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var ui={toGeoJSON:function(e){return je(this,{type:"Point",coordinates:ue(this.getLatLng(),e)})}};cn.include(ui),ai.include(ui),Me.include(ui),Ft.include({toGeoJSON:function(e){var o=!Wt(this._latlngs),h=Ke(this._latlngs,o?1:0,!1,e);return je(this,{type:(o?"Multi":"")+"LineString",coordinates:h})}}),hi.include({toGeoJSON:function(e){var o=!Wt(this._latlngs),h=o&&!Wt(this._latlngs[0]),c=Ke(this._latlngs,h?2:o?1:0,!0,e);return o||(c=[c]),je(this,{type:(h?"Multi":"")+"Polygon",coordinates:c})}}),oi.include({toMultiPoint:function(e){var o=[];return this.eachLayer(function(h){o.push(h.toGeoJSON(e).geometry.coordinates)}),je(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(e){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(e);var h=o==="GeometryCollection",c=[];return this.eachLayer(function(p){if(p.toGeoJSON){var t=p.toGeoJSON(e);if(h)c.push(t.geometry);else{var n=li(t);n.type==="FeatureCollection"?c.push.apply(c,n.features):c.push(n)}}}),h?je(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function pn(e,o){return new ge(e,o)}var mn=pn,ye=Vt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,o,h){this._url=e,this._bounds=rt(o),V(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(j(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){it(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&ft(this._image),this},bringToBack:function(){return this._map&&se(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=rt(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",o=this._image=e?this._url:ut("img");if(j(o,"leaflet-image-layer"),this._zoomAnimated&&j(o,"leaflet-zoom-animated"),this.options.className&&j(o,this.options.className),o.onselectstart=tt,o.onmousemove=tt,o.onload=B(this.fire,this,"load"),o.onerror=B(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(e){var o=this._map.getZoomScale(e.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;a(this._image,h,o)},_reset:function(){var e=this._image,o=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=o.getSize();f(e,o.min),e.style.width=h.x+"px",e.style.height=h.y+"px"},_updateOpacity:function(){Xt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),vn=function(e,o,h){return new ye(e,o,h)},gn=ye.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",o=this._image=e?this._url:ut("video");if(j(o,"leaflet-image-layer"),this._zoomAnimated&&j(o,"leaflet-zoom-animated"),this.options.className&&j(o,this.options.className),o.onselectstart=tt,o.onmousemove=tt,o.onloadeddata=B(this.fire,this,"load"),e){for(var h=o.getElementsByTagName("source"),c=[],p=0;p<h.length;p++)c.push(h[p].src);this._url=h.length>0?c:[o.src];return}wt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var t=0;t<this._url.length;t++){var n=ut("source");n.src=this._url[t],o.appendChild(n)}}});function Ao(e,o,h){return new gn(e,o,h)}var Bo=ye.extend({_initImage:function(){var e=this._image=this._url;j(e,"leaflet-image-layer"),this._zoomAnimated&&j(e,"leaflet-zoom-animated"),this.options.className&&j(e,this.options.className),e.onselectstart=tt,e.onmousemove=tt}});function yn(e,o,h){return new Bo(e,o,h)}var pe=Vt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(e,o){V(this,e),this._source=o},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Xt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Xt(this._container,1),this.bringToFront(),this.options.interactive&&(j(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Xt(this._container,0),this._removeTimeout=setTimeout(B(it,void 0,this._container),200)):it(this._container),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=K(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ft(this._container),this},bringToBack:function(){return this._map&&se(this._container),this},_prepareOpen:function(e){var o=this._source;if(!o._map)return!1;if(o instanceof Je){o=null;var h=this._source._layers;for(var c in h)if(h[c]._map){o=h[c];break}if(!o)return!1;this._source=o}if(!e)if(o.getCenter)e=o.getCenter();else if(o.getLatLng)e=o.getLatLng();else if(o.getBounds)e=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")e.innerHTML=o;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),o=z(this.options.offset),h=this._getAnchor();this._zoomAnimated?f(this._container,e.add(h)):o=o.add(e).add(h);var c=this._containerBottom=-o.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=c+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});ht.include({_initOverlay:function(e,o,h,c){var p=o;return p instanceof e||(p=new e(c).setContent(o)),h&&p.setLatLng(h),p}}),Vt.include({_initOverlay:function(e,o,h,c){var p=h;return p instanceof e?(V(p,c),p._source=this):(p=o&&!c?o:new e(c,this),p.setContent(h)),p}});var Gi=pe.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,pe.prototype.openOn.call(this,e)},onAdd:function(e){pe.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ee||this._source.on("preclick",ve))},onRemove:function(e){pe.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ee||this._source.off("preclick",ve))},getEvents:function(){var e=pe.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",o=this._container=ut("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=ut("div",e+"-content-wrapper",o);if(this._contentNode=ut("div",e+"-content",h),re(o),Hi(this._contentNode),G(o,"contextmenu",ve),this._tipContainer=ut("div",e+"-tip-container",o),this._tip=ut("div",e+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=ut("a",e+"-close-button",o);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',G(c,"click",this.close,this)}},_updateLayout:function(){var e=this._contentNode,o=e.style;o.width="",o.whiteSpace="nowrap";var h=e.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),o.width=h+1+"px",o.whiteSpace="",o.height="";var c=e.offsetHeight,p=this.options.maxHeight,t="leaflet-popup-scrolled";p&&c>p?(o.height=p+"px",j(e,t)):xt(e,t),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),h=this._getAnchor();f(this._container,o.add(h))},_adjustPan:function(e){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var o=this._map,h=parseInt(Ce(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+h,p=this._containerWidth,t=new D(this._containerLeft,-c-this._containerBottom);t._add(_(this._container));var n=o.layerPointToContainerPoint(t),r=z(this.options.autoPanPadding),u=z(this.options.autoPanPaddingTopLeft||r),d=z(this.options.autoPanPaddingBottomRight||r),v=o.getSize(),P=0,T=0;n.x+p+d.x>v.x&&(P=n.x+p-v.x+d.x),n.x-P-u.x<0&&(P=n.x-u.x),n.y+c+d.y>v.y&&(T=n.y+c-v.y+d.y),n.y-T-u.y<0&&(T=n.y-u.y),(P||T)&&o.fire("autopanstart").panBy([P,T],{animate:e&&e.type==="moveend"})}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$o=function(e,o){return new Gi(e,o)};ht.mergeOptions({closePopupOnClick:!0}),ht.include({openPopup:function(e,o,h){return this._initOverlay(Gi,e,o,h).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Vt.include({bindPopup:function(e,o){return this._popup=this._initOverlay(Gi,this._popup,e,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&this._popup._prepareOpen(e)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){ae(e);var o=e.layer||e.target;if(this._popup._source===o&&!(o instanceof Ee)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=o,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Vi=pe.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){pe.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){pe.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=pe.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",o=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ut("div",o)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var o,h,c=this._map,p=this._container,t=c.latLngToContainerPoint(c.getCenter()),n=c.layerPointToContainerPoint(e),r=this.options.direction,u=p.offsetWidth,d=p.offsetHeight,v=z(this.options.offset),P=this._getAnchor();r==="top"?(o=u/2,h=d):r==="bottom"?(o=u/2,h=0):r==="center"?(o=u/2,h=d/2):r==="right"?(o=0,h=d/2):r==="left"?(o=u,h=d/2):n.x<t.x?(r="right",o=0,h=d/2):(r="left",o=u+(v.x+P.x)*2,h=d/2),e=e.subtract(z(o,h,!0)).add(v).add(P),xt(p,"leaflet-tooltip-right"),xt(p,"leaflet-tooltip-left"),xt(p,"leaflet-tooltip-top"),xt(p,"leaflet-tooltip-bottom"),j(p,"leaflet-tooltip-"+r),f(p,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Xt(this._container,e)},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(o)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qo=function(e,o){return new Vi(e,o)};ht.include({openTooltip:function(e,o,h){return this._initOverlay(Vi,e,o,h).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Vt.include({bindTooltip:function(e,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Vi,this._tooltip,e,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var o=e?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[o](h),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&this._tooltip._prepareOpen(e)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0))},_moveTooltip:function(e){var o=e.latlng,h,c;this._tooltip.options.sticky&&e.originalEvent&&(h=this._map.mouseEventToContainerPoint(e.originalEvent),c=this._map.containerPointToLayerPoint(h),o=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(o)}});var fe=Yt.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var o=e&&e.tagName==="DIV"?e:document.createElement("div"),h=this.options;if(h.html instanceof Element?(at(o),o.appendChild(h.html)):o.innerHTML=h.html!==!1?h.html:"",h.bgPos){var c=z(h.bgPos);o.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function Pn(e){return new fe(e)}Yt.Default=Ui;var Ji=Vt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:H.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){V(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),it(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ft(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Ht(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof D?e:new D(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var o=this.getPane().children,h=-e(-1/0,1/0),c=0,p=o.length,t;c<p;c++)t=o[c].style.zIndex,o[c]!==this._container&&t&&(h=e(h,+t));isFinite(h)&&(this.options.zIndex=h+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!H.ielt9){Xt(this._container,this.options.opacity);var e=+new Date,o=!1,h=!1;for(var c in this._tiles){var p=this._tiles[c];if(!(!p.current||!p.loaded)){var t=Math.min(1,(e-p.loaded)/200);Xt(p.el,t),t<1?o=!0:(p.active?h=!0:this._onOpaqueTile(p),p.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),o&&(dt(this._fadeFrame),this._fadeFrame=ct(this._updateOpacity,this))}},_onOpaqueTile:tt,_initContainer:function(){this._container||(this._container=ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,o=this.options.maxZoom;if(e!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===e?(this._levels[h].el.style.zIndex=o-Math.abs(e-h),this._onUpdateLevel(h)):(it(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var c=this._levels[e],p=this._map;return c||(c=this._levels[e]={},c.el=ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=o,c.origin=p.project(p.unproject(p.getPixelOrigin()),e).round(),c.zoom=e,this._setZoomTransform(c,p.getCenter(),p.getZoom()),tt(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:tt,_onRemoveLevel:tt,_onCreateLevel:tt,_pruneTiles:function(){if(this._map){var e,o,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)o=this._tiles[e],o.retain=o.current;for(e in this._tiles)if(o=this._tiles[e],o.current&&!o.active){var c=o.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var o in this._tiles)this._tiles[o].coords.z===e&&this._removeTile(o)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)it(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,o,h,c){var p=Math.floor(e/2),t=Math.floor(o/2),n=h-1,r=new D(+p,+t);r.z=+n;var u=this._tileCoordsToKey(r),d=this._tiles[u];return d&&d.active?(d.retain=!0,!0):(d&&d.loaded&&(d.retain=!0),n>c?this._retainParent(p,t,n,c):!1)},_retainChildren:function(e,o,h,c){for(var p=2*e;p<2*e+2;p++)for(var t=2*o;t<2*o+2;t++){var n=new D(p,t);n.z=h+1;var r=this._tileCoordsToKey(n),u=this._tiles[r];if(u&&u.active){u.retain=!0;continue}else u&&u.loaded&&(u.retain=!0);h+1<c&&this._retainChildren(p,t,h+1,c)}},_resetView:function(e){var o=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var o=this.options;return o.minNativeZoom!==void 0&&e<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<e?o.maxNativeZoom:e},_setView:function(e,o,h,c){var p=Math.round(o);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var t=this.options.updateWhenZooming&&p!==this._tileZoom;(!c||t)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(e),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(e,o)},_setZoomTransforms:function(e,o){for(var h in this._levels)this._setZoomTransform(this._levels[h],e,o)},_setZoomTransform:function(e,o,h){var c=this._map.getZoomScale(h,e.zoom),p=e.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(o,h)).round();H.any3d?a(e.el,p,c):f(e.el,p)},_resetGrid:function(){var e=this._map,o=e.options.crs,h=this._tileSize=this.getTileSize(),c=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,o.wrapLng[0]],c).x/h.x),Math.ceil(e.project([0,o.wrapLng[1]],c).x/h.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([o.wrapLat[0],0],c).y/h.x),Math.ceil(e.project([o.wrapLat[1],0],c).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var o=this._map,h=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),c=o.getZoomScale(h,this._tileZoom),p=o.project(e,this._tileZoom).floor(),t=o.getSize().divideBy(c*2);return new $(p.subtract(t),p.add(t))},_update:function(e){var o=this._map;if(o){var h=this._clampZoom(o.getZoom());if(e===void 0&&(e=o.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(e),p=this._pxBoundsToTileRange(c),t=p.getCenter(),n=[],r=this.options.keepBuffer,u=new $(p.getBottomLeft().subtract([r,-r]),p.getTopRight().add([r,-r]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var d in this._tiles){var v=this._tiles[d].coords;(v.z!==this._tileZoom||!u.contains(new D(v.x,v.y)))&&(this._tiles[d].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(e,h);return}for(var P=p.min.y;P<=p.max.y;P++)for(var T=p.min.x;T<=p.max.x;T++){var b=new D(T,P);if(b.z=this._tileZoom,!!this._isValidTile(b)){var O=this._tiles[this._tileCoordsToKey(b)];O?O.current=!0:n.push(b)}}if(n.sort(function(J,st){return J.distanceTo(t)-st.distanceTo(t)}),n.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var R=document.createDocumentFragment();for(T=0;T<n.length;T++)this._addTile(n[T],R);this._level.el.appendChild(R)}}}},_isValidTile:function(e){var o=this._map.options.crs;if(!o.infinite){var h=this._globalTileRange;if(!o.wrapLng&&(e.x<h.min.x||e.x>h.max.x)||!o.wrapLat&&(e.y<h.min.y||e.y>h.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(e);return rt(this.options.bounds).overlaps(c)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var o=this._map,h=this.getTileSize(),c=e.scaleBy(h),p=c.add(h),t=o.unproject(c,e.z),n=o.unproject(p,e.z);return[t,n]},_tileCoordsToBounds:function(e){var o=this._tileCoordsToNwSe(e),h=new lt(o[0],o[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var o=e.split(":"),h=new D(+o[0],+o[1]);return h.z=+o[2],h},_removeTile:function(e){var o=this._tiles[e];o&&(it(o.el),delete this._tiles[e],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){j(e,"leaflet-tile");var o=this.getTileSize();e.style.width=o.x+"px",e.style.height=o.y+"px",e.onselectstart=tt,e.onmousemove=tt,H.ielt9&&this.options.opacity<1&&Xt(e,this.options.opacity)},_addTile:function(e,o){var h=this._getTilePos(e),c=this._tileCoordsToKey(e),p=this.createTile(this._wrapCoords(e),B(this._tileReady,this,e));this._initTile(p),this.createTile.length<2&&ct(B(this._tileReady,this,e,null,p)),f(p,h),this._tiles[c]={el:p,coords:e,current:!0},o.appendChild(p),this.fire("tileloadstart",{tile:p,coords:e})},_tileReady:function(e,o,h){o&&this.fire("tileerror",{error:o,tile:h,coords:e});var c=this._tileCoordsToKey(e);h=this._tiles[c],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Xt(h.el,0),dt(this._fadeFrame),this._fadeFrame=ct(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),o||(j(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),H.ielt9||!this._map._fadeAnimated?ct(this._pruneTiles,this):setTimeout(B(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var o=new D(this._wrapX?Bt(e.x,this._wrapX):e.x,this._wrapY?Bt(e.y,this._wrapY):e.y);return o.z=e.z,o},_pxBoundsToTileRange:function(e){var o=this.getTileSize();return new $(e.min.unscaleBy(o).floor(),e.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function xn(e){return new Ji(e)}var fi=Ji.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,o){this._url=e,o=V(this,o),o.detectRetina&&H.retina&&o.maxZoom>0&&(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom++):(o.zoomOffset++,o.maxZoom--),o.minZoom=Math.max(0,o.minZoom)),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,o){return this._url===e&&o===void 0&&(o=!0),this._url=e,o||this.redraw(),this},createTile:function(e,o){var h=document.createElement("img");return G(h,"load",B(this._tileOnLoad,this,o,h)),G(h,"error",B(this._tileOnError,this,o,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.setAttribute("role","presentation"),h.src=this.getTileUrl(e),h},getTileUrl:function(e){var o={r:H.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-e.y;this.options.tms&&(o.y=h),o["-y"]=h}return ei(this._url,S(o,this.options))},_tileOnLoad:function(e,o){H.ielt9?setTimeout(B(e,this,null,o),0):e(null,o)},_tileOnError:function(e,o,h){var c=this.options.errorTileUrl;c&&o.getAttribute("src")!==c&&(o.src=c),e(h,o)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,o=this.options.maxZoom,h=this.options.zoomReverse,c=this.options.zoomOffset;return h&&(e=o-e),e+c},_getSubdomain:function(e){var o=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var e,o;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(o=this._tiles[e].el,o.onload=tt,o.onerror=tt,!o.complete)){o.src=Rt;var h=this._tiles[e].coords;it(o),delete this._tiles[e],this.fire("tileabort",{tile:o,coords:h})}},_removeTile:function(e){var o=this._tiles[e];if(o)return o.el.setAttribute("src",Rt),Ji.prototype._removeTile.call(this,e)},_tileReady:function(e,o,h){if(!(!this._map||h&&h.getAttribute("src")===Rt))return Ji.prototype._tileReady.call(this,e,o,h)}});function so(e,o){return new fi(e,o)}var No=fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,o){this._url=e;var h=S({},this.defaultWmsParams);for(var c in o)c in this.options||(h[c]=o[c]);o=V(this,o);var p=o.detectRetina&&H.retina?2:1,t=this.getTileSize();h.width=t.x*p,h.height=t.y*p,this.wmsParams=h},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,fi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var o=this._tileCoordsToNwSe(e),h=this._crs,c=yt(h.project(o[0]),h.project(o[1])),p=c.min,t=c.max,n=(this._wmsVersion>=1.3&&this._crs===Eo?[p.y,p.x,t.y,t.x]:[p.x,p.y,t.x,t.y]).join(","),r=fi.prototype.getTileUrl.call(this,e);return r+Zt(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+n},setParams:function(e,o){return S(this.wmsParams,e),o||this.redraw(),this}});function Ki(e,o){return new No(e,o)}fi.WMS=No,so.wms=Ki;var Pe=Vt.extend({options:{padding:.1},initialize:function(e){V(this,e),M(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&j(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,o){var h=this._map.getZoomScale(o,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,o),t=c.multiplyBy(-h).add(p).subtract(this._map._getNewPixelOrigin(e,o));H.any3d?a(this._container,t,h):f(this._container,t)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,o=this._map.getSize(),h=this._map.containerPointToLayerPoint(o.multiplyBy(-e)).round();this._bounds=new $(h,h.add(o.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$e=Pe.extend({options:{tolerance:0},getEvents:function(){var e=Pe.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Pe.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");G(e,"mousemove",this._onMouseMove,this),G(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),G(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){dt(this._redrawRequest),delete this._ctx,it(this._container),Y(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var o in this._layers)e=this._layers[o],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pe.prototype._update.call(this);var e=this._bounds,o=this._container,h=e.getSize(),c=H.retina?2:1;f(o,e.min),o.width=c*h.x,o.height=c*h.y,o.style.width=h.x+"px",o.style.height=h.y+"px",H.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Pe.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[M(e)]=e;var o=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var o=e._order,h=o.next,c=o.prev;h?h.prev=c:this._drawLast=c,c?c.next=h:this._drawFirst=h,delete e._order,delete this._layers[M(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var o=e.options.dashArray.split(/[, ]+/),h=[],c,p;for(p=0;p<o.length;p++){if(c=Number(o[p]),isNaN(c))return;h.push(c)}e.options._dashArray=h}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||ct(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var o=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(e._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(e._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var o=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,o=this._redrawBounds;if(this._ctx.save(),o){var h=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)e=c.layer,(!o||e._pxBounds&&e._pxBounds.intersects(o))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,o){if(this._drawing){var h,c,p,t,n=e._parts,r=n.length,u=this._ctx;if(r){for(u.beginPath(),h=0;h<r;h++){for(c=0,p=n[h].length;c<p;c++)t=n[h][c],u[c?"lineTo":"moveTo"](t.x,t.y);o&&u.closePath()}this._fillStroke(u,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var o=e._point,h=this._ctx,c=Math.max(Math.round(e._radius),1),p=(Math.max(Math.round(e._radiusY),1)||c)/c;p!==1&&(h.save(),h.scale(1,p)),h.beginPath(),h.arc(o.x,o.y/p,c,0,Math.PI*2,!1),p!==1&&h.restore(),this._fillStroke(h,e)}},_fillStroke:function(e,o){var h=o.options;h.fill&&(e.globalAlpha=h.fillOpacity,e.fillStyle=h.fillColor||h.color,e.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(e.setLineDash&&e.setLineDash(o.options&&o.options._dashArray||[]),e.globalAlpha=h.opacity,e.lineWidth=h.weight,e.strokeStyle=h.color,e.lineCap=h.lineCap,e.lineJoin=h.lineJoin,e.stroke())},_onClick:function(e){for(var o=this._map.mouseEventToLayerPoint(e),h,c,p=this._drawFirst;p;p=p.next)h=p.layer,h.options.interactive&&h._containsPoint(o)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(h))&&(c=h);this._fireEvent(c?[c]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,o)}},_handleMouseOut:function(e){var o=this._hoveredLayer;o&&(xt(this._container,"leaflet-interactive"),this._fireEvent([o],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,o){if(!this._mouseHoverThrottled){for(var h,c,p=this._drawFirst;p;p=p.next)h=p.layer,h.options.interactive&&h._containsPoint(o)&&(c=h);c!==this._hoveredLayer&&(this._handleMouseOut(e),c&&(j(this._container,"leaflet-interactive"),this._fireEvent([c],e,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(B(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,o,h){this._map._fireDOMEvent(o,h||o.type,e)},_bringToFront:function(e){var o=e._order;if(o){var h=o.next,c=o.prev;if(h)h.prev=c;else return;c?c.next=h:h&&(this._drawFirst=h),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(e)}},_bringToBack:function(e){var o=e._order;if(o){var h=o.next,c=o.prev;if(c)c.next=h;else return;h?h.prev=c:c&&(this._drawLast=c),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(e)}}});function ro(e){return H.canvas?new $e(e):null}var ci=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ts={_initContainer:function(){this._container=ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Pe.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var o=e._container=ci("shape");j(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",e._path=ci("path"),o.appendChild(e._path),this._updateStyle(e),this._layers[M(e)]=e},_addPath:function(e){var o=e._container;this._container.appendChild(o),e.options.interactive&&e.addInteractiveTarget(o)},_removePath:function(e){var o=e._container;it(o),e.removeInteractiveTarget(o),delete this._layers[M(e)]},_updateStyle:function(e){var o=e._stroke,h=e._fill,c=e.options,p=e._container;p.stroked=!!c.stroke,p.filled=!!c.fill,c.stroke?(o||(o=e._stroke=ci("stroke")),p.appendChild(o),o.weight=c.weight+"px",o.color=c.color,o.opacity=c.opacity,c.dashArray?o.dashStyle=wt(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=c.lineCap.replace("butt","flat"),o.joinstyle=c.lineJoin):o&&(p.removeChild(o),e._stroke=null),c.fill?(h||(h=e._fill=ci("fill")),p.appendChild(h),h.color=c.fillColor||c.color,h.opacity=c.fillOpacity):h&&(p.removeChild(h),e._fill=null)},_updateCircle:function(e){var o=e._point.round(),h=Math.round(e._radius),c=Math.round(e._radiusY||h);this._setPath(e,e._empty()?"M0 0":"AL "+o.x+","+o.y+" "+h+","+c+" 0,"+65535*360)},_setPath:function(e,o){e._path.v=o},_bringToFront:function(e){ft(e._container)},_bringToBack:function(e){se(e._container)}},Qt=H.vml?ci:Ci,di=Pe.extend({_initContainer:function(){this._container=Qt("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Qt("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){it(this._container),Y(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pe.prototype._update.call(this);var e=this._bounds,o=e.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,h.setAttribute("width",o.x),h.setAttribute("height",o.y)),f(h,e.min),h.setAttribute("viewBox",[e.min.x,e.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(e){var o=e._path=Qt("path");e.options.className&&j(o,e.options.className),e.options.interactive&&j(o,"leaflet-interactive"),this._updateStyle(e),this._layers[M(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){it(e._path),e.removeInteractiveTarget(e._path),delete this._layers[M(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var o=e._path,h=e.options;o&&(h.stroke?(o.setAttribute("stroke",h.color),o.setAttribute("stroke-opacity",h.opacity),o.setAttribute("stroke-width",h.weight),o.setAttribute("stroke-linecap",h.lineCap),o.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?o.setAttribute("stroke-dasharray",h.dashArray):o.removeAttribute("stroke-dasharray"),h.dashOffset?o.setAttribute("stroke-dashoffset",h.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),h.fill?(o.setAttribute("fill",h.fillColor||h.color),o.setAttribute("fill-opacity",h.fillOpacity),o.setAttribute("fill-rule",h.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(e,o){this._setPath(e,Ii(e._parts,o))},_updateCircle:function(e){var o=e._point,h=Math.max(Math.round(e._radius),1),c=Math.max(Math.round(e._radiusY),1)||h,p="a"+h+","+c+" 0 1,0 ",t=e._empty()?"M0 0":"M"+(o.x-h)+","+o.y+p+h*2+",0 "+p+-h*2+",0 ";this._setPath(e,t)},_setPath:function(e,o){e._path.setAttribute("d",o)},_bringToFront:function(e){ft(e._path)},_bringToBack:function(e){se(e._path)}});H.vml&&di.include(ts);function ao(e){return H.svg||H.vml?new di(e):null}ht.include({getRenderer:function(e){var o=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var o=this._paneRenderers[e];return o===void 0&&(o=this._createRenderer({pane:e}),this._paneRenderers[e]=o),o},_createRenderer:function(e){return this.options.preferCanvas&&ro(e)||ao(e)}});var _i=hi.extend({initialize:function(e,o){hi.prototype.initialize.call(this,this._boundsToLatLngs(e),o)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=rt(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function es(e,o){return new _i(e,o)}di.create=Qt,di.pointsToPath=Ii,ge.geometryToLayer=le,ge.coordsToLatLng=Oe,ge.coordsToLatLngs=_n,ge.latLngToCoords=ue,ge.latLngsToCoords=Ke,ge.getFeature=je,ge.asFeature=li,ht.mergeOptions({boxZoom:!0});var ji=de.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){G(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Y(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){it(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),m(),I(),this._startPoint=this._map.mouseEventToContainerPoint(e),G(document,{contextmenu:ae,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ut("div","leaflet-zoom-box",this._container),j(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var o=new $(this._point,this._startPoint),h=o.getSize();f(this._box,o.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(it(this._box),xt(this._container,"leaflet-crosshair")),g(),A(),Y(document,{contextmenu:ae,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(B(this._resetState,this),0);var o=new lt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ht.addInitHook("addHandler","boxZoom",ji),ht.mergeOptions({doubleClickZoom:!0});var pi=de.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var o=this._map,h=o.getZoom(),c=o.options.zoomDelta,p=e.originalEvent.shiftKey?h-c:h+c;o.options.doubleClickZoom==="center"?o.setZoom(p):o.setZoomAround(e.containerPoint,p)}});ht.addInitHook("addHandler","doubleClickZoom",pi),ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ho=de.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Dt(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}j(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xt(this._map._container,"leaflet-grab"),xt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=rt(this._map.options.maxBounds);this._offsetLimit=yt(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var o=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(o),this._prunePositions(o)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,o){return e-(e-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;e.x<o.min.x&&(e.x=this._viscousLimit(e.x,o.min.x)),e.y<o.min.y&&(e.y=this._viscousLimit(e.y,o.min.y)),e.x>o.max.x&&(e.x=this._viscousLimit(e.x,o.max.x)),e.y>o.max.y&&(e.y=this._viscousLimit(e.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,o=Math.round(e/2),h=this._initialWorldOffset,c=this._draggable._newPos.x,p=(c-o+h)%e+o-h,t=(c+o+h)%e-o-h,n=Math.abs(p+h)<Math.abs(t+h)?p:t;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=n},_onDragEnd:function(e){var o=this._map,h=o.options,c=!h.inertia||e.noInertia||this._times.length<2;if(o.fire("dragend",e),c)o.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),t=(this._lastTime-this._times[0])/1e3,n=h.easeLinearity,r=p.multiplyBy(n/t),u=r.distanceTo([0,0]),d=Math.min(h.inertiaMaxSpeed,u),v=r.multiplyBy(d/u),P=d/(h.inertiaDeceleration*n),T=v.multiplyBy(-P/2).round();!T.x&&!T.y?o.fire("moveend"):(T=o._limitOffset(T,o.options.maxBounds),ct(function(){o.panBy(T,{duration:P,easeLinearity:n,noMoveStart:!0,animate:!0})}))}}});ht.addInitHook("addHandler","dragging",ho),ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var lo=de.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),G(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Y(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,o=document.documentElement,h=e.scrollTop||o.scrollTop,c=e.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(c,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var o=this._panKeys={},h=this.keyCodes,c,p;for(c=0,p=h.left.length;c<p;c++)o[h.left[c]]=[-1*e,0];for(c=0,p=h.right.length;c<p;c++)o[h.right[c]]=[e,0];for(c=0,p=h.down.length;c<p;c++)o[h.down[c]]=[0,e];for(c=0,p=h.up.length;c<p;c++)o[h.up[c]]=[0,-1*e]},_setZoomDelta:function(e){var o=this._zoomKeys={},h=this.keyCodes,c,p;for(c=0,p=h.zoomIn.length;c<p;c++)o[h.zoomIn[c]]=e;for(c=0,p=h.zoomOut.length;c<p;c++)o[h.zoomOut[c]]=-e},_addHooks:function(){G(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Y(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var o=e.keyCode,h=this._map,c;if(o in this._panKeys)(!h._panAnim||!h._panAnim._inProgress)&&(c=this._panKeys[o],e.shiftKey&&(c=z(c).multiplyBy(3)),h.panBy(c),h.options.maxBounds&&h.panInsideBounds(h.options.maxBounds));else if(o in this._zoomKeys)h.setZoom(h.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;ae(e)}}});ht.addInitHook("addHandler","keyboard",lo),ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ko=de.extend({addHooks:function(){G(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Y(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var o=jn(e),h=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var c=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(B(this._performZoom,this),c),ae(e)},_performZoom:function(){var e=this._map,o=e.getZoom(),h=this._map.options.zoomSnap||0;e._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,t=h?Math.ceil(p/h)*h:p,n=e._limitZoom(o+(this._delta>0?t:-t))-o;this._delta=0,this._startTime=null,n&&(e.options.scrollWheelZoom==="center"?e.setZoom(o+n):e.setZoomAround(this._lastMousePos,o+n))}});ht.addInitHook("addHandler","scrollWheelZoom",ko);var Do=600;ht.mergeOptions({tapHold:H.touchNative&&H.safari&&H.mobile,tapTolerance:15});var uo=de.extend({addHooks:function(){G(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Y(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var o=e.touches[0];this._startPos=this._newPos=new D(o.clientX,o.clientY),this._holdTimeout=setTimeout(B(function(){this._cancel(),this._isTapValid()&&(G(document,"touchend",Ot),G(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),Do),G(document,"touchend touchcancel contextmenu",this._cancel,this),G(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Y(document,"touchend",Ot),Y(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Y(document,"touchend touchcancel contextmenu",this._cancel,this),Y(document,"touchmove",this._onMove,this)},_onMove:function(e){var o=e.touches[0];this._newPos=new D(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,o){var h=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});h._simulated=!0,o.target.dispatchEvent(h)}});ht.addInitHook("addHandler","tapHold",uo),ht.mergeOptions({touchZoom:H.touch,bounceAtZoomLimits:!0});var fo=de.extend({addHooks:function(){j(this._map._container,"leaflet-touch-zoom"),G(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),Y(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var o=this._map;if(!(!e.touches||e.touches.length!==2||o._animatingZoom||this._zooming)){var h=o.mouseEventToContainerPoint(e.touches[0]),c=o.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(h.add(c)._divideBy(2))),this._startDist=h.distanceTo(c),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),G(document,"touchmove",this._onTouchMove,this),G(document,"touchend touchcancel",this._onTouchEnd,this),Ot(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var o=this._map,h=o.mouseEventToContainerPoint(e.touches[0]),c=o.mouseEventToContainerPoint(e.touches[1]),p=h.distanceTo(c)/this._startDist;if(this._zoom=o.getScaleZoom(p,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&p<1||this._zoom>o.getMaxZoom()&&p>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var t=h._add(c)._divideBy(2)._subtract(this._centerPoint);if(p===1&&t.x===0&&t.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(t),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),dt(this._animRequest);var n=B(o._move,o,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=ct(n,this,!0),Ot(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,dt(this._animRequest),Y(document,"touchmove",this._onTouchMove,this),Y(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ht.addInitHook("addHandler","touchZoom",fo),ht.BoxZoom=ji,ht.DoubleClickZoom=pi,ht.Drag=ho,ht.Keyboard=lo,ht.ScrollWheelZoom=ko,ht.TapHold=uo,ht.TouchZoom=fo,y.Bounds=$,y.Browser=H,y.CRS=It,y.Canvas=$e,y.Circle=ai,y.CircleMarker=Me,y.Class=Ct,y.Control=$t,y.DivIcon=fe,y.DivOverlay=pe,y.DomEvent=Ho,y.DomUtil=Et,y.Draggable=Dt,y.Evented=ie,y.FeatureGroup=Je,y.GeoJSON=ge,y.GridLayer=Ji,y.Handler=de,y.Icon=Yt,y.ImageOverlay=ye,y.LatLng=U,y.LatLngBounds=lt,y.Layer=Vt,y.LayerGroup=oi,y.LineUtil=qi,y.Map=ht,y.Marker=cn,y.Mixin=to,y.Path=Ee,y.Point=D,y.PolyUtil=Io,y.Polygon=hi,y.Polyline=Ft,y.Popup=Gi,y.PosAnimation=$n,y.Projection=bo,y.Rectangle=_i,y.Renderer=Pe,y.SVG=di,y.SVGOverlay=Bo,y.TileLayer=fi,y.Tooltip=Vi,y.Transformation=ze,y.Util=bn,y.VideoOverlay=gn,y.bind=B,y.bounds=yt,y.canvas=ro,y.circle=jo,y.circleMarker=Mo,y.control=ot,y.divIcon=Pn,y.extend=S,y.featureGroup=Ko,y.geoJSON=pn,y.geoJson=mn,y.gridLayer=xn,y.icon=si,y.imageOverlay=vn,y.latLng=K,y.latLngBounds=rt,y.layerGroup=Jo,y.map=qo,y.marker=ri,y.point=z,y.polygon=oo,y.polyline=dn,y.popup=$o,y.rectangle=es,y.setOptions=V,y.stamp=M,y.svg=ao,y.svgOverlay=yn,y.tileLayer=so,y.tooltip=Qo,y.transformation=ne,y.version=Z,y.videoOverlay=Ao;var zo=window.L;y.noConflict=function(){return window.L=zo,this},window.L=y})})(Qs,Wo);const mt=Wo;var us={},tr={get exports(){return us},set exports(w){us=w}};(function(w){var l={},y=!1;w.exports?(w.exports=l,y=!0):typeof document<"u"?window.ClipperLib=l:self.ClipperLib=l;var Z;if(y){var S="chrome";Z="Netscape"}else{var S=navigator.userAgent.toString().toLowerCase();Z=navigator.appName}var k={};S.indexOf("chrome")!=-1&&S.indexOf("chromium")==-1?k.chrome=1:k.chrome=0,S.indexOf("chromium")!=-1?k.chromium=1:k.chromium=0,S.indexOf("safari")!=-1&&S.indexOf("chrome")==-1&&S.indexOf("chromium")==-1?k.safari=1:k.safari=0,S.indexOf("firefox")!=-1?k.firefox=1:k.firefox=0,S.indexOf("firefox/17")!=-1?k.firefox17=1:k.firefox17=0,S.indexOf("firefox/15")!=-1?k.firefox15=1:k.firefox15=0,S.indexOf("firefox/3")!=-1?k.firefox3=1:k.firefox3=0,S.indexOf("opera")!=-1?k.opera=1:k.opera=0,S.indexOf("msie 10")!=-1?k.msie10=1:k.msie10=0,S.indexOf("msie 9")!=-1?k.msie9=1:k.msie9=0,S.indexOf("msie 8")!=-1?k.msie8=1:k.msie8=0,S.indexOf("msie 7")!=-1?k.msie7=1:k.msie7=0,S.indexOf("msie ")!=-1?k.msie=1:k.msie=0,l.biginteger_used=null;var B;function E(i,s,a){l.biginteger_used=1,i!=null&&(typeof i=="number"&&typeof s>"u"?this.fromInt(i):typeof i=="number"?this.fromNumber(i,s,a):s==null&&typeof i!="string"?this.fromString(i,256):this.fromString(i,s))}function M(){return new E(null)}function Ht(i,s,a,f,_,m){for(;--m>=0;){var g=s*this[i++]+a[f]+_;_=Math.floor(g/67108864),a[f++]=g&67108863}return _}function Bt(i,s,a,f,_,m){for(var g=s&32767,x=s>>15;--m>=0;){var C=this[i]&32767,I=this[i++]>>15,A=x*C+I*g;C=g*C+((A&32767)<<15)+a[f]+(_&1073741823),_=(C>>>30)+(A>>>15)+x*I+(_>>>30),a[f++]=C&1073741823}return _}function tt(i,s,a,f,_,m){for(var g=s&16383,x=s>>14;--m>=0;){var C=this[i]&16383,I=this[i++]>>14,A=x*C+I*g;C=g*C+((A&16383)<<14)+a[f]+_,_=(C>>28)+(A>>14)+x*I,a[f++]=C&268435455}return _}Z=="Microsoft Internet Explorer"?(E.prototype.am=Bt,B=30):Z!="Netscape"?(E.prototype.am=Ht,B=26):(E.prototype.am=tt,B=28),E.prototype.DB=B,E.prototype.DM=(1<<B)-1,E.prototype.DV=1<<B;var vt=52;E.prototype.FV=Math.pow(2,vt),E.prototype.F1=vt-B,E.prototype.F2=2*B-vt;var Nt="0123456789abcdefghijklmnopqrstuvwxyz",St=new Array,V,Zt;for(V="0".charCodeAt(0),Zt=0;Zt<=9;++Zt)St[V++]=Zt;for(V="a".charCodeAt(0),Zt=10;Zt<36;++Zt)St[V++]=Zt;for(V="A".charCodeAt(0),Zt=10;Zt<36;++Zt)St[V++]=Zt;function tn(i){return Nt.charAt(i)}function ei(i,s){var a=St[i.charCodeAt(s)];return a??-1}function wt(i){for(var s=this.t-1;s>=0;--s)i[s]=this[s];i.t=this.t,i.s=this.s}function Ne(i){this.t=1,this.s=i<0?-1:0,i>0?this[0]=i:i<-1?this[0]=i+this.DV:this.t=0}function Rt(i){var s=M();return s.fromInt(i),s}function ke(i,s){var a;if(s==16)a=4;else if(s==8)a=3;else if(s==256)a=8;else if(s==2)a=1;else if(s==32)a=5;else if(s==4)a=2;else{this.fromRadix(i,s);return}this.t=0,this.s=0;for(var f=i.length,_=!1,m=0;--f>=0;){var g=a==8?i[f]&255:ei(i,f);if(g<0){i.charAt(f)=="-"&&(_=!0);continue}_=!1,m==0?this[this.t++]=g:m+a>this.DB?(this[this.t-1]|=(g&(1<<this.DB-m)-1)<<m,this[this.t++]=g>>this.DB-m):this[this.t-1]|=g<<m,m+=a,m>=this.DB&&(m-=this.DB)}a==8&&i[0]&128&&(this.s=-1,m>0&&(this[this.t-1]|=(1<<this.DB-m)-1<<m)),this.clamp(),_&&E.ZERO.subTo(this,this)}function Pi(){for(var i=this.s&this.DM;this.t>0&&this[this.t-1]==i;)--this.t}function xi(i){if(this.s<0)return"-"+this.negate().toString(i);var s;if(i==16)s=4;else if(i==8)s=3;else if(i==2)s=1;else if(i==32)s=5;else if(i==4)s=2;else return this.toRadix(i);var a=(1<<s)-1,f,_=!1,m="",g=this.t,x=this.DB-g*this.DB%s;if(g-- >0)for(x<this.DB&&(f=this[g]>>x)>0&&(_=!0,m=tn(f));g>=0;)x<s?(f=(this[g]&(1<<x)-1)<<s-x,f|=this[--g]>>(x+=this.DB-s)):(f=this[g]>>(x-=s)&a,x<=0&&(x+=this.DB,--g)),f>0&&(_=!0),_&&(m+=tn(f));return _?m:"0"}function De(){var i=M();return E.ZERO.subTo(this,i),i}function wi(){return this.s<0?this.negate():this}function ct(i){var s=this.s-i.s;if(s!=0)return s;var a=this.t;if(s=a-i.t,s!=0)return this.s<0?-s:s;for(;--a>=0;)if((s=this[a]-i[a])!=0)return s;return 0}function dt(i){var s=1,a;return(a=i>>>16)!=0&&(i=a,s+=16),(a=i>>8)!=0&&(i=a,s+=8),(a=i>>4)!=0&&(i=a,s+=4),(a=i>>2)!=0&&(i=a,s+=2),(a=i>>1)!=0&&(i=a,s+=1),s}function bn(){return this.t<=0?0:this.DB*(this.t-1)+dt(this[this.t-1]^this.s&this.DM)}function Ct(i,s){var a;for(a=this.t-1;a>=0;--a)s[a+i]=this[a];for(a=i-1;a>=0;--a)s[a]=0;s.t=this.t+i,s.s=this.s}function Sn(i,s){for(var a=i;a<this.t;++a)s[a-i]=this[a];s.t=Math.max(this.t-i,0),s.s=this.s}function gt(i,s){var a=i%this.DB,f=this.DB-a,_=(1<<f)-1,m=Math.floor(i/this.DB),g=this.s<<a&this.DM,x;for(x=this.t-1;x>=0;--x)s[x+m+1]=this[x]>>f|g,g=(this[x]&_)<<a;for(x=m-1;x>=0;--x)s[x]=0;s[m]=g,s.t=this.t+m+1,s.s=this.s,s.clamp()}function ie(i,s){s.s=this.s;var a=Math.floor(i/this.DB);if(a>=this.t){s.t=0;return}var f=i%this.DB,_=this.DB-f,m=(1<<f)-1;s[0]=this[a]>>f;for(var g=a+1;g<this.t;++g)s[g-a-1]|=(this[g]&m)<<_,s[g-a]=this[g]>>f;f>0&&(s[this.t-a-1]|=(this.s&m)<<_),s.t=this.t-a,s.clamp()}function D(i,s){for(var a=0,f=0,_=Math.min(i.t,this.t);a<_;)f+=this[a]-i[a],s[a++]=f&this.DM,f>>=this.DB;if(i.t<this.t){for(f-=i.s;a<this.t;)f+=this[a],s[a++]=f&this.DM,f>>=this.DB;f+=this.s}else{for(f+=this.s;a<i.t;)f-=i[a],s[a++]=f&this.DM,f>>=this.DB;f-=i.s}s.s=f<0?-1:0,f<-1?s[a++]=this.DV+f:f>0&&(s[a++]=f),s.t=a,s.clamp()}function Li(i,s){var a=this.abs(),f=i.abs(),_=a.t;for(s.t=_+f.t;--_>=0;)s[_]=0;for(_=0;_<f.t;++_)s[_+a.t]=a.am(0,f[_],s,_,0,a.t);s.s=0,s.clamp(),this.s!=i.s&&E.ZERO.subTo(s,s)}function z(i){for(var s=this.abs(),a=i.t=2*s.t;--a>=0;)i[a]=0;for(a=0;a<s.t-1;++a){var f=s.am(a,s[a],i,2*a,0,1);(i[a+s.t]+=s.am(a+1,2*s[a],i,2*a+1,f,s.t-a-1))>=s.DV&&(i[a+s.t]-=s.DV,i[a+s.t+1]=1)}i.t>0&&(i[i.t-1]+=s.am(a,s[a],i,2*a,0,1)),i.s=0,i.clamp()}function $(i,s,a){var f=i.abs();if(!(f.t<=0)){var _=this.abs();if(_.t<f.t){s!=null&&s.fromInt(0),a!=null&&this.copyTo(a);return}a==null&&(a=M());var m=M(),g=this.s,x=i.s,C=this.DB-dt(f[f.t-1]);C>0?(f.lShiftTo(C,m),_.lShiftTo(C,a)):(f.copyTo(m),_.copyTo(a));var I=m.t,A=m[I-1];if(A!=0){var N=A*(1<<this.F1)+(I>1?m[I-2]>>this.F2:0),X=this.FV/N,q=(1<<this.F1)/N,W=1<<this.F2,nt=a.t,_t=nt-I,Et=s??M();for(m.dlShiftTo(_t,Et),a.compareTo(Et)>=0&&(a[a.t++]=1,a.subTo(Et,a)),E.ONE.dlShiftTo(I,Et),Et.subTo(m,m);m.t<I;)m[m.t++]=0;for(;--_t>=0;){var G=a[--nt]==A?this.DM:Math.floor(a[nt]*X+(a[nt-1]+W)*q);if((a[nt]+=m.am(0,G,a,_t,0,I))<G)for(m.dlShiftTo(_t,Et),a.subTo(Et,a);a[nt]<--G;)a.subTo(Et,a)}s!=null&&(a.drShiftTo(I,s),g!=x&&E.ZERO.subTo(s,s)),a.t=I,a.clamp(),C>0&&a.rShiftTo(C,a),g<0&&E.ZERO.subTo(a,a)}}}function yt(i){var s=M();return this.abs().divRemTo(i,null,s),this.s<0&&s.compareTo(E.ZERO)>0&&i.subTo(s,s),s}function lt(i){this.m=i}function rt(i){return i.s<0||i.compareTo(this.m)>=0?i.mod(this.m):i}function U(i){return i}function K(i){i.divRemTo(this.m,null,i)}function It(i,s,a){i.multiplyTo(s,a),this.reduce(a)}function kt(i,s){i.squareTo(s),this.reduce(s)}lt.prototype.convert=rt,lt.prototype.revert=U,lt.prototype.reduce=K,lt.prototype.mulTo=It,lt.prototype.sqrTo=kt;function Ti(){if(this.t<1)return 0;var i=this[0];if(!(i&1))return 0;var s=i&3;return s=s*(2-(i&15)*s)&15,s=s*(2-(i&255)*s)&255,s=s*(2-((i&65535)*s&65535))&65535,s=s*(2-i*s%this.DV)%this.DV,s>0?this.DV-s:-s}function qt(i){this.m=i,this.mp=i.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<i.DB-15)-1,this.mt2=2*i.t}function ze(i){var s=M();return i.abs().dlShiftTo(this.m.t,s),s.divRemTo(this.m,null,s),i.s<0&&s.compareTo(E.ZERO)>0&&this.m.subTo(s,s),s}function ne(i){var s=M();return i.copyTo(s),this.reduce(s),s}function Ze(i){for(;i.t<=this.mt2;)i[i.t++]=0;for(var s=0;s<this.m.t;++s){var a=i[s]&32767,f=a*this.mpl+((a*this.mph+(i[s]>>15)*this.mpl&this.um)<<15)&i.DM;for(a=s+this.m.t,i[a]+=this.m.am(0,f,i,s,0,this.m.t);i[a]>=i.DV;)i[a]-=i.DV,i[++a]++}i.clamp(),i.drShiftTo(this.m.t,i),i.compareTo(this.m)>=0&&i.subTo(this.m,i)}function En(i,s){i.squareTo(s),this.reduce(s)}function Ci(i,s,a){i.multiplyTo(s,a),this.reduce(a)}qt.prototype.convert=ze,qt.prototype.revert=ne,qt.prototype.reduce=Ze,qt.prototype.mulTo=Ci,qt.prototype.sqrTo=En;function Ii(){return(this.t>0?this[0]&1:this.s)==0}function Re(i,s){if(i>4294967295||i<1)return E.ONE;var a=M(),f=M(),_=s.convert(this),m=dt(i)-1;for(_.copyTo(a);--m>=0;)if(s.sqrTo(a,f),(i&1<<m)>0)s.mulTo(f,_,a);else{var g=a;a=f,f=g}return s.revert(a)}function me(i,s){var a;return i<256||s.isEven()?a=new lt(s):a=new qt(s),this.exp(i,a)}E.prototype.copyTo=wt,E.prototype.fromInt=Ne,E.prototype.fromString=ke,E.prototype.clamp=Pi,E.prototype.dlShiftTo=Ct,E.prototype.drShiftTo=Sn,E.prototype.lShiftTo=gt,E.prototype.rShiftTo=ie,E.prototype.subTo=D,E.prototype.multiplyTo=Li,E.prototype.squareTo=z,E.prototype.divRemTo=$,E.prototype.invDigit=Ti,E.prototype.isEven=Ii,E.prototype.exp=Re,E.prototype.toString=xi,E.prototype.negate=De,E.prototype.abs=wi,E.prototype.compareTo=ct,E.prototype.bitLength=bn,E.prototype.mod=yt,E.prototype.modPowInt=me,E.ZERO=Rt(0),E.ONE=Rt(1);function Mn(){var i=M();return this.copyTo(i),i}function bi(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Xe(){return this.t==0?this.s:this[0]<<24>>24}function Si(){return this.t==0?this.s:this[0]<<16>>16}function Ei(i){return Math.floor(Math.LN2*this.DB/Math.log(i))}function On(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function An(i){if(i==null&&(i=10),this.signum()==0||i<2||i>36)return"0";var s=this.chunkSize(i),a=Math.pow(i,s),f=Rt(a),_=M(),m=M(),g="";for(this.divRemTo(f,_,m);_.signum()>0;)g=(a+m.intValue()).toString(i).substr(1)+g,_.divRemTo(f,_,m);return m.intValue().toString(i)+g}function Ye(i,s){this.fromInt(0),s==null&&(s=10);for(var a=this.chunkSize(s),f=Math.pow(s,a),_=!1,m=0,g=0,x=0;x<i.length;++x){var C=ei(i,x);if(C<0){i.charAt(x)=="-"&&this.signum()==0&&(_=!0);continue}g=s*g+C,++m>=a&&(this.dMultiply(f),this.dAddOffset(g,0),m=0,g=0)}m>0&&(this.dMultiply(Math.pow(s,m)),this.dAddOffset(g,0)),_&&E.ZERO.subTo(this,this)}function Mi(i,s,a){if(typeof s=="number")if(i<2)this.fromInt(1);else for(this.fromNumber(i,a),this.testBit(i-1)||this.bitwiseTo(E.ONE.shiftLeft(i-1),We,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(s);)this.dAddOffset(2,0),this.bitLength()>i&&this.subTo(E.ONE.shiftLeft(i-1),this);else{var f=new Array,_=i&7;f.length=(i>>3)+1,s.nextBytes(f),_>0?f[0]&=(1<<_)-1:f[0]=0,this.fromString(f,256)}}function Oi(){var i=this.t,s=new Array;s[0]=this.s;var a=this.DB-i*this.DB%8,f,_=0;if(i-- >0)for(a<this.DB&&(f=this[i]>>a)!=(this.s&this.DM)>>a&&(s[_++]=f|this.s<<this.DB-a);i>=0;)a<8?(f=(this[i]&(1<<a)-1)<<8-a,f|=this[--i]>>(a+=this.DB-8)):(f=this[i]>>(a-=8)&255,a<=0&&(a+=this.DB,--i)),f&128&&(f|=-256),_==0&&(this.s&128)!=(f&128)&&++_,(_>0||f!=this.s)&&(s[_++]=f);return s}function Bn(i){return this.compareTo(i)==0}function Ai(i){return this.compareTo(i)<0?this:i}function Bi(i){return this.compareTo(i)>0?this:i}function Nn(i,s,a){var f,_,m=Math.min(i.t,this.t);for(f=0;f<m;++f)a[f]=s(this[f],i[f]);if(i.t<this.t){for(_=i.s&this.DM,f=m;f<this.t;++f)a[f]=s(this[f],_);a.t=this.t}else{for(_=this.s&this.DM,f=m;f<i.t;++f)a[f]=s(_,i[f]);a.t=i.t}a.s=s(this.s,i.s),a.clamp()}function Ni(i,s){return i&s}function Fe(i){var s=M();return this.bitwiseTo(i,Ni,s),s}function We(i,s){return i|s}function kn(i){var s=M();return this.bitwiseTo(i,We,s),s}function Jt(i,s){return i^s}function Dn(i){var s=M();return this.bitwiseTo(i,Jt,s),s}function en(i,s){return i&~s}function ki(i){var s=M();return this.bitwiseTo(i,en,s),s}function Di(){for(var i=M(),s=0;s<this.t;++s)i[s]=this.DM&~this[s];return i.t=this.t,i.s=~this.s,i}function zi(i){var s=M();return i<0?this.rShiftTo(-i,s):this.lShiftTo(i,s),s}function zn(i){var s=M();return i<0?this.lShiftTo(-i,s):this.rShiftTo(i,s),s}function Zn(i){if(i==0)return-1;var s=0;return i&65535||(i>>=16,s+=16),i&255||(i>>=8,s+=8),i&15||(i>>=4,s+=4),i&3||(i>>=2,s+=2),i&1||++s,s}function Rn(){for(var i=0;i<this.t;++i)if(this[i]!=0)return i*this.DB+Zn(this[i]);return this.s<0?this.t*this.DB:-1}function Xn(i){for(var s=0;i!=0;)i&=i-1,++s;return s}function Yn(){for(var i=0,s=this.s&this.DM,a=0;a<this.t;++a)i+=Xn(this[a]^s);return i}function Fn(i){var s=Math.floor(i/this.DB);return s>=this.t?this.s!=0:(this[s]&1<<i%this.DB)!=0}function He(i,s){var a=E.ONE.shiftLeft(i);return this.bitwiseTo(a,s,a),a}function Wn(i){return this.changeBit(i,We)}function Hn(i){return this.changeBit(i,en)}function Kt(i){return this.changeBit(i,Jt)}function H(i,s){for(var a=0,f=0,_=Math.min(i.t,this.t);a<_;)f+=this[a]+i[a],s[a++]=f&this.DM,f>>=this.DB;if(i.t<this.t){for(f+=i.s;a<this.t;)f+=this[a],s[a++]=f&this.DM,f>>=this.DB;f+=this.s}else{for(f+=this.s;a<i.t;)f+=i[a],s[a++]=f&this.DM,f>>=this.DB;f+=i.s}s.s=f<0?-1:0,f>0?s[a++]=f:f<-1&&(s[a++]=this.DV+f),s.t=a,s.clamp()}function Ut(i){var s=M();return this.addTo(i,s),s}function F(i){var s=M();return this.subTo(i,s),s}function Zi(i){var s=M();return this.multiplyTo(i,s),s}function Ri(){var i=M();return this.squareTo(i),i}function ii(i){var s=M();return this.divRemTo(i,s,null),s}function Xi(i){var s=M();return this.divRemTo(i,null,s),s}function ce(i){var s=M(),a=M();return this.divRemTo(i,s,a),new Array(s,a)}function Yi(i){this[this.t]=this.am(0,i-1,this,0,0,this.t),++this.t,this.clamp()}function we(i,s){if(i!=0){for(;this.t<=s;)this[this.t++]=0;for(this[s]+=i;this[s]>=this.DV;)this[s]-=this.DV,++s>=this.t&&(this[this.t++]=0),++this[s]}}function Le(){}function nn(i){return i}function qn(i,s,a){i.multiplyTo(s,a)}function on(i,s){i.squareTo(s)}Le.prototype.convert=nn,Le.prototype.revert=nn,Le.prototype.mulTo=qn,Le.prototype.sqrTo=on;function Un(i){return this.exp(i,new Le)}function qe(i,s,a){var f=Math.min(this.t+i.t,s);for(a.s=0,a.t=f;f>0;)a[--f]=0;var _;for(_=a.t-this.t;f<_;++f)a[f+this.t]=this.am(0,i[f],a,f,0,this.t);for(_=Math.min(i.t,s);f<_;++f)this.am(0,i[f],a,f,0,s-f);a.clamp()}function Gn(i,s,a){--s;var f=a.t=this.t+i.t-s;for(a.s=0;--f>=0;)a[f]=0;for(f=Math.max(s-this.t,0);f<i.t;++f)a[this.t+f-s]=this.am(s-f,i[f],a,0,0,this.t+f-s);a.clamp(),a.drShiftTo(1,a)}function oe(i){this.r2=M(),this.q3=M(),E.ONE.dlShiftTo(2*i.t,this.r2),this.mu=this.r2.divide(i),this.m=i}function Vn(i){if(i.s<0||i.t>2*this.m.t)return i.mod(this.m);if(i.compareTo(this.m)<0)return i;var s=M();return i.copyTo(s),this.reduce(s),s}function Jn(i){return i}function Kn(i){for(i.drShiftTo(this.m.t-1,this.r2),i.t>this.m.t+1&&(i.t=this.m.t+1,i.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);i.compareTo(this.r2)<0;)i.dAddOffset(1,this.m.t+1);for(i.subTo(this.r2,i);i.compareTo(this.m)>=0;)i.subTo(this.m,i)}function Fi(i,s){i.squareTo(s),this.reduce(s)}function Ue(i,s,a){i.multiplyTo(s,a),this.reduce(a)}oe.prototype.convert=Vn,oe.prototype.revert=Jn,oe.prototype.reduce=Kn,oe.prototype.mulTo=Ue,oe.prototype.sqrTo=Fi;function ni(i,s){var a=i.bitLength(),f,_=Rt(1),m;if(a<=0)return _;a<18?f=1:a<48?f=3:a<144?f=4:a<768?f=5:f=6,a<8?m=new lt(s):s.isEven()?m=new oe(s):m=new qt(s);var g=new Array,x=3,C=f-1,I=(1<<f)-1;if(g[1]=m.convert(this),f>1){var A=M();for(m.sqrTo(g[1],A);x<=I;)g[x]=M(),m.mulTo(A,g[x-2],g[x]),x+=2}var N=i.t-1,X,q=!0,W=M(),nt;for(a=dt(i[N])-1;N>=0;){for(a>=C?X=i[N]>>a-C&I:(X=(i[N]&(1<<a+1)-1)<<C-a,N>0&&(X|=i[N-1]>>this.DB+a-C)),x=f;!(X&1);)X>>=1,--x;if((a-=x)<0&&(a+=this.DB,--N),q)g[X].copyTo(_),q=!1;else{for(;x>1;)m.sqrTo(_,W),m.sqrTo(W,_),x-=2;x>0?m.sqrTo(_,W):(nt=_,_=W,W=nt),m.mulTo(W,g[X],_)}for(;N>=0&&!(i[N]&1<<a);)m.sqrTo(_,W),nt=_,_=W,W=nt,--a<0&&(a=this.DB-1,--N)}return m.revert(_)}function Te(i){var s=this.s<0?this.negate():this.clone(),a=i.s<0?i.negate():i.clone();if(s.compareTo(a)<0){var f=s;s=a,a=f}var _=s.getLowestSetBit(),m=a.getLowestSetBit();if(m<0)return s;for(_<m&&(m=_),m>0&&(s.rShiftTo(m,s),a.rShiftTo(m,a));s.signum()>0;)(_=s.getLowestSetBit())>0&&s.rShiftTo(_,s),(_=a.getLowestSetBit())>0&&a.rShiftTo(_,a),s.compareTo(a)>=0?(s.subTo(a,s),s.rShiftTo(1,s)):(a.subTo(s,a),a.rShiftTo(1,a));return m>0&&a.lShiftTo(m,a),a}function Ce(i){if(i<=0)return 0;var s=this.DV%i,a=this.s<0?i-1:0;if(this.t>0)if(s==0)a=this[0]%i;else for(var f=this.t-1;f>=0;--f)a=(s*a+this[f])%i;return a}function ut(i){var s=i.isEven();if(this.isEven()&&s||i.signum()==0)return E.ZERO;for(var a=i.clone(),f=this.clone(),_=Rt(1),m=Rt(0),g=Rt(0),x=Rt(1);a.signum()!=0;){for(;a.isEven();)a.rShiftTo(1,a),s?((!_.isEven()||!m.isEven())&&(_.addTo(this,_),m.subTo(i,m)),_.rShiftTo(1,_)):m.isEven()||m.subTo(i,m),m.rShiftTo(1,m);for(;f.isEven();)f.rShiftTo(1,f),s?((!g.isEven()||!x.isEven())&&(g.addTo(this,g),x.subTo(i,x)),g.rShiftTo(1,g)):x.isEven()||x.subTo(i,x),x.rShiftTo(1,x);a.compareTo(f)>=0?(a.subTo(f,a),s&&_.subTo(g,_),m.subTo(x,m)):(f.subTo(a,f),s&&g.subTo(_,g),x.subTo(m,x))}if(f.compareTo(E.ONE)!=0)return E.ZERO;if(x.compareTo(i)>=0)return x.subtract(i);if(x.signum()<0)x.addTo(i,x);else return x;return x.signum()<0?x.add(i):x}var it=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],at=(1<<26)/it[it.length-1];function ft(i){var s,a=this.abs();if(a.t==1&&a[0]<=it[it.length-1]){for(s=0;s<it.length;++s)if(a[0]==it[s])return!0;return!1}if(a.isEven())return!1;for(s=1;s<it.length;){for(var f=it[s],_=s+1;_<it.length&&f<at;)f*=it[_++];for(f=a.modInt(f);s<_;)if(f%it[s++]==0)return!1}return a.millerRabin(i)}function se(i){var s=this.subtract(E.ONE),a=s.getLowestSetBit();if(a<=0)return!1;var f=s.shiftRight(a);i=i+1>>1,i>it.length&&(i=it.length);for(var _=M(),m=0;m<i;++m){_.fromInt(it[Math.floor(Math.random()*it.length)]);var g=_.modPow(f,this);if(g.compareTo(E.ONE)!=0&&g.compareTo(s)!=0){for(var x=1;x++<a&&g.compareTo(s)!=0;)if(g=g.modPowInt(2,this),g.compareTo(E.ONE)==0)return!1;if(g.compareTo(s)!=0)return!1}}return!0}E.prototype.chunkSize=Ei,E.prototype.toRadix=An,E.prototype.fromRadix=Ye,E.prototype.fromNumber=Mi,E.prototype.bitwiseTo=Nn,E.prototype.changeBit=He,E.prototype.addTo=H,E.prototype.dMultiply=Yi,E.prototype.dAddOffset=we,E.prototype.multiplyLowerTo=qe,E.prototype.multiplyUpperTo=Gn,E.prototype.modInt=Ce,E.prototype.millerRabin=se,E.prototype.clone=Mn,E.prototype.intValue=bi,E.prototype.byteValue=Xe,E.prototype.shortValue=Si,E.prototype.signum=On,E.prototype.toByteArray=Oi,E.prototype.equals=Bn,E.prototype.min=Ai,E.prototype.max=Bi,E.prototype.and=Fe,E.prototype.or=kn,E.prototype.xor=Dn,E.prototype.andNot=ki,E.prototype.not=Di,E.prototype.shiftLeft=zi,E.prototype.shiftRight=zn,E.prototype.getLowestSetBit=Rn,E.prototype.bitCount=Yn,E.prototype.testBit=Fn,E.prototype.setBit=Wn,E.prototype.clearBit=Hn,E.prototype.flipBit=Kt,E.prototype.add=Ut,E.prototype.subtract=F,E.prototype.multiply=Zi,E.prototype.divide=ii,E.prototype.remainder=Xi,E.prototype.divideAndRemainder=ce,E.prototype.modPow=ni,E.prototype.modInverse=ut,E.prototype.pow=Un,E.prototype.gcd=Te,E.prototype.isProbablePrime=ft,E.prototype.square=Ri;var Q=E;if(Q.prototype.IsNegative=function(){return this.compareTo(Q.ZERO)==-1},Q.op_Equality=function(i,s){return i.compareTo(s)==0},Q.op_Inequality=function(i,s){return i.compareTo(s)!=0},Q.op_GreaterThan=function(i,s){return i.compareTo(s)>0},Q.op_LessThan=function(i,s){return i.compareTo(s)<0},Q.op_Addition=function(i,s){return new Q(i).add(new Q(s))},Q.op_Subtraction=function(i,s){return new Q(i).subtract(new Q(s))},Q.Int128Mul=function(i,s){return new Q(i).multiply(new Q(s))},Q.op_Division=function(i,s){return i.divide(s)},Q.prototype.ToDouble=function(){return parseFloat(this.toString())},typeof j>"u")var j=function(i,s){var a;if(typeof Object.getOwnPropertyNames>"u"){for(a in s.prototype)(typeof i.prototype[a]>"u"||i.prototype[a]==Object.prototype[a])&&(i.prototype[a]=s.prototype[a]);for(a in s)typeof i[a]>"u"&&(i[a]=s[a]);i.$baseCtor=s}else{for(var f=Object.getOwnPropertyNames(s.prototype),_=0;_<f.length;_++)typeof Object.getOwnPropertyDescriptor(i.prototype,f[_])>"u"&&Object.defineProperty(i.prototype,f[_],Object.getOwnPropertyDescriptor(s.prototype,f[_]));for(a in s)typeof i[a]>"u"&&(i[a]=s[a]);i.$baseCtor=s}};l.Path=function(){return[]},l.Paths=function(){return[]},l.DoublePoint=function(){var i=arguments;this.X=0,this.Y=0,i.length==1?(this.X=i[0].X,this.Y=i[0].Y):i.length==2&&(this.X=i[0],this.Y=i[1])},l.DoublePoint0=function(){this.X=0,this.Y=0},l.DoublePoint1=function(i){this.X=i.X,this.Y=i.Y},l.DoublePoint2=function(i,s){this.X=i,this.Y=s},l.PolyNode=function(){this.m_Parent=null,this.m_polygon=new l.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},l.PolyNode.prototype.IsHoleNode=function(){for(var i=!0,s=this.m_Parent;s!==null;)i=!i,s=s.m_Parent;return i},l.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},l.PolyNode.prototype.Contour=function(){return this.m_polygon},l.PolyNode.prototype.AddChild=function(i){var s=this.m_Childs.length;this.m_Childs.push(i),i.m_Parent=this,i.m_Index=s},l.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},l.PolyNode.prototype.GetNextSiblingUp=function(){return this.m_Parent===null?null:this.m_Index==this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},l.PolyNode.prototype.Childs=function(){return this.m_Childs},l.PolyNode.prototype.Parent=function(){return this.m_Parent},l.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},l.PolyTree=function(){this.m_AllPolys=[],l.PolyNode.call(this)},l.PolyTree.prototype.Clear=function(){for(var i=0,s=this.m_AllPolys.length;i<s;i++)this.m_AllPolys[i]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},l.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},l.PolyTree.prototype.Total=function(){return this.m_AllPolys.length},j(l.PolyTree,l.PolyNode),l.Math_Abs_Int64=l.Math_Abs_Int32=l.Math_Abs_Double=function(i){return Math.abs(i)},l.Math_Max_Int32_Int32=function(i,s){return Math.max(i,s)},k.msie||k.opera||k.safari?l.Cast_Int32=function(i){return i|0}:l.Cast_Int32=function(i){return~~i},k.chrome?l.Cast_Int64=function(i){return i<-2147483648||i>2147483647?i<0?Math.ceil(i):Math.floor(i):~~i}:k.firefox&&typeof Number.toInteger=="function"?l.Cast_Int64=function(i){return Number.toInteger(i)}:k.msie7||k.msie8?l.Cast_Int64=function(i){return parseInt(i,10)}:k.msie?l.Cast_Int64=function(i){return i<-2147483648||i>2147483647?i<0?Math.ceil(i):Math.floor(i):i|0}:l.Cast_Int64=function(i){return i<0?Math.ceil(i):Math.floor(i)},l.Clear=function(i){i.length=0},l.PI=3.141592653589793,l.PI2=2*3.141592653589793,l.IntPoint=function(){var i=arguments,s=i.length;this.X=0,this.Y=0;var a,f;if(s==2)this.X=i[0],this.Y=i[1];else if(s==1)if(i[0]instanceof l.DoublePoint){var a=i[0];this.X=l.Clipper.Round(a.X),this.Y=l.Clipper.Round(a.Y)}else{var f=i[0];this.X=f.X,this.Y=f.Y}else this.X=0,this.Y=0},l.IntPoint.op_Equality=function(i,s){return i.X==s.X&&i.Y==s.Y},l.IntPoint.op_Inequality=function(i,s){return i.X!=s.X||i.Y!=s.Y},l.IntPoint0=function(){this.X=0,this.Y=0},l.IntPoint1=function(i){this.X=i.X,this.Y=i.Y},l.IntPoint1dp=function(i){this.X=l.Clipper.Round(i.X),this.Y=l.Clipper.Round(i.Y)},l.IntPoint2=function(i,s){this.X=i,this.Y=s},l.IntRect=function(){var i=arguments,s=i.length;s==4?(this.left=i[0],this.top=i[1],this.right=i[2],this.bottom=i[3]):s==1?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)},l.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},l.IntRect1=function(i){this.left=i.left,this.top=i.top,this.right=i.right,this.bottom=i.bottom},l.IntRect4=function(i,s,a,f){this.left=i,this.top=s,this.right=a,this.bottom=f},l.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},l.PolyType={ptSubject:0,ptClip:1},l.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},l.JoinType={jtSquare:0,jtRound:1,jtMiter:2},l.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},l.EdgeSide={esLeft:0,esRight:1},l.Direction={dRightToLeft:0,dLeftToRight:1},l.TEdge=function(){this.Bot=new l.IntPoint,this.Curr=new l.IntPoint,this.Top=new l.IntPoint,this.Delta=new l.IntPoint,this.Dx=0,this.PolyTyp=l.PolyType.ptSubject,this.Side=l.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},l.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new l.IntPoint},l.MyIntersectNodeSort=function(){},l.MyIntersectNodeSort.Compare=function(i,s){return s.Pt.Y-i.Pt.Y},l.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},l.Scanbeam=function(){this.Y=0,this.Next=null},l.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},l.OutPt=function(){this.Idx=0,this.Pt=new l.IntPoint,this.Next=null,this.Prev=null},l.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new l.IntPoint},l.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},l.ClipperBase.horizontal=-9007199254740992,l.ClipperBase.Skip=-2,l.ClipperBase.Unassigned=-1,l.ClipperBase.tolerance=1e-20,l.ClipperBase.loRange=47453132,l.ClipperBase.hiRange=0xfffffffffffff,l.ClipperBase.near_zero=function(i){return i>-l.ClipperBase.tolerance&&i<l.ClipperBase.tolerance},l.ClipperBase.IsHorizontal=function(i){return i.Delta.Y===0},l.ClipperBase.prototype.PointIsVertex=function(i,s){var a=s;do{if(l.IntPoint.op_Equality(a.Pt,i))return!0;a=a.Next}while(a!=s);return!1},l.ClipperBase.prototype.PointOnLineSegment=function(i,s,a,f){return f?i.X==s.X&&i.Y==s.Y||i.X==a.X&&i.Y==a.Y||i.X>s.X==i.X<a.X&&i.Y>s.Y==i.Y<a.Y&&Q.op_Equality(Q.Int128Mul(i.X-s.X,a.Y-s.Y),Q.Int128Mul(a.X-s.X,i.Y-s.Y)):i.X==s.X&&i.Y==s.Y||i.X==a.X&&i.Y==a.Y||i.X>s.X==i.X<a.X&&i.Y>s.Y==i.Y<a.Y&&(i.X-s.X)*(a.Y-s.Y)==(a.X-s.X)*(i.Y-s.Y)},l.ClipperBase.prototype.PointOnPolygon=function(i,s,a){for(var f=s;;){if(this.PointOnLineSegment(i,f.Pt,f.Next.Pt,a))return!0;if(f=f.Next,f==s)break}return!1},l.ClipperBase.prototype.SlopesEqual=l.ClipperBase.SlopesEqual=function(){var i=arguments,s=i.length,a,f,_,m,g,x,C;return s==3?(a=i[0],f=i[1],C=i[2],C?Q.op_Equality(Q.Int128Mul(a.Delta.Y,f.Delta.X),Q.Int128Mul(a.Delta.X,f.Delta.Y)):l.Cast_Int64(a.Delta.Y*f.Delta.X)==l.Cast_Int64(a.Delta.X*f.Delta.Y)):s==4?(_=i[0],m=i[1],g=i[2],C=i[3],C?Q.op_Equality(Q.Int128Mul(_.Y-m.Y,m.X-g.X),Q.Int128Mul(_.X-m.X,m.Y-g.Y)):l.Cast_Int64((_.Y-m.Y)*(m.X-g.X))-l.Cast_Int64((_.X-m.X)*(m.Y-g.Y))===0):(_=i[0],m=i[1],g=i[2],x=i[3],C=i[4],C?Q.op_Equality(Q.Int128Mul(_.Y-m.Y,g.X-x.X),Q.Int128Mul(_.X-m.X,g.Y-x.Y)):l.Cast_Int64((_.Y-m.Y)*(g.X-x.X))-l.Cast_Int64((_.X-m.X)*(g.Y-x.Y))===0)},l.ClipperBase.SlopesEqual3=function(i,s,a){return a?Q.op_Equality(Q.Int128Mul(i.Delta.Y,s.Delta.X),Q.Int128Mul(i.Delta.X,s.Delta.Y)):l.Cast_Int64(i.Delta.Y*s.Delta.X)==l.Cast_Int64(i.Delta.X*s.Delta.Y)},l.ClipperBase.SlopesEqual4=function(i,s,a,f){return f?Q.op_Equality(Q.Int128Mul(i.Y-s.Y,s.X-a.X),Q.Int128Mul(i.X-s.X,s.Y-a.Y)):l.Cast_Int64((i.Y-s.Y)*(s.X-a.X))-l.Cast_Int64((i.X-s.X)*(s.Y-a.Y))===0},l.ClipperBase.SlopesEqual5=function(i,s,a,f,_){return _?Q.op_Equality(Q.Int128Mul(i.Y-s.Y,a.X-f.X),Q.Int128Mul(i.X-s.X,a.Y-f.Y)):l.Cast_Int64((i.Y-s.Y)*(a.X-f.X))-l.Cast_Int64((i.X-s.X)*(a.Y-f.Y))===0},l.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var i=0,s=this.m_edges.length;i<s;++i){for(var a=0,f=this.m_edges[i].length;a<f;++a)this.m_edges[i][a]=null;l.Clear(this.m_edges[i])}l.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},l.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;this.m_MinimaList!==null;){var i=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=i}this.m_CurrentLM=null},l.ClipperBase.prototype.RangeTest=function(i,s){s.Value?(i.X>l.ClipperBase.hiRange||i.Y>l.ClipperBase.hiRange||-i.X>l.ClipperBase.hiRange||-i.Y>l.ClipperBase.hiRange)&&l.Error("Coordinate outside allowed range in RangeTest()."):(i.X>l.ClipperBase.loRange||i.Y>l.ClipperBase.loRange||-i.X>l.ClipperBase.loRange||-i.Y>l.ClipperBase.loRange)&&(s.Value=!0,this.RangeTest(i,s))},l.ClipperBase.prototype.InitEdge=function(i,s,a,f){i.Next=s,i.Prev=a,i.Curr.X=f.X,i.Curr.Y=f.Y,i.OutIdx=-1},l.ClipperBase.prototype.InitEdge2=function(i,s){i.Curr.Y>=i.Next.Curr.Y?(i.Bot.X=i.Curr.X,i.Bot.Y=i.Curr.Y,i.Top.X=i.Next.Curr.X,i.Top.Y=i.Next.Curr.Y):(i.Top.X=i.Curr.X,i.Top.Y=i.Curr.Y,i.Bot.X=i.Next.Curr.X,i.Bot.Y=i.Next.Curr.Y),this.SetDx(i),i.PolyTyp=s},l.ClipperBase.prototype.FindNextLocMin=function(i){for(var s;;){for(;l.IntPoint.op_Inequality(i.Bot,i.Prev.Bot)||l.IntPoint.op_Equality(i.Curr,i.Top);)i=i.Next;if(i.Dx!=l.ClipperBase.horizontal&&i.Prev.Dx!=l.ClipperBase.horizontal)break;for(;i.Prev.Dx==l.ClipperBase.horizontal;)i=i.Prev;for(s=i;i.Dx==l.ClipperBase.horizontal;)i=i.Next;if(i.Top.Y!=i.Prev.Bot.Y){s.Prev.Bot.X<i.Bot.X&&(i=s);break}}return i},l.ClipperBase.prototype.ProcessBound=function(i,s){var a=i,f=i,_,m;if(i.Dx==l.ClipperBase.horizontal&&(s?m=i.Prev.Bot.X:m=i.Next.Bot.X,i.Bot.X!=m&&this.ReverseHorizontal(i)),f.OutIdx!=l.ClipperBase.Skip)if(s){for(;f.Top.Y==f.Next.Bot.Y&&f.Next.OutIdx!=l.ClipperBase.Skip;)f=f.Next;if(f.Dx==l.ClipperBase.horizontal&&f.Next.OutIdx!=l.ClipperBase.Skip){for(_=f;_.Prev.Dx==l.ClipperBase.horizontal;)_=_.Prev;_.Prev.Top.X==f.Next.Top.X?s||(f=_.Prev):_.Prev.Top.X>f.Next.Top.X&&(f=_.Prev)}for(;i!=f;)i.NextInLML=i.Next,i.Dx==l.ClipperBase.horizontal&&i!=a&&i.Bot.X!=i.Prev.Top.X&&this.ReverseHorizontal(i),i=i.Next;i.Dx==l.ClipperBase.horizontal&&i!=a&&i.Bot.X!=i.Prev.Top.X&&this.ReverseHorizontal(i),f=f.Next}else{for(;f.Top.Y==f.Prev.Bot.Y&&f.Prev.OutIdx!=l.ClipperBase.Skip;)f=f.Prev;if(f.Dx==l.ClipperBase.horizontal&&f.Prev.OutIdx!=l.ClipperBase.Skip){for(_=f;_.Next.Dx==l.ClipperBase.horizontal;)_=_.Next;_.Next.Top.X==f.Prev.Top.X?s||(f=_.Next):_.Next.Top.X>f.Prev.Top.X&&(f=_.Next)}for(;i!=f;)i.NextInLML=i.Prev,i.Dx==l.ClipperBase.horizontal&&i!=a&&i.Bot.X!=i.Next.Top.X&&this.ReverseHorizontal(i),i=i.Prev;i.Dx==l.ClipperBase.horizontal&&i!=a&&i.Bot.X!=i.Next.Top.X&&this.ReverseHorizontal(i),f=f.Prev}if(f.OutIdx==l.ClipperBase.Skip){if(i=f,s){for(;i.Top.Y==i.Next.Bot.Y;)i=i.Next;for(;i!=f&&i.Dx==l.ClipperBase.horizontal;)i=i.Prev}else{for(;i.Top.Y==i.Prev.Bot.Y;)i=i.Prev;for(;i!=f&&i.Dx==l.ClipperBase.horizontal;)i=i.Next}if(i==f)s?f=i.Next:f=i.Prev;else{s?i=f.Next:i=f.Prev;var g=new l.LocalMinima;g.Next=null,g.Y=i.Bot.Y,g.LeftBound=null,g.RightBound=i,g.RightBound.WindDelta=0,f=this.ProcessBound(g.RightBound,s),this.InsertLocalMinima(g)}}return f},l.ClipperBase.prototype.AddPath=function(i,s,a){!a&&s==l.PolyType.ptClip&&l.Error("AddPath: Open paths must be subject.");var f=i.length-1;if(a)for(;f>0&&l.IntPoint.op_Equality(i[f],i[0]);)--f;for(;f>0&&l.IntPoint.op_Equality(i[f],i[f-1]);)--f;if(a&&f<2||!a&&f<1)return!1;for(var _=new Array,m=0;m<=f;m++)_.push(new l.TEdge);var g=!0;_[1].Curr.X=i[1].X,_[1].Curr.Y=i[1].Y;var x={Value:this.m_UseFullRange};this.RangeTest(i[0],x),this.m_UseFullRange=x.Value,x.Value=this.m_UseFullRange,this.RangeTest(i[f],x),this.m_UseFullRange=x.Value,this.InitEdge(_[0],_[1],_[f],i[0]),this.InitEdge(_[f],_[0],_[f-1],i[f]);for(var m=f-1;m>=1;--m)x.Value=this.m_UseFullRange,this.RangeTest(i[m],x),this.m_UseFullRange=x.Value,this.InitEdge(_[m],_[m+1],_[m-1],i[m]);for(var C=_[0],I=C,A=C;;){if(l.IntPoint.op_Equality(I.Curr,I.Next.Curr)){if(I==I.Next)break;I==C&&(C=I.Next),I=this.RemoveEdge(I),A=I;continue}if(I.Prev==I.Next)break;if(a&&l.ClipperBase.SlopesEqual(I.Prev.Curr,I.Curr,I.Next.Curr,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(I.Prev.Curr,I.Curr,I.Next.Curr))){I==C&&(C=I.Next),I=this.RemoveEdge(I),I=I.Prev,A=I;continue}if(I=I.Next,I==A)break}if(!a&&I==I.Next||a&&I.Prev==I.Next)return!1;a||(this.m_HasOpenPaths=!0,C.Prev.OutIdx=l.ClipperBase.Skip),I=C;do this.InitEdge2(I,s),I=I.Next,g&&I.Curr.Y!=C.Curr.Y&&(g=!1);while(I!=C);if(g){if(a)return!1;I.Prev.OutIdx=l.ClipperBase.Skip,I.Prev.Bot.X<I.Prev.Top.X&&this.ReverseHorizontal(I.Prev);var N=new l.LocalMinima;for(N.Next=null,N.Y=I.Bot.Y,N.LeftBound=null,N.RightBound=I,N.RightBound.Side=l.EdgeSide.esRight,N.RightBound.WindDelta=0;I.Next.OutIdx!=l.ClipperBase.Skip;)I.NextInLML=I.Next,I.Bot.X!=I.Prev.Top.X&&this.ReverseHorizontal(I),I=I.Next;return this.InsertLocalMinima(N),this.m_edges.push(_),!0}this.m_edges.push(_);for(var X,q=null;I=this.FindNextLocMin(I),I!=q;){q==null&&(q=I);var N=new l.LocalMinima;N.Next=null,N.Y=I.Bot.Y,I.Dx<I.Prev.Dx?(N.LeftBound=I.Prev,N.RightBound=I,X=!1):(N.LeftBound=I,N.RightBound=I.Prev,X=!0),N.LeftBound.Side=l.EdgeSide.esLeft,N.RightBound.Side=l.EdgeSide.esRight,a?N.LeftBound.Next==N.RightBound?N.LeftBound.WindDelta=-1:N.LeftBound.WindDelta=1:N.LeftBound.WindDelta=0,N.RightBound.WindDelta=-N.LeftBound.WindDelta,I=this.ProcessBound(N.LeftBound,X);var W=this.ProcessBound(N.RightBound,!X);N.LeftBound.OutIdx==l.ClipperBase.Skip?N.LeftBound=null:N.RightBound.OutIdx==l.ClipperBase.Skip&&(N.RightBound=null),this.InsertLocalMinima(N),X||(I=W)}return!0},l.ClipperBase.prototype.AddPaths=function(i,s,a){for(var f=!1,_=0,m=i.length;_<m;++_)this.AddPath(i[_],s,a)&&(f=!0);return f},l.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(i,s,a){return l.IntPoint.op_Equality(i,a)||l.IntPoint.op_Equality(i,s)||l.IntPoint.op_Equality(a,s)?!1:i.X!=a.X?s.X>i.X==s.X<a.X:s.Y>i.Y==s.Y<a.Y},l.ClipperBase.prototype.RemoveEdge=function(i){i.Prev.Next=i.Next,i.Next.Prev=i.Prev;var s=i.Next;return i.Prev=null,s},l.ClipperBase.prototype.SetDx=function(i){i.Delta.X=i.Top.X-i.Bot.X,i.Delta.Y=i.Top.Y-i.Bot.Y,i.Delta.Y===0?i.Dx=l.ClipperBase.horizontal:i.Dx=i.Delta.X/i.Delta.Y},l.ClipperBase.prototype.InsertLocalMinima=function(i){if(this.m_MinimaList===null)this.m_MinimaList=i;else if(i.Y>=this.m_MinimaList.Y)i.Next=this.m_MinimaList,this.m_MinimaList=i;else{for(var s=this.m_MinimaList;s.Next!==null&&i.Y<s.Next.Y;)s=s.Next;i.Next=s.Next,s.Next=i}},l.ClipperBase.prototype.PopLocalMinima=function(){this.m_CurrentLM!==null&&(this.m_CurrentLM=this.m_CurrentLM.Next)},l.ClipperBase.prototype.ReverseHorizontal=function(i){var s=i.Top.X;i.Top.X=i.Bot.X,i.Bot.X=s},l.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,this.m_CurrentLM!=null)for(var i=this.m_MinimaList;i!=null;){var s=i.LeftBound;s!=null&&(s.Curr.X=s.Bot.X,s.Curr.Y=s.Bot.Y,s.Side=l.EdgeSide.esLeft,s.OutIdx=l.ClipperBase.Unassigned),s=i.RightBound,s!=null&&(s.Curr.X=s.Bot.X,s.Curr.Y=s.Bot.Y,s.Side=l.EdgeSide.esRight,s.OutIdx=l.ClipperBase.Unassigned),i=i.Next}},l.Clipper=function(i){typeof i>"u"&&(i=0),this.m_PolyOuts=null,this.m_ClipType=l.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=l.PolyFillType.pftEvenOdd,this.m_SubjFillType=l.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,l.ClipperBase.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=l.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=(1&i)!==0,this.StrictlySimple=(2&i)!==0,this.PreserveCollinear=(4&i)!==0},l.Clipper.ioReverseSolution=1,l.Clipper.ioStrictlySimple=2,l.Clipper.ioPreserveCollinear=4,l.Clipper.prototype.Clear=function(){this.m_edges.length!==0&&(this.DisposeAllPolyPts(),l.ClipperBase.prototype.Clear.call(this))},l.Clipper.prototype.DisposeScanbeamList=function(){for(;this.m_Scanbeam!==null;){var i=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=i}},l.Clipper.prototype.Reset=function(){l.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var i=this.m_MinimaList;i!==null;)this.InsertScanbeam(i.Y),i=i.Next},l.Clipper.prototype.InsertScanbeam=function(i){if(this.m_Scanbeam===null)this.m_Scanbeam=new l.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=i;else if(i>this.m_Scanbeam.Y){var s=new l.Scanbeam;s.Y=i,s.Next=this.m_Scanbeam,this.m_Scanbeam=s}else{for(var a=this.m_Scanbeam;a.Next!==null&&i<=a.Next.Y;)a=a.Next;if(i==a.Y)return;var s=new l.Scanbeam;s.Y=i,s.Next=a.Next,a.Next=s}},l.Clipper.prototype.Execute=function(){var i=arguments,s=i.length,a=i[1]instanceof l.PolyTree;if(s==4&&!a){var f=i[0],_=i[1],m=i[2],g=i[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&l.Error("Error: PolyTree struct is need for open path clipping."),this.m_ExecuteLocked=!0,l.Clear(_),this.m_SubjFillType=m,this.m_ClipFillType=g,this.m_ClipType=f,this.m_UsingPolyTree=!1;try{var x=this.ExecuteInternal();x&&this.BuildResult(_)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return x}else if(s==4&&a){var f=i[0],C=i[1],m=i[2],g=i[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=m,this.m_ClipFillType=g,this.m_ClipType=f,this.m_UsingPolyTree=!0;try{var x=this.ExecuteInternal();x&&this.BuildResult2(C)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return x}else if(s==2&&!a){var f=i[0],_=i[1];return this.Execute(f,_,l.PolyFillType.pftEvenOdd,l.PolyFillType.pftEvenOdd)}else if(s==2&&a){var f=i[0],C=i[1];return this.Execute(f,C,l.PolyFillType.pftEvenOdd,l.PolyFillType.pftEvenOdd)}},l.Clipper.prototype.FixHoleLinkage=function(i){if(!(i.FirstLeft===null||i.IsHole!=i.FirstLeft.IsHole&&i.FirstLeft.Pts!==null)){for(var s=i.FirstLeft;s!==null&&(s.IsHole==i.IsHole||s.Pts===null);)s=s.FirstLeft;i.FirstLeft=s}},l.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),this.m_CurrentLM===null)return!1;var i=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(i),l.Clear(this.m_GhostJoins),this.ProcessHorizontals(!1),this.m_Scanbeam===null)break;var s=this.PopScanbeam();if(!this.ProcessIntersections(i,s))return!1;this.ProcessEdgesAtTopOfScanbeam(s),i=s}while(this.m_Scanbeam!==null||this.m_CurrentLM!==null);for(var a=0,f=this.m_PolyOuts.length;a<f;a++){var _=this.m_PolyOuts[a];_.Pts===null||_.IsOpen||(_.IsHole^this.ReverseSolution)==this.Area(_)>0&&this.ReversePolyPtLinks(_.Pts)}this.JoinCommonEdges();for(var a=0,f=this.m_PolyOuts.length;a<f;a++){var _=this.m_PolyOuts[a];_.Pts!==null&&!_.IsOpen&&this.FixupOutPolygon(_)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{l.Clear(this.m_Joins),l.Clear(this.m_GhostJoins)}},l.Clipper.prototype.PopScanbeam=function(){var i=this.m_Scanbeam.Y;return this.m_Scanbeam,this.m_Scanbeam=this.m_Scanbeam.Next,i},l.Clipper.prototype.DisposeAllPolyPts=function(){for(var i=0,s=this.m_PolyOuts.length;i<s;++i)this.DisposeOutRec(i);l.Clear(this.m_PolyOuts)},l.Clipper.prototype.DisposeOutRec=function(i){var s=this.m_PolyOuts[i];s.Pts!==null&&this.DisposeOutPts(s.Pts),s=null,this.m_PolyOuts[i]=null},l.Clipper.prototype.DisposeOutPts=function(i){if(i!==null)for(i.Prev.Next=null;i!==null;)i=i.Next},l.Clipper.prototype.AddJoin=function(i,s,a){var f=new l.Join;f.OutPt1=i,f.OutPt2=s,f.OffPt.X=a.X,f.OffPt.Y=a.Y,this.m_Joins.push(f)},l.Clipper.prototype.AddGhostJoin=function(i,s){var a=new l.Join;a.OutPt1=i,a.OffPt.X=s.X,a.OffPt.Y=s.Y,this.m_GhostJoins.push(a)},l.Clipper.prototype.InsertLocalMinimaIntoAEL=function(i){for(;this.m_CurrentLM!==null&&this.m_CurrentLM.Y==i;){var s=this.m_CurrentLM.LeftBound,a=this.m_CurrentLM.RightBound;this.PopLocalMinima();var f=null;if(s===null?(this.InsertEdgeIntoAEL(a,null),this.SetWindingCount(a),this.IsContributing(a)&&(f=this.AddOutPt(a,a.Bot))):a==null?(this.InsertEdgeIntoAEL(s,null),this.SetWindingCount(s),this.IsContributing(s)&&(f=this.AddOutPt(s,s.Bot)),this.InsertScanbeam(s.Top.Y)):(this.InsertEdgeIntoAEL(s,null),this.InsertEdgeIntoAEL(a,s),this.SetWindingCount(s),a.WindCnt=s.WindCnt,a.WindCnt2=s.WindCnt2,this.IsContributing(s)&&(f=this.AddLocalMinPoly(s,a,s.Bot)),this.InsertScanbeam(s.Top.Y)),a!=null&&(l.ClipperBase.IsHorizontal(a)?this.AddEdgeToSEL(a):this.InsertScanbeam(a.Top.Y)),!(s==null||a==null)){if(f!==null&&l.ClipperBase.IsHorizontal(a)&&this.m_GhostJoins.length>0&&a.WindDelta!==0)for(var _=0,m=this.m_GhostJoins.length;_<m;_++){var g=this.m_GhostJoins[_];this.HorzSegmentsOverlap(g.OutPt1.Pt,g.OffPt,a.Bot,a.Top)&&this.AddJoin(g.OutPt1,f,g.OffPt)}if(s.OutIdx>=0&&s.PrevInAEL!==null&&s.PrevInAEL.Curr.X==s.Bot.X&&s.PrevInAEL.OutIdx>=0&&l.ClipperBase.SlopesEqual(s.PrevInAEL,s,this.m_UseFullRange)&&s.WindDelta!==0&&s.PrevInAEL.WindDelta!==0){var x=this.AddOutPt(s.PrevInAEL,s.Bot);this.AddJoin(f,x,s.Top)}if(s.NextInAEL!=a){if(a.OutIdx>=0&&a.PrevInAEL.OutIdx>=0&&l.ClipperBase.SlopesEqual(a.PrevInAEL,a,this.m_UseFullRange)&&a.WindDelta!==0&&a.PrevInAEL.WindDelta!==0){var x=this.AddOutPt(a.PrevInAEL,a.Bot);this.AddJoin(f,x,a.Top)}var C=s.NextInAEL;if(C!==null)for(;C!=a;)this.IntersectEdges(a,C,s.Curr,!1),C=C.NextInAEL}}}},l.Clipper.prototype.InsertEdgeIntoAEL=function(i,s){if(this.m_ActiveEdges===null)i.PrevInAEL=null,i.NextInAEL=null,this.m_ActiveEdges=i;else if(s===null&&this.E2InsertsBeforeE1(this.m_ActiveEdges,i))i.PrevInAEL=null,i.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=i,this.m_ActiveEdges=i;else{for(s===null&&(s=this.m_ActiveEdges);s.NextInAEL!==null&&!this.E2InsertsBeforeE1(s.NextInAEL,i);)s=s.NextInAEL;i.NextInAEL=s.NextInAEL,s.NextInAEL!==null&&(s.NextInAEL.PrevInAEL=i),i.PrevInAEL=s,s.NextInAEL=i}},l.Clipper.prototype.E2InsertsBeforeE1=function(i,s){return s.Curr.X==i.Curr.X?s.Top.Y>i.Top.Y?s.Top.X<l.Clipper.TopX(i,s.Top.Y):i.Top.X>l.Clipper.TopX(s,i.Top.Y):s.Curr.X<i.Curr.X},l.Clipper.prototype.IsEvenOddFillType=function(i){return i.PolyTyp==l.PolyType.ptSubject?this.m_SubjFillType==l.PolyFillType.pftEvenOdd:this.m_ClipFillType==l.PolyFillType.pftEvenOdd},l.Clipper.prototype.IsEvenOddAltFillType=function(i){return i.PolyTyp==l.PolyType.ptSubject?this.m_ClipFillType==l.PolyFillType.pftEvenOdd:this.m_SubjFillType==l.PolyFillType.pftEvenOdd},l.Clipper.prototype.IsContributing=function(i){var s,a;switch(i.PolyTyp==l.PolyType.ptSubject?(s=this.m_SubjFillType,a=this.m_ClipFillType):(s=this.m_ClipFillType,a=this.m_SubjFillType),s){case l.PolyFillType.pftEvenOdd:if(i.WindDelta===0&&i.WindCnt!=1)return!1;break;case l.PolyFillType.pftNonZero:if(Math.abs(i.WindCnt)!=1)return!1;break;case l.PolyFillType.pftPositive:if(i.WindCnt!=1)return!1;break;default:if(i.WindCnt!=-1)return!1;break}switch(this.m_ClipType){case l.ClipType.ctIntersection:switch(a){case l.PolyFillType.pftEvenOdd:case l.PolyFillType.pftNonZero:return i.WindCnt2!==0;case l.PolyFillType.pftPositive:return i.WindCnt2>0;default:return i.WindCnt2<0}case l.ClipType.ctUnion:switch(a){case l.PolyFillType.pftEvenOdd:case l.PolyFillType.pftNonZero:return i.WindCnt2===0;case l.PolyFillType.pftPositive:return i.WindCnt2<=0;default:return i.WindCnt2>=0}case l.ClipType.ctDifference:if(i.PolyTyp==l.PolyType.ptSubject)switch(a){case l.PolyFillType.pftEvenOdd:case l.PolyFillType.pftNonZero:return i.WindCnt2===0;case l.PolyFillType.pftPositive:return i.WindCnt2<=0;default:return i.WindCnt2>=0}else switch(a){case l.PolyFillType.pftEvenOdd:case l.PolyFillType.pftNonZero:return i.WindCnt2!==0;case l.PolyFillType.pftPositive:return i.WindCnt2>0;default:return i.WindCnt2<0}case l.ClipType.ctXor:if(i.WindDelta===0)switch(a){case l.PolyFillType.pftEvenOdd:case l.PolyFillType.pftNonZero:return i.WindCnt2===0;case l.PolyFillType.pftPositive:return i.WindCnt2<=0;default:return i.WindCnt2>=0}else return!0}return!0},l.Clipper.prototype.SetWindingCount=function(i){for(var s=i.PrevInAEL;s!==null&&(s.PolyTyp!=i.PolyTyp||s.WindDelta===0);)s=s.PrevInAEL;if(s===null)i.WindCnt=i.WindDelta===0?1:i.WindDelta,i.WindCnt2=0,s=this.m_ActiveEdges;else if(i.WindDelta===0&&this.m_ClipType!=l.ClipType.ctUnion)i.WindCnt=1,i.WindCnt2=s.WindCnt2,s=s.NextInAEL;else if(this.IsEvenOddFillType(i)){if(i.WindDelta===0){for(var a=!0,f=s.PrevInAEL;f!==null;)f.PolyTyp==s.PolyTyp&&f.WindDelta!==0&&(a=!a),f=f.PrevInAEL;i.WindCnt=a?0:1}else i.WindCnt=i.WindDelta;i.WindCnt2=s.WindCnt2,s=s.NextInAEL}else s.WindCnt*s.WindDelta<0?Math.abs(s.WindCnt)>1?s.WindDelta*i.WindDelta<0?i.WindCnt=s.WindCnt:i.WindCnt=s.WindCnt+i.WindDelta:i.WindCnt=i.WindDelta===0?1:i.WindDelta:i.WindDelta===0?i.WindCnt=s.WindCnt<0?s.WindCnt-1:s.WindCnt+1:s.WindDelta*i.WindDelta<0?i.WindCnt=s.WindCnt:i.WindCnt=s.WindCnt+i.WindDelta,i.WindCnt2=s.WindCnt2,s=s.NextInAEL;if(this.IsEvenOddAltFillType(i))for(;s!=i;)s.WindDelta!==0&&(i.WindCnt2=i.WindCnt2===0?1:0),s=s.NextInAEL;else for(;s!=i;)i.WindCnt2+=s.WindDelta,s=s.NextInAEL},l.Clipper.prototype.AddEdgeToSEL=function(i){this.m_SortedEdges===null?(this.m_SortedEdges=i,i.PrevInSEL=null,i.NextInSEL=null):(i.NextInSEL=this.m_SortedEdges,i.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=i,this.m_SortedEdges=i)},l.Clipper.prototype.CopyAELToSEL=function(){var i=this.m_ActiveEdges;for(this.m_SortedEdges=i;i!==null;)i.PrevInSEL=i.PrevInAEL,i.NextInSEL=i.NextInAEL,i=i.NextInAEL},l.Clipper.prototype.SwapPositionsInAEL=function(i,s){if(!(i.NextInAEL==i.PrevInAEL||s.NextInAEL==s.PrevInAEL)){if(i.NextInAEL==s){var a=s.NextInAEL;a!==null&&(a.PrevInAEL=i);var f=i.PrevInAEL;f!==null&&(f.NextInAEL=s),s.PrevInAEL=f,s.NextInAEL=i,i.PrevInAEL=s,i.NextInAEL=a}else if(s.NextInAEL==i){var a=i.NextInAEL;a!==null&&(a.PrevInAEL=s);var f=s.PrevInAEL;f!==null&&(f.NextInAEL=i),i.PrevInAEL=f,i.NextInAEL=s,s.PrevInAEL=i,s.NextInAEL=a}else{var a=i.NextInAEL,f=i.PrevInAEL;i.NextInAEL=s.NextInAEL,i.NextInAEL!==null&&(i.NextInAEL.PrevInAEL=i),i.PrevInAEL=s.PrevInAEL,i.PrevInAEL!==null&&(i.PrevInAEL.NextInAEL=i),s.NextInAEL=a,s.NextInAEL!==null&&(s.NextInAEL.PrevInAEL=s),s.PrevInAEL=f,s.PrevInAEL!==null&&(s.PrevInAEL.NextInAEL=s)}i.PrevInAEL===null?this.m_ActiveEdges=i:s.PrevInAEL===null&&(this.m_ActiveEdges=s)}},l.Clipper.prototype.SwapPositionsInSEL=function(i,s){if(!(i.NextInSEL===null&&i.PrevInSEL===null)&&!(s.NextInSEL===null&&s.PrevInSEL===null)){if(i.NextInSEL==s){var a=s.NextInSEL;a!==null&&(a.PrevInSEL=i);var f=i.PrevInSEL;f!==null&&(f.NextInSEL=s),s.PrevInSEL=f,s.NextInSEL=i,i.PrevInSEL=s,i.NextInSEL=a}else if(s.NextInSEL==i){var a=i.NextInSEL;a!==null&&(a.PrevInSEL=s);var f=s.PrevInSEL;f!==null&&(f.NextInSEL=i),i.PrevInSEL=f,i.NextInSEL=s,s.PrevInSEL=i,s.NextInSEL=a}else{var a=i.NextInSEL,f=i.PrevInSEL;i.NextInSEL=s.NextInSEL,i.NextInSEL!==null&&(i.NextInSEL.PrevInSEL=i),i.PrevInSEL=s.PrevInSEL,i.PrevInSEL!==null&&(i.PrevInSEL.NextInSEL=i),s.NextInSEL=a,s.NextInSEL!==null&&(s.NextInSEL.PrevInSEL=s),s.PrevInSEL=f,s.PrevInSEL!==null&&(s.PrevInSEL.NextInSEL=s)}i.PrevInSEL===null?this.m_SortedEdges=i:s.PrevInSEL===null&&(this.m_SortedEdges=s)}},l.Clipper.prototype.AddLocalMaxPoly=function(i,s,a){this.AddOutPt(i,a),s.WindDelta==0&&this.AddOutPt(s,a),i.OutIdx==s.OutIdx?(i.OutIdx=-1,s.OutIdx=-1):i.OutIdx<s.OutIdx?this.AppendPolygon(i,s):this.AppendPolygon(s,i)},l.Clipper.prototype.AddLocalMinPoly=function(i,s,a){var f,_,m;if(l.ClipperBase.IsHorizontal(s)||i.Dx>s.Dx?(f=this.AddOutPt(i,a),s.OutIdx=i.OutIdx,i.Side=l.EdgeSide.esLeft,s.Side=l.EdgeSide.esRight,_=i,_.PrevInAEL==s?m=s.PrevInAEL:m=_.PrevInAEL):(f=this.AddOutPt(s,a),i.OutIdx=s.OutIdx,i.Side=l.EdgeSide.esRight,s.Side=l.EdgeSide.esLeft,_=s,_.PrevInAEL==i?m=i.PrevInAEL:m=_.PrevInAEL),m!==null&&m.OutIdx>=0&&l.Clipper.TopX(m,a.Y)==l.Clipper.TopX(_,a.Y)&&l.ClipperBase.SlopesEqual(_,m,this.m_UseFullRange)&&_.WindDelta!==0&&m.WindDelta!==0){var g=this.AddOutPt(m,a);this.AddJoin(f,g,_.Top)}return f},l.Clipper.prototype.CreateOutRec=function(){var i=new l.OutRec;return i.Idx=-1,i.IsHole=!1,i.IsOpen=!1,i.FirstLeft=null,i.Pts=null,i.BottomPt=null,i.PolyNode=null,this.m_PolyOuts.push(i),i.Idx=this.m_PolyOuts.length-1,i},l.Clipper.prototype.AddOutPt=function(i,s){var a=i.Side==l.EdgeSide.esLeft;if(i.OutIdx<0){var f=this.CreateOutRec();f.IsOpen=i.WindDelta===0;var _=new l.OutPt;return f.Pts=_,_.Idx=f.Idx,_.Pt.X=s.X,_.Pt.Y=s.Y,_.Next=_,_.Prev=_,f.IsOpen||this.SetHoleState(i,f),i.OutIdx=f.Idx,_}else{var f=this.m_PolyOuts[i.OutIdx],m=f.Pts;if(a&&l.IntPoint.op_Equality(s,m.Pt))return m;if(!a&&l.IntPoint.op_Equality(s,m.Prev.Pt))return m.Prev;var _=new l.OutPt;return _.Idx=f.Idx,_.Pt.X=s.X,_.Pt.Y=s.Y,_.Next=m,_.Prev=m.Prev,_.Prev.Next=_,m.Prev=_,a&&(f.Pts=_),_}},l.Clipper.prototype.SwapPoints=function(i,s){var a=new l.IntPoint(i.Value);i.Value.X=s.Value.X,i.Value.Y=s.Value.Y,s.Value.X=a.X,s.Value.Y=a.Y},l.Clipper.prototype.HorzSegmentsOverlap=function(i,s,a,f){return i.X>a.X==i.X<f.X||s.X>a.X==s.X<f.X||a.X>i.X==a.X<s.X||f.X>i.X==f.X<s.X||i.X==a.X&&s.X==f.X?!0:i.X==f.X&&s.X==a.X},l.Clipper.prototype.InsertPolyPtBetween=function(i,s,a){var f=new l.OutPt;return f.Pt.X=a.X,f.Pt.Y=a.Y,s==i.Next?(i.Next=f,s.Prev=f,f.Next=s,f.Prev=i):(s.Next=f,i.Prev=f,f.Next=i,f.Prev=s),f},l.Clipper.prototype.SetHoleState=function(i,s){for(var a=!1,f=i.PrevInAEL;f!==null;)f.OutIdx>=0&&f.WindDelta!=0&&(a=!a,s.FirstLeft===null&&(s.FirstLeft=this.m_PolyOuts[f.OutIdx])),f=f.PrevInAEL;a&&(s.IsHole=!0)},l.Clipper.prototype.GetDx=function(i,s){return i.Y==s.Y?l.ClipperBase.horizontal:(s.X-i.X)/(s.Y-i.Y)},l.Clipper.prototype.FirstIsBottomPt=function(i,s){for(var a=i.Prev;l.IntPoint.op_Equality(a.Pt,i.Pt)&&a!=i;)a=a.Prev;var f=Math.abs(this.GetDx(i.Pt,a.Pt));for(a=i.Next;l.IntPoint.op_Equality(a.Pt,i.Pt)&&a!=i;)a=a.Next;var _=Math.abs(this.GetDx(i.Pt,a.Pt));for(a=s.Prev;l.IntPoint.op_Equality(a.Pt,s.Pt)&&a!=s;)a=a.Prev;var m=Math.abs(this.GetDx(s.Pt,a.Pt));for(a=s.Next;l.IntPoint.op_Equality(a.Pt,s.Pt)&&a!=s;)a=a.Next;var g=Math.abs(this.GetDx(s.Pt,a.Pt));return f>=m&&f>=g||_>=m&&_>=g},l.Clipper.prototype.GetBottomPt=function(i){for(var s=null,a=i.Next;a!=i;)a.Pt.Y>i.Pt.Y?(i=a,s=null):a.Pt.Y==i.Pt.Y&&a.Pt.X<=i.Pt.X&&(a.Pt.X<i.Pt.X?(s=null,i=a):a.Next!=i&&a.Prev!=i&&(s=a)),a=a.Next;if(s!==null)for(;s!=a;)for(this.FirstIsBottomPt(a,s)||(i=s),s=s.Next;l.IntPoint.op_Inequality(s.Pt,i.Pt);)s=s.Next;return i},l.Clipper.prototype.GetLowermostRec=function(i,s){i.BottomPt===null&&(i.BottomPt=this.GetBottomPt(i.Pts)),s.BottomPt===null&&(s.BottomPt=this.GetBottomPt(s.Pts));var a=i.BottomPt,f=s.BottomPt;return a.Pt.Y>f.Pt.Y?i:a.Pt.Y<f.Pt.Y?s:a.Pt.X<f.Pt.X?i:a.Pt.X>f.Pt.X||a.Next==a?s:f.Next==f||this.FirstIsBottomPt(a,f)?i:s},l.Clipper.prototype.Param1RightOfParam2=function(i,s){do if(i=i.FirstLeft,i==s)return!0;while(i!==null);return!1},l.Clipper.prototype.GetOutRec=function(i){for(var s=this.m_PolyOuts[i];s!=this.m_PolyOuts[s.Idx];)s=this.m_PolyOuts[s.Idx];return s},l.Clipper.prototype.AppendPolygon=function(i,s){var a=this.m_PolyOuts[i.OutIdx],f=this.m_PolyOuts[s.OutIdx],_;this.Param1RightOfParam2(a,f)?_=f:this.Param1RightOfParam2(f,a)?_=a:_=this.GetLowermostRec(a,f);var m=a.Pts,g=m.Prev,x=f.Pts,C=x.Prev,I;i.Side==l.EdgeSide.esLeft?(s.Side==l.EdgeSide.esLeft?(this.ReversePolyPtLinks(x),x.Next=m,m.Prev=x,g.Next=C,C.Prev=g,a.Pts=C):(C.Next=m,m.Prev=C,x.Prev=g,g.Next=x,a.Pts=x),I=l.EdgeSide.esLeft):(s.Side==l.EdgeSide.esRight?(this.ReversePolyPtLinks(x),g.Next=C,C.Prev=g,x.Next=m,m.Prev=x):(g.Next=x,x.Prev=g,m.Prev=C,C.Next=m),I=l.EdgeSide.esRight),a.BottomPt=null,_==f&&(f.FirstLeft!=a&&(a.FirstLeft=f.FirstLeft),a.IsHole=f.IsHole),f.Pts=null,f.BottomPt=null,f.FirstLeft=a;var A=i.OutIdx,N=s.OutIdx;i.OutIdx=-1,s.OutIdx=-1;for(var X=this.m_ActiveEdges;X!==null;){if(X.OutIdx==N){X.OutIdx=A,X.Side=I;break}X=X.NextInAEL}f.Idx=a.Idx},l.Clipper.prototype.ReversePolyPtLinks=function(i){if(i!==null){var s,a;s=i;do a=s.Next,s.Next=s.Prev,s.Prev=a,s=a;while(s!=i)}},l.Clipper.SwapSides=function(i,s){var a=i.Side;i.Side=s.Side,s.Side=a},l.Clipper.SwapPolyIndexes=function(i,s){var a=i.OutIdx;i.OutIdx=s.OutIdx,s.OutIdx=a},l.Clipper.prototype.IntersectEdges=function(i,s,a,f){var _=!f&&i.NextInLML===null&&i.Top.X==a.X&&i.Top.Y==a.Y,m=!f&&s.NextInLML===null&&s.Top.X==a.X&&s.Top.Y==a.Y,g=i.OutIdx>=0,x=s.OutIdx>=0;if(i.WindDelta===0||s.WindDelta===0){i.WindDelta===0&&s.WindDelta===0?(_||m)&&g&&x&&this.AddLocalMaxPoly(i,s,a):i.PolyTyp==s.PolyTyp&&i.WindDelta!=s.WindDelta&&this.m_ClipType==l.ClipType.ctUnion?i.WindDelta===0?x&&(this.AddOutPt(i,a),g&&(i.OutIdx=-1)):g&&(this.AddOutPt(s,a),x&&(s.OutIdx=-1)):i.PolyTyp!=s.PolyTyp&&(i.WindDelta===0&&Math.abs(s.WindCnt)==1&&(this.m_ClipType!=l.ClipType.ctUnion||s.WindCnt2===0)?(this.AddOutPt(i,a),g&&(i.OutIdx=-1)):s.WindDelta===0&&Math.abs(i.WindCnt)==1&&(this.m_ClipType!=l.ClipType.ctUnion||i.WindCnt2===0)&&(this.AddOutPt(s,a),x&&(s.OutIdx=-1))),_&&(i.OutIdx<0?this.DeleteFromAEL(i):l.Error("Error intersecting polylines")),m&&(s.OutIdx<0?this.DeleteFromAEL(s):l.Error("Error intersecting polylines"));return}if(i.PolyTyp==s.PolyTyp)if(this.IsEvenOddFillType(i)){var C=i.WindCnt;i.WindCnt=s.WindCnt,s.WindCnt=C}else i.WindCnt+s.WindDelta===0?i.WindCnt=-i.WindCnt:i.WindCnt+=s.WindDelta,s.WindCnt-i.WindDelta===0?s.WindCnt=-s.WindCnt:s.WindCnt-=i.WindDelta;else this.IsEvenOddFillType(s)?i.WindCnt2=i.WindCnt2===0?1:0:i.WindCnt2+=s.WindDelta,this.IsEvenOddFillType(i)?s.WindCnt2=s.WindCnt2===0?1:0:s.WindCnt2-=i.WindDelta;var I,A,N,X;i.PolyTyp==l.PolyType.ptSubject?(I=this.m_SubjFillType,N=this.m_ClipFillType):(I=this.m_ClipFillType,N=this.m_SubjFillType),s.PolyTyp==l.PolyType.ptSubject?(A=this.m_SubjFillType,X=this.m_ClipFillType):(A=this.m_ClipFillType,X=this.m_SubjFillType);var q,W;switch(I){case l.PolyFillType.pftPositive:q=i.WindCnt;break;case l.PolyFillType.pftNegative:q=-i.WindCnt;break;default:q=Math.abs(i.WindCnt);break}switch(A){case l.PolyFillType.pftPositive:W=s.WindCnt;break;case l.PolyFillType.pftNegative:W=-s.WindCnt;break;default:W=Math.abs(s.WindCnt);break}if(g&&x)_||m||q!==0&&q!=1||W!==0&&W!=1||i.PolyTyp!=s.PolyTyp&&this.m_ClipType!=l.ClipType.ctXor?this.AddLocalMaxPoly(i,s,a):(this.AddOutPt(i,a),this.AddOutPt(s,a),l.Clipper.SwapSides(i,s),l.Clipper.SwapPolyIndexes(i,s));else if(g)(W===0||W==1)&&(this.AddOutPt(i,a),l.Clipper.SwapSides(i,s),l.Clipper.SwapPolyIndexes(i,s));else if(x)(q===0||q==1)&&(this.AddOutPt(s,a),l.Clipper.SwapSides(i,s),l.Clipper.SwapPolyIndexes(i,s));else if((q===0||q==1)&&(W===0||W==1)&&!_&&!m){var nt,_t;switch(N){case l.PolyFillType.pftPositive:nt=i.WindCnt2;break;case l.PolyFillType.pftNegative:nt=-i.WindCnt2;break;default:nt=Math.abs(i.WindCnt2);break}switch(X){case l.PolyFillType.pftPositive:_t=s.WindCnt2;break;case l.PolyFillType.pftNegative:_t=-s.WindCnt2;break;default:_t=Math.abs(s.WindCnt2);break}if(i.PolyTyp!=s.PolyTyp)this.AddLocalMinPoly(i,s,a);else if(q==1&&W==1)switch(this.m_ClipType){case l.ClipType.ctIntersection:nt>0&&_t>0&&this.AddLocalMinPoly(i,s,a);break;case l.ClipType.ctUnion:nt<=0&&_t<=0&&this.AddLocalMinPoly(i,s,a);break;case l.ClipType.ctDifference:(i.PolyTyp==l.PolyType.ptClip&&nt>0&&_t>0||i.PolyTyp==l.PolyType.ptSubject&&nt<=0&&_t<=0)&&this.AddLocalMinPoly(i,s,a);break;case l.ClipType.ctXor:this.AddLocalMinPoly(i,s,a);break}else l.Clipper.SwapSides(i,s)}_!=m&&(_&&i.OutIdx>=0||m&&s.OutIdx>=0)&&(l.Clipper.SwapSides(i,s),l.Clipper.SwapPolyIndexes(i,s)),_&&this.DeleteFromAEL(i),m&&this.DeleteFromAEL(s)},l.Clipper.prototype.DeleteFromAEL=function(i){var s=i.PrevInAEL,a=i.NextInAEL;s===null&&a===null&&i!=this.m_ActiveEdges||(s!==null?s.NextInAEL=a:this.m_ActiveEdges=a,a!==null&&(a.PrevInAEL=s),i.NextInAEL=null,i.PrevInAEL=null)},l.Clipper.prototype.DeleteFromSEL=function(i){var s=i.PrevInSEL,a=i.NextInSEL;s===null&&a===null&&i!=this.m_SortedEdges||(s!==null?s.NextInSEL=a:this.m_SortedEdges=a,a!==null&&(a.PrevInSEL=s),i.NextInSEL=null,i.PrevInSEL=null)},l.Clipper.prototype.UpdateEdgeIntoAEL=function(i){i.NextInLML===null&&l.Error("UpdateEdgeIntoAEL: invalid call");var s=i.PrevInAEL,a=i.NextInAEL;return i.NextInLML.OutIdx=i.OutIdx,s!==null?s.NextInAEL=i.NextInLML:this.m_ActiveEdges=i.NextInLML,a!==null&&(a.PrevInAEL=i.NextInLML),i.NextInLML.Side=i.Side,i.NextInLML.WindDelta=i.WindDelta,i.NextInLML.WindCnt=i.WindCnt,i.NextInLML.WindCnt2=i.WindCnt2,i=i.NextInLML,i.Curr.X=i.Bot.X,i.Curr.Y=i.Bot.Y,i.PrevInAEL=s,i.NextInAEL=a,l.ClipperBase.IsHorizontal(i)||this.InsertScanbeam(i.Top.Y),i},l.Clipper.prototype.ProcessHorizontals=function(i){for(var s=this.m_SortedEdges;s!==null;)this.DeleteFromSEL(s),this.ProcessHorizontal(s,i),s=this.m_SortedEdges},l.Clipper.prototype.GetHorzDirection=function(i,s){i.Bot.X<i.Top.X?(s.Left=i.Bot.X,s.Right=i.Top.X,s.Dir=l.Direction.dLeftToRight):(s.Left=i.Top.X,s.Right=i.Bot.X,s.Dir=l.Direction.dRightToLeft)},l.Clipper.prototype.PrepareHorzJoins=function(i,s){var a=this.m_PolyOuts[i.OutIdx].Pts;i.Side!=l.EdgeSide.esLeft&&(a=a.Prev),s&&(l.IntPoint.op_Equality(a.Pt,i.Top)?this.AddGhostJoin(a,i.Bot):this.AddGhostJoin(a,i.Top))},l.Clipper.prototype.ProcessHorizontal=function(i,s){var a={Dir:null,Left:null,Right:null};this.GetHorzDirection(i,a);for(var f=a.Dir,_=a.Left,m=a.Right,g=i,x=null;g.NextInLML!==null&&l.ClipperBase.IsHorizontal(g.NextInLML);)g=g.NextInLML;for(g.NextInLML===null&&(x=this.GetMaximaPair(g));;){for(var C=i==g,I=this.GetNextInAEL(i,f);I!==null&&!(I.Curr.X==i.Top.X&&i.NextInLML!==null&&I.Dx<i.NextInLML.Dx);){var A=this.GetNextInAEL(I,f);if(f==l.Direction.dLeftToRight&&I.Curr.X<=m||f==l.Direction.dRightToLeft&&I.Curr.X>=_){if(i.OutIdx>=0&&i.WindDelta!=0&&this.PrepareHorzJoins(i,s),I==x&&C){f==l.Direction.dLeftToRight?this.IntersectEdges(i,I,I.Top,!1):this.IntersectEdges(I,i,I.Top,!1),x.OutIdx>=0&&l.Error("ProcessHorizontal error");return}else if(f==l.Direction.dLeftToRight){var N=new l.IntPoint(I.Curr.X,i.Curr.Y);this.IntersectEdges(i,I,N,!0)}else{var N=new l.IntPoint(I.Curr.X,i.Curr.Y);this.IntersectEdges(I,i,N,!0)}this.SwapPositionsInAEL(i,I)}else if(f==l.Direction.dLeftToRight&&I.Curr.X>=m||f==l.Direction.dRightToLeft&&I.Curr.X<=_)break;I=A}if(i.OutIdx>=0&&i.WindDelta!==0&&this.PrepareHorzJoins(i,s),i.NextInLML!==null&&l.ClipperBase.IsHorizontal(i.NextInLML)){i=this.UpdateEdgeIntoAEL(i),i.OutIdx>=0&&this.AddOutPt(i,i.Bot);var a={Dir:f,Left:_,Right:m};this.GetHorzDirection(i,a),f=a.Dir,_=a.Left,m=a.Right}else break}if(i.NextInLML!==null)if(i.OutIdx>=0){var X=this.AddOutPt(i,i.Top);if(i=this.UpdateEdgeIntoAEL(i),i.WindDelta===0)return;var q=i.PrevInAEL,A=i.NextInAEL;if(q!==null&&q.Curr.X==i.Bot.X&&q.Curr.Y==i.Bot.Y&&q.WindDelta!==0&&q.OutIdx>=0&&q.Curr.Y>q.Top.Y&&l.ClipperBase.SlopesEqual(i,q,this.m_UseFullRange)){var W=this.AddOutPt(q,i.Bot);this.AddJoin(X,W,i.Top)}else if(A!==null&&A.Curr.X==i.Bot.X&&A.Curr.Y==i.Bot.Y&&A.WindDelta!==0&&A.OutIdx>=0&&A.Curr.Y>A.Top.Y&&l.ClipperBase.SlopesEqual(i,A,this.m_UseFullRange)){var W=this.AddOutPt(A,i.Bot);this.AddJoin(X,W,i.Top)}}else i=this.UpdateEdgeIntoAEL(i);else x!==null?x.OutIdx>=0?(f==l.Direction.dLeftToRight?this.IntersectEdges(i,x,i.Top,!1):this.IntersectEdges(x,i,i.Top,!1),x.OutIdx>=0&&l.Error("ProcessHorizontal error")):(this.DeleteFromAEL(i),this.DeleteFromAEL(x)):(i.OutIdx>=0&&this.AddOutPt(i,i.Top),this.DeleteFromAEL(i))},l.Clipper.prototype.GetNextInAEL=function(i,s){return s==l.Direction.dLeftToRight?i.NextInAEL:i.PrevInAEL},l.Clipper.prototype.IsMinima=function(i){return i!==null&&i.Prev.NextInLML!=i&&i.Next.NextInLML!=i},l.Clipper.prototype.IsMaxima=function(i,s){return i!==null&&i.Top.Y==s&&i.NextInLML===null},l.Clipper.prototype.IsIntermediate=function(i,s){return i.Top.Y==s&&i.NextInLML!==null},l.Clipper.prototype.GetMaximaPair=function(i){var s=null;return l.IntPoint.op_Equality(i.Next.Top,i.Top)&&i.Next.NextInLML===null?s=i.Next:l.IntPoint.op_Equality(i.Prev.Top,i.Top)&&i.Prev.NextInLML===null&&(s=i.Prev),s!==null&&(s.OutIdx==-2||s.NextInAEL==s.PrevInAEL&&!l.ClipperBase.IsHorizontal(s))?null:s},l.Clipper.prototype.ProcessIntersections=function(i,s){if(this.m_ActiveEdges==null)return!0;try{if(this.BuildIntersectList(i,s),this.m_IntersectList.length==0)return!0;if(this.m_IntersectList.length==1||this.FixupIntersectionOrder())this.ProcessIntersectList();else return!1}catch{this.m_SortedEdges=null,this.m_IntersectList.length=0,l.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},l.Clipper.prototype.BuildIntersectList=function(i,s){if(this.m_ActiveEdges!==null){var a=this.m_ActiveEdges;for(this.m_SortedEdges=a;a!==null;)a.PrevInSEL=a.PrevInAEL,a.NextInSEL=a.NextInAEL,a.Curr.X=l.Clipper.TopX(a,s),a=a.NextInAEL;for(var f=!0;f&&this.m_SortedEdges!==null;){for(f=!1,a=this.m_SortedEdges;a.NextInSEL!==null;){var _=a.NextInSEL,m=new l.IntPoint;if(a.Curr.X>_.Curr.X){!this.IntersectPoint(a,_,m)&&a.Curr.X>_.Curr.X+1&&l.Error("Intersection error"),m.Y>i&&(m.Y=i,Math.abs(a.Dx)>Math.abs(_.Dx)?m.X=l.Clipper.TopX(_,i):m.X=l.Clipper.TopX(a,i));var g=new l.IntersectNode;g.Edge1=a,g.Edge2=_,g.Pt.X=m.X,g.Pt.Y=m.Y,this.m_IntersectList.push(g),this.SwapPositionsInSEL(a,_),f=!0}else a=_}if(a.PrevInSEL!==null)a.PrevInSEL.NextInSEL=null;else break}this.m_SortedEdges=null}},l.Clipper.prototype.EdgesAdjacent=function(i){return i.Edge1.NextInSEL==i.Edge2||i.Edge1.PrevInSEL==i.Edge2},l.Clipper.IntersectNodeSort=function(i,s){return s.Pt.Y-i.Pt.Y},l.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var i=this.m_IntersectList.length,s=0;s<i;s++){if(!this.EdgesAdjacent(this.m_IntersectList[s])){for(var a=s+1;a<i&&!this.EdgesAdjacent(this.m_IntersectList[a]);)a++;if(a==i)return!1;var f=this.m_IntersectList[s];this.m_IntersectList[s]=this.m_IntersectList[a],this.m_IntersectList[a]=f}this.SwapPositionsInSEL(this.m_IntersectList[s].Edge1,this.m_IntersectList[s].Edge2)}return!0},l.Clipper.prototype.ProcessIntersectList=function(){for(var i=0,s=this.m_IntersectList.length;i<s;i++){var a=this.m_IntersectList[i];this.IntersectEdges(a.Edge1,a.Edge2,a.Pt,!0),this.SwapPositionsInAEL(a.Edge1,a.Edge2)}this.m_IntersectList.length=0};var xt=function(i){return i<0?Math.ceil(i-.5):Math.round(i)},et=function(i){return i<0?Math.ceil(i-.5):Math.floor(i+.5)},Pt=function(i){return i<0?-Math.round(Math.abs(i)):Math.round(i)},Xt=function(i){return i<0?(i-=.5,i<-2147483648?Math.ceil(i):i|0):(i+=.5,i>2147483647?Math.floor(i):i|0)};k.msie?l.Clipper.Round=xt:k.chromium?l.Clipper.Round=Pt:k.safari?l.Clipper.Round=Xt:l.Clipper.Round=et,l.Clipper.TopX=function(i,s){return s==i.Top.Y?i.Top.X:i.Bot.X+l.Clipper.Round(i.Dx*(s-i.Bot.Y))},l.Clipper.prototype.IntersectPoint=function(i,s,a){a.X=0,a.Y=0;var f,_;if(l.ClipperBase.SlopesEqual(i,s,this.m_UseFullRange)||i.Dx==s.Dx)return s.Bot.Y>i.Bot.Y?(a.X=s.Bot.X,a.Y=s.Bot.Y):(a.X=i.Bot.X,a.Y=i.Bot.Y),!1;if(i.Delta.X===0)a.X=i.Bot.X,l.ClipperBase.IsHorizontal(s)?a.Y=s.Bot.Y:(_=s.Bot.Y-s.Bot.X/s.Dx,a.Y=l.Clipper.Round(a.X/s.Dx+_));else if(s.Delta.X===0)a.X=s.Bot.X,l.ClipperBase.IsHorizontal(i)?a.Y=i.Bot.Y:(f=i.Bot.Y-i.Bot.X/i.Dx,a.Y=l.Clipper.Round(a.X/i.Dx+f));else{f=i.Bot.X-i.Bot.Y*i.Dx,_=s.Bot.X-s.Bot.Y*s.Dx;var m=(_-f)/(i.Dx-s.Dx);a.Y=l.Clipper.Round(m),Math.abs(i.Dx)<Math.abs(s.Dx)?a.X=l.Clipper.Round(i.Dx*m+f):a.X=l.Clipper.Round(s.Dx*m+_)}if(a.Y<i.Top.Y||a.Y<s.Top.Y){if(i.Top.Y>s.Top.Y)return a.Y=i.Top.Y,a.X=l.Clipper.TopX(s,i.Top.Y),a.X<i.Top.X;a.Y=s.Top.Y,Math.abs(i.Dx)<Math.abs(s.Dx)?a.X=l.Clipper.TopX(i,a.Y):a.X=l.Clipper.TopX(s,a.Y)}return!0},l.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(i){for(var s=this.m_ActiveEdges;s!==null;){var a=this.IsMaxima(s,i);if(a){var f=this.GetMaximaPair(s);a=f===null||!l.ClipperBase.IsHorizontal(f)}if(a){var _=s.PrevInAEL;this.DoMaxima(s),_===null?s=this.m_ActiveEdges:s=_.NextInAEL}else{if(this.IsIntermediate(s,i)&&l.ClipperBase.IsHorizontal(s.NextInLML)?(s=this.UpdateEdgeIntoAEL(s),s.OutIdx>=0&&this.AddOutPt(s,s.Bot),this.AddEdgeToSEL(s)):(s.Curr.X=l.Clipper.TopX(s,i),s.Curr.Y=i),this.StrictlySimple){var _=s.PrevInAEL;if(s.OutIdx>=0&&s.WindDelta!==0&&_!==null&&_.OutIdx>=0&&_.Curr.X==s.Curr.X&&_.WindDelta!==0){var m=this.AddOutPt(_,s.Curr),g=this.AddOutPt(s,s.Curr);this.AddJoin(m,g,s.Curr)}}s=s.NextInAEL}}for(this.ProcessHorizontals(!0),s=this.m_ActiveEdges;s!==null;){if(this.IsIntermediate(s,i)){var m=null;s.OutIdx>=0&&(m=this.AddOutPt(s,s.Top)),s=this.UpdateEdgeIntoAEL(s);var _=s.PrevInAEL,x=s.NextInAEL;if(_!==null&&_.Curr.X==s.Bot.X&&_.Curr.Y==s.Bot.Y&&m!==null&&_.OutIdx>=0&&_.Curr.Y>_.Top.Y&&l.ClipperBase.SlopesEqual(s,_,this.m_UseFullRange)&&s.WindDelta!==0&&_.WindDelta!==0){var g=this.AddOutPt(_,s.Bot);this.AddJoin(m,g,s.Top)}else if(x!==null&&x.Curr.X==s.Bot.X&&x.Curr.Y==s.Bot.Y&&m!==null&&x.OutIdx>=0&&x.Curr.Y>x.Top.Y&&l.ClipperBase.SlopesEqual(s,x,this.m_UseFullRange)&&s.WindDelta!==0&&x.WindDelta!==0){var g=this.AddOutPt(x,s.Bot);this.AddJoin(m,g,s.Top)}}s=s.NextInAEL}},l.Clipper.prototype.DoMaxima=function(i){var s=this.GetMaximaPair(i);if(s===null){i.OutIdx>=0&&this.AddOutPt(i,i.Top),this.DeleteFromAEL(i);return}for(var a=i.NextInAEL;a!==null&&a!=s;)this.IntersectEdges(i,a,i.Top,!0),this.SwapPositionsInAEL(i,a),a=i.NextInAEL;i.OutIdx==-1&&s.OutIdx==-1?(this.DeleteFromAEL(i),this.DeleteFromAEL(s)):i.OutIdx>=0&&s.OutIdx>=0?this.IntersectEdges(i,s,i.Top,!1):i.WindDelta===0?(i.OutIdx>=0&&(this.AddOutPt(i,i.Top),i.OutIdx=-1),this.DeleteFromAEL(i),s.OutIdx>=0&&(this.AddOutPt(s,i.Top),s.OutIdx=-1),this.DeleteFromAEL(s)):l.Error("DoMaxima error")},l.Clipper.ReversePaths=function(i){for(var s=0,a=i.length;s<a;s++)i[s].reverse()},l.Clipper.Orientation=function(i){return l.Clipper.Area(i)>=0},l.Clipper.prototype.PointCount=function(i){if(i===null)return 0;var s=0,a=i;do s++,a=a.Next;while(a!=i);return s},l.Clipper.prototype.BuildResult=function(i){l.Clear(i);for(var s=0,a=this.m_PolyOuts.length;s<a;s++){var f=this.m_PolyOuts[s];if(f.Pts!==null){var _=f.Pts.Prev,m=this.PointCount(_);if(!(m<2)){for(var g=new Array(m),x=0;x<m;x++)g[x]=_.Pt,_=_.Prev;i.push(g)}}}},l.Clipper.prototype.BuildResult2=function(i){i.Clear();for(var s=0,a=this.m_PolyOuts.length;s<a;s++){var f=this.m_PolyOuts[s],_=this.PointCount(f.Pts);if(!(f.IsOpen&&_<2||!f.IsOpen&&_<3)){this.FixHoleLinkage(f);var m=new l.PolyNode;i.m_AllPolys.push(m),f.PolyNode=m,m.m_polygon.length=_;for(var g=f.Pts.Prev,x=0;x<_;x++)m.m_polygon[x]=g.Pt,g=g.Prev}}for(var s=0,a=this.m_PolyOuts.length;s<a;s++){var f=this.m_PolyOuts[s];f.PolyNode!==null&&(f.IsOpen?(f.PolyNode.IsOpen=!0,i.AddChild(f.PolyNode)):f.FirstLeft!==null&&f.FirstLeft.PolyNode!=null?f.FirstLeft.PolyNode.AddChild(f.PolyNode):i.AddChild(f.PolyNode))}},l.Clipper.prototype.FixupOutPolygon=function(i){var s=null;i.BottomPt=null;for(var a=i.Pts;;){if(a.Prev==a||a.Prev==a.Next){this.DisposeOutPts(a),i.Pts=null;return}if(l.IntPoint.op_Equality(a.Pt,a.Next.Pt)||l.IntPoint.op_Equality(a.Pt,a.Prev.Pt)||l.ClipperBase.SlopesEqual(a.Prev.Pt,a.Pt,a.Next.Pt,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(a.Prev.Pt,a.Pt,a.Next.Pt)))s=null,a.Prev.Next=a.Next,a.Next.Prev=a.Prev,a=a.Prev;else{if(a==s)break;s===null&&(s=a),a=a.Next}}i.Pts=a},l.Clipper.prototype.DupOutPt=function(i,s){var a=new l.OutPt;return a.Pt.X=i.Pt.X,a.Pt.Y=i.Pt.Y,a.Idx=i.Idx,s?(a.Next=i.Next,a.Prev=i,i.Next.Prev=a,i.Next=a):(a.Prev=i.Prev,a.Next=i,i.Prev.Next=a,i.Prev=a),a},l.Clipper.prototype.GetOverlap=function(i,s,a,f,_){return i<s?a<f?(_.Left=Math.max(i,a),_.Right=Math.min(s,f)):(_.Left=Math.max(i,f),_.Right=Math.min(s,a)):a<f?(_.Left=Math.max(s,a),_.Right=Math.min(i,f)):(_.Left=Math.max(s,f),_.Right=Math.min(i,a)),_.Left<_.Right},l.Clipper.prototype.JoinHorz=function(i,s,a,f,_,m){var g=i.Pt.X>s.Pt.X?l.Direction.dRightToLeft:l.Direction.dLeftToRight,x=a.Pt.X>f.Pt.X?l.Direction.dRightToLeft:l.Direction.dLeftToRight;if(g==x)return!1;if(g==l.Direction.dLeftToRight){for(;i.Next.Pt.X<=_.X&&i.Next.Pt.X>=i.Pt.X&&i.Next.Pt.Y==_.Y;)i=i.Next;m&&i.Pt.X!=_.X&&(i=i.Next),s=this.DupOutPt(i,!m),l.IntPoint.op_Inequality(s.Pt,_)&&(i=s,i.Pt.X=_.X,i.Pt.Y=_.Y,s=this.DupOutPt(i,!m))}else{for(;i.Next.Pt.X>=_.X&&i.Next.Pt.X<=i.Pt.X&&i.Next.Pt.Y==_.Y;)i=i.Next;!m&&i.Pt.X!=_.X&&(i=i.Next),s=this.DupOutPt(i,m),l.IntPoint.op_Inequality(s.Pt,_)&&(i=s,i.Pt.X=_.X,i.Pt.Y=_.Y,s=this.DupOutPt(i,m))}if(x==l.Direction.dLeftToRight){for(;a.Next.Pt.X<=_.X&&a.Next.Pt.X>=a.Pt.X&&a.Next.Pt.Y==_.Y;)a=a.Next;m&&a.Pt.X!=_.X&&(a=a.Next),f=this.DupOutPt(a,!m),l.IntPoint.op_Inequality(f.Pt,_)&&(a=f,a.Pt.X=_.X,a.Pt.Y=_.Y,f=this.DupOutPt(a,!m))}else{for(;a.Next.Pt.X>=_.X&&a.Next.Pt.X<=a.Pt.X&&a.Next.Pt.Y==_.Y;)a=a.Next;!m&&a.Pt.X!=_.X&&(a=a.Next),f=this.DupOutPt(a,m),l.IntPoint.op_Inequality(f.Pt,_)&&(a=f,a.Pt.X=_.X,a.Pt.Y=_.Y,f=this.DupOutPt(a,m))}return g==l.Direction.dLeftToRight==m?(i.Prev=a,a.Next=i,s.Next=f,f.Prev=s):(i.Next=a,a.Prev=i,s.Prev=f,f.Next=s),!0},l.Clipper.prototype.JoinPoints=function(i,s,a){var f=i.OutPt1,_=new l.OutPt,m=i.OutPt2,g=new l.OutPt,x=i.OutPt1.Pt.Y==i.OffPt.Y;if(x&&l.IntPoint.op_Equality(i.OffPt,i.OutPt1.Pt)&&l.IntPoint.op_Equality(i.OffPt,i.OutPt2.Pt)){for(_=i.OutPt1.Next;_!=f&&l.IntPoint.op_Equality(_.Pt,i.OffPt);)_=_.Next;var C=_.Pt.Y>i.OffPt.Y;for(g=i.OutPt2.Next;g!=m&&l.IntPoint.op_Equality(g.Pt,i.OffPt);)g=g.Next;var I=g.Pt.Y>i.OffPt.Y;return C==I?!1:C?(_=this.DupOutPt(f,!1),g=this.DupOutPt(m,!0),f.Prev=m,m.Next=f,_.Next=g,g.Prev=_,i.OutPt1=f,i.OutPt2=_,!0):(_=this.DupOutPt(f,!0),g=this.DupOutPt(m,!1),f.Next=m,m.Prev=f,_.Prev=g,g.Next=_,i.OutPt1=f,i.OutPt2=_,!0)}else if(x){for(_=f;f.Prev.Pt.Y==f.Pt.Y&&f.Prev!=_&&f.Prev!=m;)f=f.Prev;for(;_.Next.Pt.Y==_.Pt.Y&&_.Next!=f&&_.Next!=m;)_=_.Next;if(_.Next==f||_.Next==m)return!1;for(g=m;m.Prev.Pt.Y==m.Pt.Y&&m.Prev!=g&&m.Prev!=_;)m=m.Prev;for(;g.Next.Pt.Y==g.Pt.Y&&g.Next!=m&&g.Next!=f;)g=g.Next;if(g.Next==m||g.Next==f)return!1;var A={Left:null,Right:null};if(!this.GetOverlap(f.Pt.X,_.Pt.X,m.Pt.X,g.Pt.X,A))return!1;var N=A.Left,X=A.Right,q=new l.IntPoint,W;return f.Pt.X>=N&&f.Pt.X<=X?(q.X=f.Pt.X,q.Y=f.Pt.Y,W=f.Pt.X>_.Pt.X):m.Pt.X>=N&&m.Pt.X<=X?(q.X=m.Pt.X,q.Y=m.Pt.Y,W=m.Pt.X>g.Pt.X):_.Pt.X>=N&&_.Pt.X<=X?(q.X=_.Pt.X,q.Y=_.Pt.Y,W=_.Pt.X>f.Pt.X):(q.X=g.Pt.X,q.Y=g.Pt.Y,W=g.Pt.X>m.Pt.X),i.OutPt1=f,i.OutPt2=m,this.JoinHorz(f,_,m,g,q,W)}else{for(_=f.Next;l.IntPoint.op_Equality(_.Pt,f.Pt)&&_!=f;)_=_.Next;var nt=_.Pt.Y>f.Pt.Y||!l.ClipperBase.SlopesEqual(f.Pt,_.Pt,i.OffPt,this.m_UseFullRange);if(nt){for(_=f.Prev;l.IntPoint.op_Equality(_.Pt,f.Pt)&&_!=f;)_=_.Prev;if(_.Pt.Y>f.Pt.Y||!l.ClipperBase.SlopesEqual(f.Pt,_.Pt,i.OffPt,this.m_UseFullRange))return!1}for(g=m.Next;l.IntPoint.op_Equality(g.Pt,m.Pt)&&g!=m;)g=g.Next;var _t=g.Pt.Y>m.Pt.Y||!l.ClipperBase.SlopesEqual(m.Pt,g.Pt,i.OffPt,this.m_UseFullRange);if(_t){for(g=m.Prev;l.IntPoint.op_Equality(g.Pt,m.Pt)&&g!=m;)g=g.Prev;if(g.Pt.Y>m.Pt.Y||!l.ClipperBase.SlopesEqual(m.Pt,g.Pt,i.OffPt,this.m_UseFullRange))return!1}return _==f||g==m||_==g||s==a&&nt==_t?!1:nt?(_=this.DupOutPt(f,!1),g=this.DupOutPt(m,!0),f.Prev=m,m.Next=f,_.Next=g,g.Prev=_,i.OutPt1=f,i.OutPt2=_,!0):(_=this.DupOutPt(f,!0),g=this.DupOutPt(m,!1),f.Next=m,m.Prev=f,_.Prev=g,g.Next=_,i.OutPt1=f,i.OutPt2=_,!0)}},l.Clipper.GetBounds=function(i){for(var s=0,a=i.length;s<a&&i[s].length==0;)s++;if(s==a)return new l.IntRect(0,0,0,0);var f=new l.IntRect;for(f.left=i[s][0].X,f.right=f.left,f.top=i[s][0].Y,f.bottom=f.top;s<a;s++)for(var _=0,m=i[s].length;_<m;_++)i[s][_].X<f.left?f.left=i[s][_].X:i[s][_].X>f.right&&(f.right=i[s][_].X),i[s][_].Y<f.top?f.top=i[s][_].Y:i[s][_].Y>f.bottom&&(f.bottom=i[s][_].Y);return f},l.Clipper.prototype.GetBounds2=function(i){var s=i,a=new l.IntRect;for(a.left=i.Pt.X,a.right=i.Pt.X,a.top=i.Pt.Y,a.bottom=i.Pt.Y,i=i.Next;i!=s;)i.Pt.X<a.left&&(a.left=i.Pt.X),i.Pt.X>a.right&&(a.right=i.Pt.X),i.Pt.Y<a.top&&(a.top=i.Pt.Y),i.Pt.Y>a.bottom&&(a.bottom=i.Pt.Y),i=i.Next;return a},l.Clipper.PointInPolygon=function(i,s){var a=0,f=s.length;if(f<3)return 0;for(var _=s[0],m=1;m<=f;++m){var g=m==f?s[0]:s[m];if(g.Y==i.Y&&(g.X==i.X||_.Y==i.Y&&g.X>i.X==_.X<i.X))return-1;if(_.Y<i.Y!=g.Y<i.Y){if(_.X>=i.X)if(g.X>i.X)a=1-a;else{var x=(_.X-i.X)*(g.Y-i.Y)-(g.X-i.X)*(_.Y-i.Y);if(x==0)return-1;x>0==g.Y>_.Y&&(a=1-a)}else if(g.X>i.X){var x=(_.X-i.X)*(g.Y-i.Y)-(g.X-i.X)*(_.Y-i.Y);if(x==0)return-1;x>0==g.Y>_.Y&&(a=1-a)}}_=g}return a},l.Clipper.prototype.PointInPolygon=function(i,s){for(var a=0,f=s;;){var _=s.Pt.X,m=s.Pt.Y,g=s.Next.Pt.X,x=s.Next.Pt.Y;if(x==i.Y&&(g==i.X||m==i.Y&&g>i.X==_<i.X))return-1;if(m<i.Y!=x<i.Y){if(_>=i.X)if(g>i.X)a=1-a;else{var C=(_-i.X)*(x-i.Y)-(g-i.X)*(m-i.Y);if(C==0)return-1;C>0==x>m&&(a=1-a)}else if(g>i.X){var C=(_-i.X)*(x-i.Y)-(g-i.X)*(m-i.Y);if(C==0)return-1;C>0==x>m&&(a=1-a)}}if(s=s.Next,f==s)break}return a},l.Clipper.prototype.Poly2ContainsPoly1=function(i,s){var a=i;do{var f=this.PointInPolygon(a.Pt,s);if(f>=0)return f!=0;a=a.Next}while(a!=i);return!0},l.Clipper.prototype.FixupFirstLefts1=function(i,s){for(var a=0,f=this.m_PolyOuts.length;a<f;a++){var _=this.m_PolyOuts[a];_.Pts!==null&&_.FirstLeft==i&&this.Poly2ContainsPoly1(_.Pts,s.Pts)&&(_.FirstLeft=s)}},l.Clipper.prototype.FixupFirstLefts2=function(i,s){for(var a=0,f=this.m_PolyOuts,_=f.length,m=f[a];a<_;a++,m=f[a])m.FirstLeft==i&&(m.FirstLeft=s)},l.Clipper.ParseFirstLeft=function(i){for(;i!=null&&i.Pts==null;)i=i.FirstLeft;return i},l.Clipper.prototype.JoinCommonEdges=function(){for(var i=0,s=this.m_Joins.length;i<s;i++){var a=this.m_Joins[i],f=this.GetOutRec(a.OutPt1.Idx),_=this.GetOutRec(a.OutPt2.Idx);if(!(f.Pts==null||_.Pts==null)){var m;if(f==_?m=f:this.Param1RightOfParam2(f,_)?m=_:this.Param1RightOfParam2(_,f)?m=f:m=this.GetLowermostRec(f,_),!!this.JoinPoints(a,f,_))if(f==_){if(f.Pts=a.OutPt1,f.BottomPt=null,_=this.CreateOutRec(),_.Pts=a.OutPt2,this.UpdateOutPtIdxs(_),this.m_UsingPolyTree)for(var g=0,x=this.m_PolyOuts.length;g<x-1;g++){var C=this.m_PolyOuts[g];C.Pts==null||l.Clipper.ParseFirstLeft(C.FirstLeft)!=f||C.IsHole==f.IsHole||this.Poly2ContainsPoly1(C.Pts,a.OutPt2)&&(C.FirstLeft=_)}this.Poly2ContainsPoly1(_.Pts,f.Pts)?(_.IsHole=!f.IsHole,_.FirstLeft=f,this.m_UsingPolyTree&&this.FixupFirstLefts2(_,f),(_.IsHole^this.ReverseSolution)==this.Area(_)>0&&this.ReversePolyPtLinks(_.Pts)):this.Poly2ContainsPoly1(f.Pts,_.Pts)?(_.IsHole=f.IsHole,f.IsHole=!_.IsHole,_.FirstLeft=f.FirstLeft,f.FirstLeft=_,this.m_UsingPolyTree&&this.FixupFirstLefts2(f,_),(f.IsHole^this.ReverseSolution)==this.Area(f)>0&&this.ReversePolyPtLinks(f.Pts)):(_.IsHole=f.IsHole,_.FirstLeft=f.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(f,_))}else _.Pts=null,_.BottomPt=null,_.Idx=f.Idx,f.IsHole=m.IsHole,m==_&&(f.FirstLeft=_.FirstLeft),_.FirstLeft=f,this.m_UsingPolyTree&&this.FixupFirstLefts2(_,f)}}},l.Clipper.prototype.UpdateOutPtIdxs=function(i){var s=i.Pts;do s.Idx=i.Idx,s=s.Prev;while(s!=i.Pts)},l.Clipper.prototype.DoSimplePolygons=function(){for(var i=0;i<this.m_PolyOuts.length;){var s=this.m_PolyOuts[i++],a=s.Pts;if(a!==null)do{for(var f=a.Next;f!=s.Pts;){if(l.IntPoint.op_Equality(a.Pt,f.Pt)&&f.Next!=a&&f.Prev!=a){var _=a.Prev,m=f.Prev;a.Prev=m,m.Next=a,f.Prev=_,_.Next=f,s.Pts=a;var g=this.CreateOutRec();g.Pts=f,this.UpdateOutPtIdxs(g),this.Poly2ContainsPoly1(g.Pts,s.Pts)?(g.IsHole=!s.IsHole,g.FirstLeft=s):this.Poly2ContainsPoly1(s.Pts,g.Pts)?(g.IsHole=s.IsHole,s.IsHole=!g.IsHole,g.FirstLeft=s.FirstLeft,s.FirstLeft=g):(g.IsHole=s.IsHole,g.FirstLeft=s.FirstLeft),f=a}f=f.Next}a=a.Next}while(a!=s.Pts)}},l.Clipper.Area=function(i){var s=i.length;if(s<3)return 0;for(var a=0,f=0,_=s-1;f<s;++f)a+=(i[_].X+i[f].X)*(i[_].Y-i[f].Y),_=f;return-a*.5},l.Clipper.prototype.Area=function(i){var s=i.Pts;if(s==null)return 0;var a=0;do a=a+(s.Prev.Pt.X+s.Pt.X)*(s.Prev.Pt.Y-s.Pt.Y),s=s.Next;while(s!=i.Pts);return a*.5},l.Clipper.SimplifyPolygon=function(i,s){var a=new Array,f=new l.Clipper(0);return f.StrictlySimple=!0,f.AddPath(i,l.PolyType.ptSubject,!0),f.Execute(l.ClipType.ctUnion,a,s,s),a},l.Clipper.SimplifyPolygons=function(i,s){typeof s>"u"&&(s=l.PolyFillType.pftEvenOdd);var a=new Array,f=new l.Clipper(0);return f.StrictlySimple=!0,f.AddPaths(i,l.PolyType.ptSubject,!0),f.Execute(l.ClipType.ctUnion,a,s,s),a},l.Clipper.DistanceSqrd=function(i,s){var a=i.X-s.X,f=i.Y-s.Y;return a*a+f*f},l.Clipper.DistanceFromLineSqrd=function(i,s,a){var f=s.Y-a.Y,_=a.X-s.X,m=f*s.X+_*s.Y;return m=f*i.X+_*i.Y-m,m*m/(f*f+_*_)},l.Clipper.SlopesNearCollinear=function(i,s,a,f){return l.Clipper.DistanceFromLineSqrd(s,i,a)<f},l.Clipper.PointsAreClose=function(i,s,a){var f=i.X-s.X,_=i.Y-s.Y;return f*f+_*_<=a},l.Clipper.ExcludeOp=function(i){var s=i.Prev;return s.Next=i.Next,i.Next.Prev=s,s.Idx=0,s},l.Clipper.CleanPolygon=function(i,s){typeof s>"u"&&(s=1.415);var a=i.length;if(a==0)return new Array;for(var f=new Array(a),_=0;_<a;++_)f[_]=new l.OutPt;for(var _=0;_<a;++_)f[_].Pt=i[_],f[_].Next=f[(_+1)%a],f[_].Next.Prev=f[_],f[_].Idx=0;for(var m=s*s,g=f[0];g.Idx==0&&g.Next!=g.Prev;)l.Clipper.PointsAreClose(g.Pt,g.Prev.Pt,m)?(g=l.Clipper.ExcludeOp(g),a--):l.Clipper.PointsAreClose(g.Prev.Pt,g.Next.Pt,m)?(l.Clipper.ExcludeOp(g.Next),g=l.Clipper.ExcludeOp(g),a-=2):l.Clipper.SlopesNearCollinear(g.Prev.Pt,g.Pt,g.Next.Pt,m)?(g=l.Clipper.ExcludeOp(g),a--):(g.Idx=1,g=g.Next);a<3&&(a=0);for(var x=new Array(a),_=0;_<a;++_)x[_]=new l.IntPoint(g.Pt),g=g.Next;return f=null,x},l.Clipper.CleanPolygons=function(i,s){for(var a=new Array(i.length),f=0,_=i.length;f<_;f++)a[f]=l.Clipper.CleanPolygon(i[f],s);return a},l.Clipper.Minkowski=function(i,s,a,f){var _=f?1:0,m=i.length,g=s.length,x=new Array;if(a)for(var C=0;C<g;C++){for(var I=new Array(m),A=0,N=i.length,X=i[A];A<N;A++,X=i[A])I[A]=new l.IntPoint(s[C].X+X.X,s[C].Y+X.Y);x.push(I)}else for(var C=0;C<g;C++){for(var I=new Array(m),A=0,N=i.length,X=i[A];A<N;A++,X=i[A])I[A]=new l.IntPoint(s[C].X-X.X,s[C].Y-X.Y);x.push(I)}for(var q=new Array,C=0;C<g-1+_;C++)for(var A=0;A<m;A++){var W=new Array;W.push(x[C%g][A%m]),W.push(x[(C+1)%g][A%m]),W.push(x[(C+1)%g][(A+1)%m]),W.push(x[C%g][(A+1)%m]),l.Clipper.Orientation(W)||W.reverse(),q.push(W)}var nt=new l.Clipper(0);return nt.AddPaths(q,l.PolyType.ptSubject,!0),nt.Execute(l.ClipType.ctUnion,x,l.PolyFillType.pftNonZero,l.PolyFillType.pftNonZero),x},l.Clipper.MinkowskiSum=function(){var i=arguments,s=i.length;if(s==3){var a=i[0],f=i[1],_=i[2];return l.Clipper.Minkowski(a,f,!0,_)}else if(s==4){for(var a=i[0],m=i[1],g=i[2],_=i[3],x=new l.Clipper,C,I=0,A=m.length;I<A;++I){var C=l.Clipper.Minkowski(a,m[I],!0,_);x.AddPaths(C,l.PolyType.ptSubject,!0)}_&&x.AddPaths(m,l.PolyType.ptClip,!0);var N=new l.Paths;return x.Execute(l.ClipType.ctUnion,N,g,g),N}},l.Clipper.MinkowskiDiff=function(i,s,a){return l.Clipper.Minkowski(i,s,!1,a)},l.Clipper.PolyTreeToPaths=function(i){var s=new Array;return l.Clipper.AddPolyNodeToPaths(i,l.Clipper.NodeType.ntAny,s),s},l.Clipper.AddPolyNodeToPaths=function(i,s,a){var f=!0;switch(s){case l.Clipper.NodeType.ntOpen:return;case l.Clipper.NodeType.ntClosed:f=!i.IsOpen;break}i.m_polygon.length>0&&f&&a.push(i.m_polygon);for(var _=0,m=i.Childs(),g=m.length,x=m[_];_<g;_++,x=m[_])l.Clipper.AddPolyNodeToPaths(x,s,a)},l.Clipper.OpenPathsFromPolyTree=function(i){for(var s=new l.Paths,a=0,f=i.ChildCount();a<f;a++)i.Childs()[a].IsOpen&&s.push(i.Childs()[a].m_polygon);return s},l.Clipper.ClosedPathsFromPolyTree=function(i){var s=new l.Paths;return l.Clipper.AddPolyNodeToPaths(i,l.Clipper.NodeType.ntClosed,s),s},j(l.Clipper,l.ClipperBase),l.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},l.ClipperOffset=function(i,s){typeof i>"u"&&(i=2),typeof s>"u"&&(s=l.ClipperOffset.def_arc_tolerance),this.m_destPolys=new l.Paths,this.m_srcPoly=new l.Path,this.m_destPoly=new l.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new l.IntPoint,this.m_polyNodes=new l.PolyNode,this.MiterLimit=i,this.ArcTolerance=s,this.m_lowest.X=-1},l.ClipperOffset.two_pi=6.28318530717959,l.ClipperOffset.def_arc_tolerance=.25,l.ClipperOffset.prototype.Clear=function(){l.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},l.ClipperOffset.Round=l.Clipper.Round,l.ClipperOffset.prototype.AddPath=function(i,s,a){var f=i.length-1;if(!(f<0)){var _=new l.PolyNode;if(_.m_jointype=s,_.m_endtype=a,a==l.EndType.etClosedLine||a==l.EndType.etClosedPolygon)for(;f>0&&l.IntPoint.op_Equality(i[0],i[f]);)f--;_.m_polygon.push(i[0]);for(var m=0,g=0,x=1;x<=f;x++)l.IntPoint.op_Inequality(_.m_polygon[m],i[x])&&(m++,_.m_polygon.push(i[x]),(i[x].Y>_.m_polygon[g].Y||i[x].Y==_.m_polygon[g].Y&&i[x].X<_.m_polygon[g].X)&&(g=m));if(!(a==l.EndType.etClosedPolygon&&m<2||a!=l.EndType.etClosedPolygon&&m<0)&&(this.m_polyNodes.AddChild(_),a==l.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new l.IntPoint(0,g);else{var C=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(_.m_polygon[g].Y>C.Y||_.m_polygon[g].Y==C.Y&&_.m_polygon[g].X<C.X)&&(this.m_lowest=new l.IntPoint(this.m_polyNodes.ChildCount()-1,g))}}},l.ClipperOffset.prototype.AddPaths=function(i,s,a){for(var f=0,_=i.length;f<_;f++)this.AddPath(i[f],s,a)},l.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!l.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var i=0;i<this.m_polyNodes.ChildCount();i++){var s=this.m_polyNodes.Childs()[i];(s.m_endtype==l.EndType.etClosedPolygon||s.m_endtype==l.EndType.etClosedLine&&l.Clipper.Orientation(s.m_polygon))&&s.m_polygon.reverse()}else for(var i=0;i<this.m_polyNodes.ChildCount();i++){var s=this.m_polyNodes.Childs()[i];s.m_endtype==l.EndType.etClosedLine&&!l.Clipper.Orientation(s.m_polygon)&&s.m_polygon.reverse()}},l.ClipperOffset.GetUnitNormal=function(i,s){var a=s.X-i.X,f=s.Y-i.Y;if(a==0&&f==0)return new l.DoublePoint(0,0);var _=1/Math.sqrt(a*a+f*f);return a*=_,f*=_,new l.DoublePoint(f,-a)},l.ClipperOffset.prototype.DoOffset=function(i){if(this.m_destPolys=new Array,this.m_delta=i,l.ClipperBase.near_zero(i)){for(var s=0;s<this.m_polyNodes.ChildCount();s++){var a=this.m_polyNodes.Childs()[s];a.m_endtype==l.EndType.etClosedPolygon&&this.m_destPolys.push(a.m_polygon)}return}this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5;var f;this.ArcTolerance<=0?f=l.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(i)*l.ClipperOffset.def_arc_tolerance?f=Math.abs(i)*l.ClipperOffset.def_arc_tolerance:f=this.ArcTolerance;var _=3.14159265358979/Math.acos(1-f/Math.abs(i));this.m_sin=Math.sin(l.ClipperOffset.two_pi/_),this.m_cos=Math.cos(l.ClipperOffset.two_pi/_),this.m_StepsPerRad=_/l.ClipperOffset.two_pi,i<0&&(this.m_sin=-this.m_sin);for(var s=0;s<this.m_polyNodes.ChildCount();s++){var a=this.m_polyNodes.Childs()[s];this.m_srcPoly=a.m_polygon;var m=this.m_srcPoly.length;if(!(m==0||i<=0&&(m<3||a.m_endtype!=l.EndType.etClosedPolygon))){if(this.m_destPoly=new Array,m==1){if(a.m_jointype==l.JoinType.jtRound)for(var g=1,x=0,C=1;C<=_;C++){this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[0].X+g*i),l.ClipperOffset.Round(this.m_srcPoly[0].Y+x*i)));var I=g;g=g*this.m_cos-this.m_sin*x,x=I*this.m_sin+x*this.m_cos}else for(var g=-1,x=-1,C=0;C<4;++C)this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[0].X+g*i),l.ClipperOffset.Round(this.m_srcPoly[0].Y+x*i))),g<0?g=1:x<0?x=1:g=-1;this.m_destPolys.push(this.m_destPoly);continue}this.m_normals.length=0;for(var C=0;C<m-1;C++)this.m_normals.push(l.ClipperOffset.GetUnitNormal(this.m_srcPoly[C],this.m_srcPoly[C+1]));if(a.m_endtype==l.EndType.etClosedLine||a.m_endtype==l.EndType.etClosedPolygon?this.m_normals.push(l.ClipperOffset.GetUnitNormal(this.m_srcPoly[m-1],this.m_srcPoly[0])):this.m_normals.push(new l.DoublePoint(this.m_normals[m-2])),a.m_endtype==l.EndType.etClosedPolygon){for(var A=m-1,C=0;C<m;C++)A=this.OffsetPoint(C,A,a.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(a.m_endtype==l.EndType.etClosedLine){for(var A=m-1,C=0;C<m;C++)A=this.OffsetPoint(C,A,a.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;for(var N=this.m_normals[m-1],C=m-1;C>0;C--)this.m_normals[C]=new l.DoublePoint(-this.m_normals[C-1].X,-this.m_normals[C-1].Y);this.m_normals[0]=new l.DoublePoint(-N.X,-N.Y),A=0;for(var C=m-1;C>=0;C--)A=this.OffsetPoint(C,A,a.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{for(var A=0,C=1;C<m-1;++C)A=this.OffsetPoint(C,A,a.m_jointype);var X;if(a.m_endtype==l.EndType.etOpenButt){var C=m-1;X=new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[C].X+this.m_normals[C].X*i),l.ClipperOffset.Round(this.m_srcPoly[C].Y+this.m_normals[C].Y*i)),this.m_destPoly.push(X),X=new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[C].X-this.m_normals[C].X*i),l.ClipperOffset.Round(this.m_srcPoly[C].Y-this.m_normals[C].Y*i)),this.m_destPoly.push(X)}else{var C=m-1;A=m-2,this.m_sinA=0,this.m_normals[C]=new l.DoublePoint(-this.m_normals[C].X,-this.m_normals[C].Y),a.m_endtype==l.EndType.etOpenSquare?this.DoSquare(C,A):this.DoRound(C,A)}for(var C=m-1;C>0;C--)this.m_normals[C]=new l.DoublePoint(-this.m_normals[C-1].X,-this.m_normals[C-1].Y);this.m_normals[0]=new l.DoublePoint(-this.m_normals[1].X,-this.m_normals[1].Y),A=m-1;for(var C=A-1;C>0;--C)A=this.OffsetPoint(C,A,a.m_jointype);a.m_endtype==l.EndType.etOpenButt?(X=new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*i),l.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*i)),this.m_destPoly.push(X),X=new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*i),l.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*i)),this.m_destPoly.push(X)):(A=1,this.m_sinA=0,a.m_endtype==l.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}}},l.ClipperOffset.prototype.Execute=function(){var i=arguments,s=i[0]instanceof l.PolyTree;if(s){var a=i[0],f=i[1];a.Clear(),this.FixOrientations(),this.DoOffset(f);var _=new l.Clipper(0);if(_.AddPaths(this.m_destPolys,l.PolyType.ptSubject,!0),f>0)_.Execute(l.ClipType.ctUnion,a,l.PolyFillType.pftPositive,l.PolyFillType.pftPositive);else{var m=l.Clipper.GetBounds(this.m_destPolys),g=new l.Path;if(g.push(new l.IntPoint(m.left-10,m.bottom+10)),g.push(new l.IntPoint(m.right+10,m.bottom+10)),g.push(new l.IntPoint(m.right+10,m.top-10)),g.push(new l.IntPoint(m.left-10,m.top-10)),_.AddPath(g,l.PolyType.ptSubject,!0),_.ReverseSolution=!0,_.Execute(l.ClipType.ctUnion,a,l.PolyFillType.pftNegative,l.PolyFillType.pftNegative),a.ChildCount()==1&&a.Childs()[0].ChildCount()>0){var x=a.Childs()[0];a.Childs()[0]=x.Childs()[0];for(var C=1;C<x.ChildCount();C++)a.AddChild(x.Childs()[C])}else a.Clear()}}else{var a=i[0],f=i[1];l.Clear(a),this.FixOrientations(),this.DoOffset(f);var _=new l.Clipper(0);if(_.AddPaths(this.m_destPolys,l.PolyType.ptSubject,!0),f>0)_.Execute(l.ClipType.ctUnion,a,l.PolyFillType.pftPositive,l.PolyFillType.pftPositive);else{var m=l.Clipper.GetBounds(this.m_destPolys),g=new l.Path;g.push(new l.IntPoint(m.left-10,m.bottom+10)),g.push(new l.IntPoint(m.right+10,m.bottom+10)),g.push(new l.IntPoint(m.right+10,m.top-10)),g.push(new l.IntPoint(m.left-10,m.top-10)),_.AddPath(g,l.PolyType.ptSubject,!0),_.ReverseSolution=!0,_.Execute(l.ClipType.ctUnion,a,l.PolyFillType.pftNegative,l.PolyFillType.pftNegative),a.length>0&&a.splice(0,1)}}},l.ClipperOffset.prototype.OffsetPoint=function(i,s,a){if(this.m_sinA=this.m_normals[s].X*this.m_normals[i].Y-this.m_normals[i].X*this.m_normals[s].Y,this.m_sinA<5e-5&&this.m_sinA>-5e-5)return s;if(this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1),this.m_sinA*this.m_delta<0)this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[i].X+this.m_normals[s].X*this.m_delta),l.ClipperOffset.Round(this.m_srcPoly[i].Y+this.m_normals[s].Y*this.m_delta))),this.m_destPoly.push(new l.IntPoint(this.m_srcPoly[i])),this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[i].X+this.m_normals[i].X*this.m_delta),l.ClipperOffset.Round(this.m_srcPoly[i].Y+this.m_normals[i].Y*this.m_delta)));else switch(a){case l.JoinType.jtMiter:{var f=1+(this.m_normals[i].X*this.m_normals[s].X+this.m_normals[i].Y*this.m_normals[s].Y);f>=this.m_miterLim?this.DoMiter(i,s,f):this.DoSquare(i,s);break}case l.JoinType.jtSquare:this.DoSquare(i,s);break;case l.JoinType.jtRound:this.DoRound(i,s);break}return s=i,s},l.ClipperOffset.prototype.DoSquare=function(i,s){var a=Math.tan(Math.atan2(this.m_sinA,this.m_normals[s].X*this.m_normals[i].X+this.m_normals[s].Y*this.m_normals[i].Y)/4);this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[i].X+this.m_delta*(this.m_normals[s].X-this.m_normals[s].Y*a)),l.ClipperOffset.Round(this.m_srcPoly[i].Y+this.m_delta*(this.m_normals[s].Y+this.m_normals[s].X*a)))),this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[i].X+this.m_delta*(this.m_normals[i].X+this.m_normals[i].Y*a)),l.ClipperOffset.Round(this.m_srcPoly[i].Y+this.m_delta*(this.m_normals[i].Y-this.m_normals[i].X*a))))},l.ClipperOffset.prototype.DoMiter=function(i,s,a){var f=this.m_delta/a;this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[i].X+(this.m_normals[s].X+this.m_normals[i].X)*f),l.ClipperOffset.Round(this.m_srcPoly[i].Y+(this.m_normals[s].Y+this.m_normals[i].Y)*f)))},l.ClipperOffset.prototype.DoRound=function(i,s){for(var a=Math.atan2(this.m_sinA,this.m_normals[s].X*this.m_normals[i].X+this.m_normals[s].Y*this.m_normals[i].Y),f=l.Cast_Int32(l.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(a))),_=this.m_normals[s].X,m=this.m_normals[s].Y,g,x=0;x<f;++x)this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[i].X+_*this.m_delta),l.ClipperOffset.Round(this.m_srcPoly[i].Y+m*this.m_delta))),g=_,_=_*this.m_cos-this.m_sin*m,m=g*this.m_sin+m*this.m_cos;this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[i].X+this.m_normals[i].X*this.m_delta),l.ClipperOffset.Round(this.m_srcPoly[i].Y+this.m_normals[i].Y*this.m_delta)))},l.Error=function(i){try{throw new Error(i)}catch(s){alert(s.message)}},l.JS={},l.JS.AreaOfPolygon=function(i,s){return s||(s=1),l.Clipper.Area(i)/(s*s)},l.JS.AreaOfPolygons=function(i,s){s||(s=1);for(var a=0,f=0;f<i.length;f++)a+=l.Clipper.Area(i[f]);return a/(s*s)},l.JS.BoundsOfPath=function(i,s){return l.JS.BoundsOfPaths([i],s)},l.JS.BoundsOfPaths=function(i,s){s||(s=1);var a=l.Clipper.GetBounds(i);return a.left/=s,a.bottom/=s,a.right/=s,a.top/=s,a},l.JS.Clean=function(f,s){if(!(f instanceof Array))return[];var a=f[0]instanceof Array,f=l.JS.Clone(f);if(typeof s!="number"||s===null)return l.Error("Delta is not a number in Clean()."),f;if(f.length===0||f.length==1&&f[0].length===0||s<0)return f;a||(f=[f]);for(var _=f.length,m,g,x,C,I,A,N,X=[],q=0;q<_;q++)if(g=f[q],m=g.length,m!==0){if(m<3){x=g,X.push(x);continue}for(x=g,C=s*s,I=g[0],A=1,N=1;N<m;N++)(g[N].X-I.X)*(g[N].X-I.X)+(g[N].Y-I.Y)*(g[N].Y-I.Y)<=C||(x[A]=g[N],I=g[N],A++);I=g[A-1],(g[0].X-I.X)*(g[0].X-I.X)+(g[0].Y-I.Y)*(g[0].Y-I.Y)<=C&&A--,A<m&&x.splice(A,m-A),x.length&&X.push(x)}return!a&&X.length?X=X[0]:!a&&X.length===0?X=[]:a&&X.length===0&&(X=[[]]),X},l.JS.Clone=function(i){if(!(i instanceof Array))return[];if(i.length===0)return[];if(i.length==1&&i[0].length===0)return[[]];var s=i[0]instanceof Array;s||(i=[i]);var a=i.length,f,_,m,g,x=new Array(a);for(_=0;_<a;_++){for(f=i[_].length,g=new Array(f),m=0;m<f;m++)g[m]={X:i[_][m].X,Y:i[_][m].Y};x[_]=g}return s||(x=x[0]),x},l.JS.Lighten=function(i,s){if(!(i instanceof Array))return[];if(typeof s!="number"||s===null)return l.Error("Tolerance is not a number in Lighten()."),l.JS.Clone(i);if(i.length===0||i.length==1&&i[0].length===0||s<0)return l.JS.Clone(i);i[0]instanceof Array||(i=[i]);var a,f,_,m,g,x,C,I,A,N,X,q,W,nt,_t,Et,G,jt=i.length,Y=s*s,Mt=[];for(a=0;a<jt;a++)if(_=i[a],x=_.length,x!=0){for(m=0;m<1e6;m++){for(g=[],x=_.length,_[x-1].X!=_[0].X||_[x-1].Y!=_[0].Y?(q=1,_.push({X:_[0].X,Y:_[0].Y}),x=_.length):q=0,X=[],f=0;f<x-2;f++)C=_[f],A=_[f+1],I=_[f+2],Et=C.X,G=C.Y,W=I.X-Et,nt=I.Y-G,(W!==0||nt!==0)&&(_t=((A.X-Et)*W+(A.Y-G)*nt)/(W*W+nt*nt),_t>1?(Et=I.X,G=I.Y):_t>0&&(Et+=W*_t,G+=nt*_t)),W=A.X-Et,nt=A.Y-G,N=W*W+nt*nt,N<=Y&&(X[f+1]=1,f++);for(g.push({X:_[0].X,Y:_[0].Y}),f=1;f<x-1;f++)X[f]||g.push({X:_[f].X,Y:_[f].Y});if(g.push({X:_[x-1].X,Y:_[x-1].Y}),q&&_.pop(),X.length)_=g;else break}x=g.length,g[x-1].X==g[0].X&&g[x-1].Y==g[0].Y&&g.pop(),g.length>2&&Mt.push(g)}return!i[0]instanceof Array&&(Mt=Mt[0]),typeof Mt>"u"&&(Mt=[[]]),Mt},l.JS.PerimeterOfPath=function(i,s,a){if(typeof i>"u")return 0;var f=Math.sqrt,_=0,m,g,x=0,C=0,I=0,A=0,N=i.length;if(N<2)return 0;for(s&&(i[N]=i[0],N++);--N;)m=i[N],x=m.X,C=m.Y,g=i[N-1],I=g.X,A=g.Y,_+=f((x-I)*(x-I)+(C-A)*(C-A));return s&&i.pop(),_/a},l.JS.PerimeterOfPaths=function(i,s,a){a||(a=1);for(var f=0,_=0;_<i.length;_++)f+=l.JS.PerimeterOfPath(i[_],s,a);return f},l.JS.ScaleDownPath=function(i,s){var a,f;for(s||(s=1),a=i.length;a--;)f=i[a],f.X=f.X/s,f.Y=f.Y/s},l.JS.ScaleDownPaths=function(i,s){var a,f,_;for(s||(s=1),a=i.length;a--;)for(f=i[a].length;f--;)_=i[a][f],_.X=_.X/s,_.Y=_.Y/s},l.JS.ScaleUpPath=function(i,s){var a,f,_=Math.round;for(s||(s=1),a=i.length;a--;)f=i[a],f.X=_(f.X*s),f.Y=_(f.Y*s)},l.JS.ScaleUpPaths=function(i,s){var a,f,_,m=Math.round;for(s||(s=1),a=i.length;a--;)for(f=i[a].length;f--;)_=i[a][f],_.X=m(_.X*s),_.Y=m(_.Y*s)},l.ExPolygons=function(){return[]},l.ExPolygon=function(){this.outer=null,this.holes=null},l.JS.AddOuterPolyNodeToExPolygons=function(i,s){var a=new l.ExPolygon;a.outer=i.Contour();var f=i.Childs(),_=f.length;a.holes=new Array(_);var m,g,x,C,I,A;for(x=0;x<_;x++)for(m=f[x],a.holes[x]=m.Contour(),C=0,I=m.Childs(),A=I.length;C<A;C++)g=I[C],l.JS.AddOuterPolyNodeToExPolygons(g,s);s.push(a)},l.JS.ExPolygonsToPaths=function(i){var s,a,f,_,m=new l.Paths;for(s=0,f=i.length;s<f;s++)for(m.push(i[s].outer),a=0,_=i[s].holes.length;a<_;a++)m.push(i[s].holes[a]);return m},l.JS.PolyTreeToExPolygons=function(i){var s=new l.ExPolygons,a,f,_,m;for(f=0,_=i.Childs(),m=_.length;f<m;f++)a=_[f],l.JS.AddOuterPolyNodeToExPolygons(a,s);return s},w.exports=l})(tr);const mi=us,er=(w,l)=>l.some(y=>w instanceof y);let vs,gs;function nr(){return vs||(vs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function or(){return gs||(gs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ts=new WeakMap,fs=new WeakMap,Cs=new WeakMap,rs=new WeakMap,ps=new WeakMap;function sr(w){const l=new Promise((y,Z)=>{const S=()=>{w.removeEventListener("success",k),w.removeEventListener("error",B)},k=()=>{y(yi(w.result)),S()},B=()=>{Z(w.error),S()};w.addEventListener("success",k),w.addEventListener("error",B)});return l.then(y=>{y instanceof IDBCursor&&Ts.set(y,w)}).catch(()=>{}),ps.set(l,w),l}function rr(w){if(fs.has(w))return;const l=new Promise((y,Z)=>{const S=()=>{w.removeEventListener("complete",k),w.removeEventListener("error",B),w.removeEventListener("abort",B)},k=()=>{y(),S()},B=()=>{Z(w.error),S()};w.addEventListener("complete",k),w.addEventListener("error",B),w.addEventListener("abort",B)});fs.set(w,l)}let cs={get(w,l,y){if(w instanceof IDBTransaction){if(l==="done")return fs.get(w);if(l==="objectStoreNames")return w.objectStoreNames||Cs.get(w);if(l==="store")return y.objectStoreNames[1]?void 0:y.objectStore(y.objectStoreNames[0])}return yi(w[l])},has(w,l){return w instanceof IDBTransaction&&(l==="done"||l==="store")?!0:l in w}};function ar(w){cs=w(cs)}function hr(w){return w===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(l,...y){const Z=w.call(as(this),l,...y);return Cs.set(Z,l.sort?l.sort():[l]),yi(Z)}:or().includes(w)?function(...l){return w.apply(as(this),l),yi(Ts.get(this))}:function(...l){return yi(w.apply(as(this),l))}}function lr(w){return typeof w=="function"?hr(w):(w instanceof IDBTransaction&&rr(w),er(w,nr())?new Proxy(w,cs):w)}function yi(w){if(w instanceof IDBRequest)return sr(w);if(rs.has(w))return rs.get(w);const l=lr(w);return l!==w&&(rs.set(w,l),ps.set(l,w)),l}const as=w=>ps.get(w);function ur(w,l,{blocked:y,upgrade:Z,blocking:S}={}){const k=indexedDB.open(w,l),B=yi(k);return Z&&k.addEventListener("upgradeneeded",E=>{Z(yi(k.result),E.oldVersion,E.newVersion,yi(k.transaction))}),y&&k.addEventListener("blocked",()=>y()),S&&B.then(E=>E.addEventListener("versionchange",S)).catch(()=>{}),B}const fr=["get","getKey","getAll","getAllKeys","count"],cr=["put","add","delete","clear"],hs=new Map;function ys(w,l){if(!(w instanceof IDBDatabase&&!(l in w)&&typeof l=="string"))return;if(hs.get(l))return hs.get(l);const y=l.replace(/FromIndex$/,""),Z=l!==y,S=cr.includes(y);if(!(y in(Z?IDBIndex:IDBObjectStore).prototype)||!(S||fr.includes(y)))return;const k=async function(B,...E){const M=this.transaction(B,S?"readwrite":"readonly");let Ht=M.store;Z&&(Ht=Ht.index(E.shift()));const Bt=Ht[y](...E);return S&&await M.done,Bt};return hs.set(l,k),k}ar(w=>({get:(l,y,Z)=>ys(l,y)||w.get(l,y,Z),has:(l,y)=>!!ys(l,y)||w.has(l,y)}));const dr=mt.Control.extend({options:{},_layers:{},initialize(w){mt.Util.setOptions(this,w),this._layers={}},_addLayer(w){let l=15;w.options.minZoom&&(l=w.options.minZoom),this._layers[w._leaflet_id]=l,this._updateBox(null)},_removeLayer(w){this._layers[w._leaflet_id]=null,this._updateBox(null)},_getMinZoomLevel(){let w=-1;for(const l in this._layers)this._layers[l]!==null&&this._layers[l]>w&&(w=this._layers[l]);return w},_updateBox(w){const l=this._getMinZoomLevel();w!==null&&mt.DomEvent.preventDefault(w),l==-1?this._container.innerHTML=this.options.minZoomMessageNoLayer:this._container.innerHTML=this.options.minZoomMessage.replace(/CURRENTZOOM/,this._map.getZoom()).replace(/MINZOOMLEVEL/,l),this._map.getZoom()>=l?this._container.style.display="none":this._container.style.display="block"},onAdd(w){return this._map=w,this._map.zoomIndicator=this,this._container=mt.DomUtil.create("div","leaflet-control-minZoomIndicator"),this._map.on("moveend",this._updateBox,this),this._updateBox(null),this._container},onRemove(w){w.off({moveend:this._updateBox},this)}});mt.Control.MinZoomIndicator=dr;const Is=mt.FeatureGroup.extend({options:{debug:!1,minZoom:15,endPoint:"https://overpass-api.de/api/",query:"(node({{bbox}})[organic];node({{bbox}})[second_hand];);out qt;",loadedBounds:[],markerIcon:null,timeout:30*1e3,retryOnTimeout:!1,noInitialRequest:!1,cacheEnabled:!1,cacheTTL:1800,beforeRequest(){},afterRequest(){},onSuccess(w){for(let l=0;l<w.elements.length;l++){let y,Z;const S=w.elements[l];if(S.id in this._ids)continue;this._ids[S.id]=!0,S.type==="node"?y=mt.latLng(S.lat,S.lon):y=mt.latLng(S.center.lat,S.center.lon),this.options.markerIcon?Z=mt.marker(y,{icon:this.options.markerIcon}):Z=mt.circle(y,20,{stroke:!1,fillColor:"#E54041",fillOpacity:.9});const k=this._getPoiPopupHTML(S.tags,S.id),B=mt.popup().setContent(k);Z.bindPopup(B),this._markers.addLayer(Z)}},onError(){},onTimeout(){},minZoomIndicatorEnabled:!0,minZoomIndicatorOptions:{minZoomMessageNoLayer:"No layer assigned",minZoomMessage:"Current zoom Level: CURRENTZOOM. Data are visible at Level: MINZOOMLEVEL."}},initialize(w){mt.Util.setOptions(this,w),this._ids={},this._loadedBounds=w.loadedBounds||[],this._requestInProgress=!1,this.options.cacheEnabled&&this._initCacheDb()},async _initCacheDb(){this._cacheDb=await ur("leaflet-overpass-layer",1,{upgrade(l){l.createObjectStore("cache",{autoIncrement:!0})}}),!!this._map&&this._loadCachedItems()},_getPoiPopupHTML(w,l){let y;const Z=document.createElement("a"),S=document.createElement("table"),k=document.createElement("div");Z.href=`https://www.openstreetmap.org/edit?editor=id&node=${l}`,Z.appendChild(document.createTextNode("Edit this entry in iD")),S.style.borderSpacing="10px",S.style.borderCollapse="separate";for(const B in w)y=S.insertRow(0),y.insertCell(0).appendChild(document.createTextNode(B)),y.insertCell(1).appendChild(document.createTextNode(w[B]));return k.appendChild(Z),k.appendChild(S),k},_buildRequestBox(w){return mt.rectangle(w,{bounds:w,color:"#204a87",stroke:!1,fillOpacity:.1,clickable:!1})},_addRequestBox(w){return this._requestBoxes.addLayer(w)},_getRequestBoxes(){return this._requestBoxes.getLayers()},_removeRequestBox(w){this._requestBoxes.removeLayer(w)},_removeRequestBoxes(){return this._requestBoxes.clearLayers()},_addResponseBox(w){return this._responseBoxes.addLayer(w)},_addResponseBoxes(w){this._removeRequestBoxes(),w.forEach(l=>{l.setStyle({color:"black",weight:2}),this._addResponseBox(l)})},_isFullyLoadedBounds(w,l){if(l.length===0)return!1;const y=this._buildClipsFromBounds([w]),Z=this._buildClipsFromBounds(l),S=new mi.Clipper,k=new mi.PolyTree;return S.AddPaths(y,mi.PolyType.ptSubject,!0),S.AddPaths(Z,mi.PolyType.ptClip,!0),S.Execute(mi.ClipType.ctDifference,k,mi.PolyFillType.pftNonZero,mi.PolyFillType.pftNonZero),mi.JS.PolyTreeToExPolygons(k).length===0},_getLoadedBounds(){return this._loadedBounds},_addLoadedBounds(w){this._loadedBounds.push(w)},_buildClipsFromBounds(w){return w.map(l=>[{X:l._southWest.lng*1e6,Y:l._southWest.lat*1e6},{X:l._southWest.lng*1e6,Y:l._northEast.lat*1e6},{X:l._northEast.lng*1e6,Y:l._northEast.lat*1e6},{X:l._northEast.lng*1e6,Y:l._southWest.lat*1e6}])},_buildBoundsFromClips(w){return w.map(l=>mt.latLngBounds(mt.latLng(l[0].Y/1e6,l[0].X/1e6).wrap(),mt.latLng(l[2].Y/1e6,l[2].X/1e6).wrap()))},_buildOverpassQueryFromQueryAndBounds(w,l){const y=l._southWest,Z=l._northEast,S=[y.lat,y.lng,Z.lat,Z.lng].join(",");return w=w.replace(/(\/\/.*)/g,""),w=w.replace(/(\{\{bbox\}\})/g,S),w},_buildOverpassUrlFromEndPointAndQuery(w,l){return`${w}interpreter?data=[out:json];${l}`},_buildLargerBounds(w){const l=Math.abs(w._northEast.lng-w._southWest.lng),y=Math.abs(w._northEast.lat-w._southWest.lat),Z=l>y?l:y;return w._southWest.lat-=Z/2,w._southWest.lng-=Z/2,w._northEast.lat+=Z/2,w._northEast.lng+=Z/2,mt.latLngBounds(mt.latLng(w._southWest.lat,w._southWest.lng).wrap(),mt.latLng(w._northEast.lat,w._northEast.lng).wrap())},_setRequestInProgress(w){this._requestInProgress=w},_isRequestInProgress(){return this._requestInProgress},_hasNextRequest(){return!!this._nextRequest},_getNextRequest(){return this._nextRequest},_setNextRequest(w){this._nextRequest=w},_removeNextRequest(){this._nextRequest=null},_prepareRequest(){if(this._map.getZoom()<this.options.minZoom)return!1;const w=this._buildLargerBounds(this._map.getBounds()),l=this._sendRequest.bind(this,w);this._isRequestInProgress()?this._setNextRequest(l):(this._removeNextRequest(),l())},_sendRequest(w){const l=this._getLoadedBounds();if(this._isFullyLoadedBounds(w,l)){this._setRequestInProgress(!1);return}const y=this._buildLargerBounds(w),Z=this._buildOverpassUrlFromEndPointAndQuery(this.options.endPoint,this._buildOverpassQueryFromQueryAndBounds(this.options.query,y)),S=new XMLHttpRequest;if(this.options.beforeRequest.call(this)===!1){this.options.afterRequest.call(this);return}this._setRequestInProgress(!0),this.options.debug&&this._addRequestBox(this._buildRequestBox(y)),S.open("GET",Z,!0),S.timeout=this.options.timeout,S.ontimeout=()=>this._onRequestTimeout(S,Z,y),S.onload=()=>this._onRequestLoad(S,y),S.send()},_onRequestLoad(w,l){if(w.status>=200&&w.status<400){let y=JSON.parse(w.response);this.options.onSuccess.call(this,y);const Z=typeof this._cacheDb<"u";if(this.options.cacheEnabled&&Z){let S=new Date;S.setSeconds(S.getSeconds()+this.options.cacheTTL),this._getCachedItems().then(k=>{let B;k.forEach((E,M)=>{const Ht=E.query===this.options.query,Bt=mt.latLng(E.bounds._northEast),tt=mt.latLng(E.bounds._southWest),vt=mt.latLngBounds(Bt,tt);Ht&&l.equals(vt)&&(B=M)}),this._cacheDb.put("cache",{query:this.options.query,result:y,bounds:l,expires:S},B)})}this._onRequestLoadCallback(l)}else this._onRequestErrorCallback(l),this.options.onError.call(this,w);this._onRequestCompleteCallback(l)},_onRequestTimeout(w,l,y){this.options.onTimeout.call(this,w),this.options.retryOnTimeout?this._sendRequest(l):(this._onRequestErrorCallback(y),this._onRequestCompleteCallback(y))},_onRequestLoadCallback(w){this._addLoadedBounds(w),this.options.debug&&this._addResponseBoxes(this._getRequestBoxes())},_onRequestErrorCallback(w){this.options.debug&&this._removeRequestBox(this._buildRequestBox(w))},_onRequestCompleteCallback(){if(this.options.afterRequest.call(this),this._hasNextRequest()){const w=this._getNextRequest();this._removeNextRequest(),w()}else this._setRequestInProgress(!1)},async _getCachedItems(){if(!(typeof this._cacheDb<"u"))return;const l=await this._cacheDb.getAllKeys("cache"),y=await this._cacheDb.getAll("cache"),Z=new Map;return y.forEach((S,k)=>{const B=l[k];Z.set(B,S)}),Z},async _loadCachedItems(){if(!(typeof this._cacheDb<"u")||!this._map)return;(await this._getCachedItems()).forEach((y,Z)=>{new Date>y.expires?this._cacheDb.delete("cache",Z):y.query===this.options.query&&(this.options.onSuccess.call(this,y.result),this._onRequestLoadCallback(y.bounds))})},onAdd(w){this._map=w,this.options.minZoomIndicatorEnabled===!0&&(this._map.zoomIndicator?(this._zoomControl=this._map.zoomIndicator,this._zoomControl._addLayer(this)):(this._zoomControl=new mt.Control.MinZoomIndicator(this.options.minZoomIndicatorOptions),this._map.addControl(this._zoomControl),this._zoomControl._addLayer(this))),this.options.debug&&(this._requestBoxes=mt.featureGroup().addTo(this._map),this._responseBoxes=mt.featureGroup().addTo(this._map)),this._markers=mt.featureGroup().addTo(this._map),this.options.cacheEnabled&&typeof this._cacheDb<"u"&&this._loadCachedItems(),this.options.noInitialRequest||this._prepareRequest(),this._map.on("moveend",this._prepareRequest,this)},onRemove(w){mt.LayerGroup.prototype.onRemove.call(this,w),this.options.minZoomIndicatorEnabled===!0&&this._map.zoomIndicator&&(this._zoomControl._removeLayer(this),this._map.removeControl(this._zoomControl),this._zoomControl=null,this._map.zoomIndicator=null),this.options.debug&&(this._map.removeLayer(this._requestBoxes),this._map.removeLayer(this._responseBoxes)),this._resetData(),this._map.removeLayer(this._markers),this._map.off("moveend",this._prepareRequest,this)},setQuery(w){this.options.query=w,this._resetData(),this._prepareRequest()},_resetData(){this._ids={},this._loadedBounds=[],this._requestInProgress=!1,this._markers.clearLayers(),this.options.debug&&(this._requestBoxes.clearLayers(),this._responseBoxes.clearLayers())},getData(){return this._data}});mt.OverPassLayer=Is;mt.overpassLayer=w=>new mt.OverPassLayer(w);function _r(){const w=vi([]),l=vi(!0),y=`
    (
      node({{bbox}})[amenity~"^(fire_station|hospital)$"];
      node({{bbox}})[amenity~"^(hospital)$"];
      relation({{bbox}})[amenity~"^(hospital)$"];
      node({{bbox}})[healthcare~"^(hospital|clinic)$"];
      relation({{bbox}})[healthcare~"^(hospital|clinic)$"];
    );
    out;
  `,Z=(k={})=>(k.minZoom=13,k.query=y,k.onSuccess=function(B){for(const E of B.elements){if(w.value.includes(E.id))continue;if(w.value.push(E.id),E.type!=="node")throw new Error("None node found, what shall we do?");const M=_o.circle(_o.latLng(E.lat,E.lon),20,{stroke:!0,color:"#0f57b4",weight:2,fillColor:"#e3e823"});M.bindPopup(_o.popup().setContent(`
            <div><strong>${E.tags.name}</strong></div>
            <div>${E.tags.amenity}</div>
          `)),this._markers.addLayer(M)}l.value=!1},new Is(k));return{init:k=>k&&k.addLayer(Z()),loading:l}}function pr(){const w=navigator.geolocation||null;let l=B=>B,y=B=>B;return{init:()=>{w==null||w.getCurrentPosition(l,y)},onAllowed:B=>{l=B},onDenied:B=>{y=B}}}const mr={key:0},vr={key:1},gr={key:2},yr=ti({__name:"TheMap",setup(w){const l=vi(null),y=vi(null),Z=vi(""),{t:S}=Cn(),{init:k,map:B}=Js(),{init:E,loading:M}=_r(),{init:Ht,onAllowed:Bt,onDenied:tt}=pr(),vt=async Nt=>{if(await Bs(),k(l.value,Nt),!B.value)throw new Error("Your map was not initialized.");E(B.value)};return Bt(Nt=>{y.value=!0,vt([Nt.coords.latitude,Nt.coords.longitude])}),tt(Nt=>{Nt.code===1&&(Z.value="Access to geo location not granted."),Nt.code===2&&(Z.value="Could not retrieve your current location."),Nt.code===3&&(Z.value="Timout"),y.value=!1}),Os(()=>Ht()),(Nt,St)=>y.value===null?(zt(),ee("div",mr,"Waiting for geo location...")):y.value?(zt(),ee("div",gr,[bt(M)?(zt(),po($s,{key:0,class:"the-info",label:`${bt(S)("loading_safe_places")}...`},null,8,["label"])):Yo("",!0),Ae(_s,null,{default:gi(()=>[Tn(Be(bt(S)("index.safe_places_intro")),1)]),_:1}),Qi("div",{class:As({transparent:bt(M)})},[Qi("div",{id:"the-map",ref_key:"mapTag",ref:l},null,512)],2)])):(zt(),ee("div",vr,Be(Z.value),1))}});const Pr=In(yr,[["__scopeId","data-v-f5b43ac5"]]);function xr(){const{t:w}=Cn();return{safeLink:y=>{window.confirm(w("index.safe_link_note"))&&(self.location.href=y)}}}const wr=w=>(Ns("data-v-3fcc4173"),w=w(),ks(),w),Lr={class:"the-modules"},Tr=wr(()=>Qi("br",null,null,-1)),Cr={class:"the-underline"},Ir=ti({__name:"TheModules",setup(w){const{t:l}=Cn(),{configuration:y}=mo(),{safeLink:Z}=xr(),S=ls(()=>y.value.getInstitution()),k=()=>{y.value.setActiveModule({component:Pr})};return(B,E)=>(zt(),ee("div",Lr,[Ae(ss,{color:"red",href:`tel:${bt(S).getPhone()}`},{default:gi(()=>[Tn(Be(bt(l)("call_institution",{institution:bt(S).getName()})),1),Tr,Qi("span",Cr,Be(bt(S).getPhone()),1)]),_:1},8,["href"]),Ae(ss,{color:"violet",onClick:E[0]||(E[0]=M=>k())},{default:gi(()=>[Tn(Be(bt(l)("find_a_safe_help_resource")),1)]),_:1}),bt(S).hasChat()?(zt(),po(ss,{key:0,color:"dark-rosa",onClick:E[1]||(E[1]=M=>bt(Z)(bt(S).getChat()))},{default:gi(()=>[Tn(Be(bt(l)("go_to_live_chat")),1)]),_:1})):Yo("",!0)]))}});const br=In(Ir,[["__scopeId","data-v-3fcc4173"]]),Sr=["innerHTML"],Er=ti({__name:"TheContentPage",props:{contentPage:null},setup(w){const l=w;return(y,Z)=>(zt(),ee(ws,null,[Ae(Ys,null,{default:gi(()=>[Tn(Be(l.contentPage.title),1)]),_:1}),Ae(_s,null,{default:gi(()=>[Qi("div",{innerHTML:l.contentPage.content},null,8,Sr)]),_:1})],64))}}),ds=vi(""),Ps=document.getElementById("vida-script");ds.value=Ps instanceof HTMLScriptElement?Ps.src.split("/").slice(0,-1).join("/")+"/":"/";function Mr(){return{baseUrl:ds,replacePublicPaths:l=>l.replaceAll("__public/",ds.value)}}function Or(){const{configuration:w}=mo(),{replacePublicPaths:l}=Mr(),{t:y}=Cn();if(!w.value)throw new Error("Content pages can not be provided before initializing configuration");const Z=ls(()=>[{title:y("content_page.universal_hand_signal.title"),content:y("content_page.universal_hand_signal.content")},{title:y("content_page.what_can_you_do.title"),content:y("content_page.what_can_you_do.content")},{title:`Information about ${w.value.getInstitution().getName()}`,content:`${w.value.getInstitution().getInformation()}`},{title:y("content_page.about_this_widget.title"),content:y("content_page.about_this_widget.content")}]);return{contentPages:ls(()=>Z.value.map(k=>({title:k.title,content:l(k.content)})))}}const Ar={class:"the-content-pages"},Br=["onClick"],Nr=ti({__name:"TheContentPages",setup(w){const{configuration:l}=mo(),{contentPages:y}=Or(),Z=S=>{if(!l.value)throw new Error("Must initialize widget before setting active module");l.value.setActiveModule({component:Er,props:{contentPage:S}})};return(S,k)=>(zt(),ee("div",Ar,[(zt(!0),ee(ws,null,Ds(bt(y),B=>(zt(),ee("div",{key:B.title},[Qi("a",{href:"#",onClick:zs(E=>Z(B),["prevent"])},Be(B.title),9,Br)]))),128))]))}});const kr=In(Nr,[["__scopeId","data-v-8bd04f52"]]),Dr=ti({__name:"TheBackButton",setup(w){const{t:l}=Cn(),{configuration:y}=mo(),Z=()=>y.value.setActiveModule(null);return(S,k)=>(zt(),ee("div",{class:"the-back",onClick:Z},"< "+Be(bt(l)("back")),1))}});const zr=In(Dr,[["__scopeId","data-v-66f25105"]]),Zr={key:0,class:"the-help-center"},Rr={key:0},Xr={key:1},Yr=ti({__name:"TheHelpCenter",setup(w){const{configuration:l}=mo();return(y,Z)=>bt(l)?(zt(),ee("div",Zr,[Ae(Fs),bt(l).hasActiveModule()?(zt(),po(zr,{key:0})):Yo("",!0),Ae(Ws,null,{default:gi(()=>[bt(l).hasActiveModule()?(zt(),ee("div",Xr,[(zt(),po(Xs(bt(l).getActiveModule().component),Zs(Rs(bt(l).getActiveModule().props)),null,16))])):(zt(),ee("div",Rr,[Ae(qs),Ae(br),Ae(kr)]))]),_:1})])):Yo("",!0)}});const Gr=In(Yr,[["__scopeId","data-v-90b05074"]]);export{Gr as default};
