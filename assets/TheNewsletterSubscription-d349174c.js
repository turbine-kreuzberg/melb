import{T as n}from"./TheButton-a5ed72e1.js";import{d as f,r,c as h,o,e as _,q as i,w as l,h as d,z as u,j as v,A as w,k as b}from"../index.js";const k={class:"the-newsletter-subscription"},T=f({__name:"TheNewsletterSubscription",setup(g){const s=r(null),a=r(!1),t=r(!1),p=h(()=>{if(!s.value)throw new Error("Iframe not found");return s.value}),m=()=>{if(a.value=!0,t.value=!0,document.head.querySelector("#the-newsletter-subscription-script"))return;const e=document.createElement("script");e.setAttribute("id","the-newsletter-subscription-script"),e.setAttribute("src","https://app.mailjet.com/pas-nc-embedded-v1.js"),document.head.appendChild(e),e.addEventListener("load",async()=>{await new Promise(c=>window.setTimeout(c,500)),t.value=!1,window.scrollTo({top:p.value.offsetTop,behavior:"smooth"})})};return(e,c)=>(o(),_("div",k,[a.value?u("",!0):(o(),i(n,{key:0,color:"var(--violet)",onClick:m},{default:l(()=>[d(" Keep me up to date ")]),_:1},8,["color"])),t.value?(o(),i(n,{key:1,disabled:!0},{default:l(()=>[d("Loading ...")]),_:1})):u("",!0),v("iframe",{ref_key:"iframeReference",ref:s,"data-w-type":"embedded",frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0",src:"https://0kpw4.mjt.lu/wgt/0kpw4/m6p/form?c=b5cc1666",width:"100%",class:w({"the-hidden":!a.value,"the-invisible":t.value})},null,2)]))}});const C=b(T,[["__scopeId","data-v-c14af80c"]]);export{C as default};
