import{d as Ae,r as li,o as St,e as qt,l as ds,n as ws,m as wn,q as yo,w as Pi,j as ui,g as Wt,t as Ls,v as _s,h as on,x as Oe,k as wi,y as ks,z as Xo,f as Me,A as Ds,B as zs,a as Zs,u as Ln,c as as,p as Ts,i as Cs,F as Is,C as Rs,D as Xs,E as Ys,G as Fs,H as Ws}from"../index.js";import ps from"./TheTextContent-b4267517.js";import Hs from"./TheHeadline-ac4b1c0c.js";import qs from"./TheLogo-71a80066.js";const Us=Ae({__name:"TheScrollArea",props:{maxHeight:{}},setup(T){const P=li({maxHeight:T.maxHeight||"calc(100vh - 300px)"});return(Z,E)=>(St(),qt("div",{class:"the-scroll-area",style:ws(P.value)},[ds(Z.$slots,"default")],4))}});const Gs=["innerHTML"],Vs=Ae({__name:"TheIntro",setup(T){const{t:l}=wn();return(P,Z)=>(St(),yo(ps,{small:!0},{default:Pi(()=>[ui("div",{innerHTML:Wt(l)("index.widget_description")},null,8,Gs)]),_:1}))}});var hs={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(T,l){(function(P,Z){Z(l)})(Ls,function(P){var Z="1.9.4";function E(t){var n,r,u,_;for(r=1,u=arguments.length;r<u;r++){_=arguments[r];for(n in _)t[n]=_[n]}return t}var D=Object.create||function(){function t(){}return function(n){return t.prototype=n,new t}}();function N(t,n){var r=Array.prototype.slice;if(t.bind)return t.bind.apply(t,r.call(arguments,1));var u=r.call(arguments,2);return function(){return t.apply(n,u.length?u.concat(r.call(arguments)):arguments)}}var M=0;function O(t){return"_leaflet_id"in t||(t._leaflet_id=++M),t._leaflet_id}function Ut(t,n,r){var u,_,v,x;return x=function(){u=!1,_&&(v.apply(r,_),_=!1)},v=function(){u?_=arguments:(t.apply(r,arguments),setTimeout(x,n),u=!0)},v}function kt(t,n,r){var u=n[1],_=n[0],v=u-_;return t===u&&r?t:((t-_)%v+v)%v+_}function et(){return!1}function gt(t,n){if(n===!1)return t;var r=Math.pow(10,n===void 0?6:n);return Math.round(t*r)/r}function Dt(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Et(t){return Dt(t).split(/\s+/)}function K(t,n){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?D(t.options):{});for(var r in n)t.options[r]=n[r];return t.options}function Rt(t,n,r){var u=[];for(var _ in t)u.push(encodeURIComponent(r?_.toUpperCase():_)+"="+encodeURIComponent(t[_]));return(!n||n.indexOf("?")===-1?"?":"&")+u.join("&")}var sn=/\{ *([\w_ -]+) *\}/g;function fi(t,n){return t.replace(sn,function(r,u){var _=n[u];if(_===void 0)throw new Error("No value provided for variable "+r);return typeof _=="function"&&(_=_(n)),_})}var Lt=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function Ye(t,n){for(var r=0;r<t.length;r++)if(t[r]===n)return r;return-1}var Xt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Fe(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Li=0;function Ti(t){var n=+new Date,r=Math.max(0,16-(n-Li));return Li=n+r,window.setTimeout(t,r)}var We=window.requestAnimationFrame||Fe("RequestAnimationFrame")||Ti,Ci=window.cancelAnimationFrame||Fe("CancelAnimationFrame")||Fe("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function dt(t,n,r){if(r&&We===Ti)t.call(n);else return We.call(window,N(t,n))}function _t(t){t&&Ci.call(window,t)}var Tn={__proto__:null,extend:E,create:D,bind:N,get lastId(){return M},stamp:O,throttle:Ut,wrapNum:kt,falseFn:et,formatNum:gt,trim:Dt,splitWords:Et,setOptions:K,getParamString:Rt,template:fi,isArray:Lt,indexOf:Ye,emptyImageUrl:Xt,requestFn:We,cancelFn:Ci,requestAnimFrame:dt,cancelAnimFrame:_t};function It(){}It.extend=function(t){var n=function(){K(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=n.__super__=this.prototype,u=D(r);u.constructor=n,n.prototype=u;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(n[_]=this[_]);return t.statics&&E(n,t.statics),t.includes&&(Cn(t.includes),E.apply(null,[u].concat(t.includes))),E(u,t),delete u.statics,delete u.includes,u.options&&(u.options=r.options?D(r.options):{},E(u.options,t.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,x=u._initHooks.length;v<x;v++)u._initHooks[v].call(this)}},n},It.include=function(t){var n=this.prototype.options;return E(this.prototype,t),t.options&&(this.prototype.options=n,this.mergeOptions(t.options)),this},It.mergeOptions=function(t){return E(this.prototype.options,t),this},It.addInitHook=function(t){var n=Array.prototype.slice.call(arguments,1),r=typeof t=="function"?t:function(){this[t].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function Cn(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=Lt(t)?t:[t];for(var n=0;n<t.length;n++)t[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var yt={on:function(t,n,r){if(typeof t=="object")for(var u in t)this._on(u,t[u],n);else{t=Et(t);for(var _=0,v=t.length;_<v;_++)this._on(t[_],n,r)}return this},off:function(t,n,r){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var u in t)this._off(u,t[u],n);else{t=Et(t);for(var _=arguments.length===1,v=0,x=t.length;v<x;v++)_?this._off(t[v]):this._off(t[v],n,r)}return this},_on:function(t,n,r,u){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}if(this._listens(t,n,r)===!1){r===this&&(r=void 0);var _={fn:n,ctx:r};u&&(_.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(_)}},_off:function(t,n,r){var u,_,v;if(this._events&&(u=this._events[t],!!u)){if(arguments.length===1){if(this._firingCount)for(_=0,v=u.length;_<v;_++)u[_].fn=et;delete this._events[t];return}if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}var x=this._listens(t,n,r);if(x!==!1){var I=u[x];this._firingCount&&(I.fn=et,this._events[t]=u=u.slice()),u.splice(x,1)}}},fire:function(t,n,r){if(!this.listens(t,r))return this;var u=E({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var _=this._events[t];if(_){this._firingCount=this._firingCount+1||1;for(var v=0,x=_.length;v<x;v++){var I=_[v],S=I.fn;I.once&&this.off(t,S,I.ctx),S.call(I.ctx||this,u)}this._firingCount--}}return r&&this._propagateEvent(u),this},listens:function(t,n,r,u){typeof t!="string"&&console.warn('"string" type argument expected');var _=n;typeof n!="function"&&(u=!!n,_=void 0,r=void 0);var v=this._events&&this._events[t];if(v&&v.length&&this._listens(t,_,r)!==!1)return!0;if(u){for(var x in this._eventParents)if(this._eventParents[x].listens(t,n,r,u))return!0}return!1},_listens:function(t,n,r){if(!this._events)return!1;var u=this._events[t]||[];if(!n)return!!u.length;r===this&&(r=void 0);for(var _=0,v=u.length;_<v;_++)if(u[_].fn===n&&u[_].ctx===r)return _;return!1},once:function(t,n,r){if(typeof t=="object")for(var u in t)this._on(u,t[u],n,!0);else{t=Et(t);for(var _=0,v=t.length;_<v;_++)this._on(t[_],n,r,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[O(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[O(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,E({layer:t.target,propagatedFrom:t.target},t),!0)}};yt.addEventListener=yt.on,yt.removeEventListener=yt.clearAllEventListeners=yt.off,yt.addOneTimeEventListener=yt.once,yt.fireEvent=yt.fire,yt.hasEventListeners=yt.listens;var he=It.extend(yt);function z(t,n,r){this.x=r?Math.round(t):t,this.y=r?Math.round(n):n}var Ii=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(t){return this.clone()._add(R(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(R(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new z(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new z(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ii(this.x),this.y=Ii(this.y),this},distanceTo:function(t){t=R(t);var n=t.x-this.x,r=t.y-this.y;return Math.sqrt(n*n+r*r)},equals:function(t){return t=R(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=R(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+gt(this.x)+", "+gt(this.y)+")"}};function R(t,n,r){return t instanceof z?t:Lt(t)?new z(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new z(t.x,t.y):new z(t,n,r)}function Q(t,n){if(t)for(var r=n?[t,n]:t,u=0,_=r.length;u<_;u++)this.extend(r[u])}Q.prototype={extend:function(t){var n,r;if(!t)return this;if(t instanceof z||typeof t[0]=="number"||"x"in t)n=r=R(t);else if(t=Pt(t),n=t.min,r=t.max,!n||!r)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=r.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(t){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var n,r;return typeof t[0]=="number"||t instanceof z?t=R(t):t=Pt(t),t instanceof Q?(n=t.min,r=t.max):n=r=t,n.x>=this.min.x&&r.x<=this.max.x&&n.y>=this.min.y&&r.y<=this.max.y},intersects:function(t){t=Pt(t);var n=this.min,r=this.max,u=t.min,_=t.max,v=_.x>=n.x&&u.x<=r.x,x=_.y>=n.y&&u.y<=r.y;return v&&x},overlaps:function(t){t=Pt(t);var n=this.min,r=this.max,u=t.min,_=t.max,v=_.x>n.x&&u.x<r.x,x=_.y>n.y&&u.y<r.y;return v&&x},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var n=this.min,r=this.max,u=Math.abs(n.x-r.x)*t,_=Math.abs(n.y-r.y)*t;return Pt(R(n.x-u,n.y-_),R(r.x+u,r.y+_))},equals:function(t){return t?(t=Pt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Pt(t,n){return!t||t instanceof Q?t:new Q(t,n)}function ut(t,n){if(t)for(var r=n?[t,n]:t,u=0,_=r.length;u<_;u++)this.extend(r[u])}ut.prototype={extend:function(t){var n=this._southWest,r=this._northEast,u,_;if(t instanceof V)u=t,_=t;else if(t instanceof ut){if(u=t._southWest,_=t._northEast,!u||!_)return this}else return t?this.extend(q(t)||st(t)):this;return!n&&!r?(this._southWest=new V(u.lat,u.lng),this._northEast=new V(_.lat,_.lng)):(n.lat=Math.min(u.lat,n.lat),n.lng=Math.min(u.lng,n.lng),r.lat=Math.max(_.lat,r.lat),r.lng=Math.max(_.lng,r.lng)),this},pad:function(t){var n=this._southWest,r=this._northEast,u=Math.abs(n.lat-r.lat)*t,_=Math.abs(n.lng-r.lng)*t;return new ut(new V(n.lat-u,n.lng-_),new V(r.lat+u,r.lng+_))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof V||"lat"in t?t=q(t):t=st(t);var n=this._southWest,r=this._northEast,u,_;return t instanceof ut?(u=t.getSouthWest(),_=t.getNorthEast()):u=_=t,u.lat>=n.lat&&_.lat<=r.lat&&u.lng>=n.lng&&_.lng<=r.lng},intersects:function(t){t=st(t);var n=this._southWest,r=this._northEast,u=t.getSouthWest(),_=t.getNorthEast(),v=_.lat>=n.lat&&u.lat<=r.lat,x=_.lng>=n.lng&&u.lng<=r.lng;return v&&x},overlaps:function(t){t=st(t);var n=this._southWest,r=this._northEast,u=t.getSouthWest(),_=t.getNorthEast(),v=_.lat>n.lat&&u.lat<r.lat,x=_.lng>n.lng&&u.lng<r.lng;return v&&x},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,n){return t?(t=st(t),this._southWest.equals(t.getSouthWest(),n)&&this._northEast.equals(t.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function st(t,n){return t instanceof ut?t:new ut(t,n)}function V(t,n,r){if(isNaN(t)||isNaN(n))throw new Error("Invalid LatLng object: ("+t+", "+n+")");this.lat=+t,this.lng=+n,r!==void 0&&(this.alt=+r)}V.prototype={equals:function(t,n){if(!t)return!1;t=q(t);var r=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return r<=(n===void 0?1e-9:n)},toString:function(t){return"LatLng("+gt(this.lat,t)+", "+gt(this.lng,t)+")"},distanceTo:function(t){return zt.distance(this,q(t))},wrap:function(){return zt.wrapLatLng(this)},toBounds:function(t){var n=180*t/40075017,r=n/Math.cos(Math.PI/180*this.lat);return st([this.lat-n,this.lng-r],[this.lat+n,this.lng+r])},clone:function(){return new V(this.lat,this.lng,this.alt)}};function q(t,n,r){return t instanceof V?t:Lt(t)&&typeof t[0]!="object"?t.length===3?new V(t[0],t[1],t[2]):t.length===2?new V(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new V(t.lat,"lng"in t?t.lng:t.lon,t.alt):n===void 0?null:new V(t,n,r)}var bt={latLngToPoint:function(t,n){var r=this.projection.project(t),u=this.scale(n);return this.transformation._transform(r,u)},pointToLatLng:function(t,n){var r=this.scale(n),u=this.transformation.untransform(t,r);return this.projection.unproject(u)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var n=this.projection.bounds,r=this.scale(t),u=this.transformation.transform(n.min,r),_=this.transformation.transform(n.max,r);return new Q(u,_)},infinite:!1,wrapLatLng:function(t){var n=this.wrapLng?kt(t.lng,this.wrapLng,!0):t.lng,r=this.wrapLat?kt(t.lat,this.wrapLat,!0):t.lat,u=t.alt;return new V(r,n,u)},wrapLatLngBounds:function(t){var n=t.getCenter(),r=this.wrapLatLng(n),u=n.lat-r.lat,_=n.lng-r.lng;if(u===0&&_===0)return t;var v=t.getSouthWest(),x=t.getNorthEast(),I=new V(v.lat-u,v.lng-_),S=new V(x.lat-u,x.lng-_);return new ut(I,S)}},zt=E({},bt,{wrapLng:[-180,180],R:6371e3,distance:function(t,n){var r=Math.PI/180,u=t.lat*r,_=n.lat*r,v=Math.sin((n.lat-t.lat)*r/2),x=Math.sin((n.lng-t.lng)*r/2),I=v*v+Math.cos(u)*Math.cos(_)*x*x,S=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I));return this.R*S}}),bi=6378137,Gt={R:bi,MAX_LATITUDE:85.0511287798,project:function(t){var n=Math.PI/180,r=this.MAX_LATITUDE,u=Math.max(Math.min(r,t.lat),-r),_=Math.sin(u*n);return new z(this.R*t.lng*n,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(t){var n=180/Math.PI;return new V((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*n,t.x*n/this.R)},bounds:function(){var t=bi*Math.PI;return new Q([-t,-t],[t,t])}()};function He(t,n,r,u){if(Lt(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=n,this._c=r,this._d=u}He.prototype={transform:function(t,n){return this._transform(t.clone(),n)},_transform:function(t,n){return n=n||1,t.x=n*(this._a*t.x+this._b),t.y=n*(this._c*t.y+this._d),t},untransform:function(t,n){return n=n||1,new z((t.x/n-this._b)/this._a,(t.y/n-this._d)/this._c)}};function le(t,n,r,u){return new He(t,n,r,u)}var qe=E({},zt,{code:"EPSG:3857",projection:Gt,transformation:function(){var t=.5/(Math.PI*Gt.R);return le(t,.5,-t,.5)}()}),In=E({},qe,{code:"EPSG:900913"});function Si(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ei(t,n){var r="",u,_,v,x,I,S;for(u=0,v=t.length;u<v;u++){for(I=t[u],_=0,x=I.length;_<x;_++)S=I[_],r+=(_?"L":"M")+S.x+" "+S.y;r+=n?W.svg?"z":"x":""}return r||"M0 0"}var Ue=document.documentElement.style,we="ActiveXObject"in window,bn=we&&!document.addEventListener,Mi="msLaunchUri"in navigator&&!("documentMode"in document),Ge=Vt("webkit"),Oi=Vt("android"),Ai=Vt("android 2")||Vt("android 3"),Sn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),En=Oi&&Vt("Google")&&Sn<537&&!("AudioNode"in window),Ve=!!window.opera,Bi=!Mi&&Vt("chrome"),Ni=Vt("gecko")&&!Ge&&!Ve&&!we,Mn=!Bi&&Vt("safari"),ki=Vt("phantom"),Di="OTransition"in Ue,On=navigator.platform.indexOf("Win")===0,zi=we&&"transition"in Ue,Je="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ai,Ke="MozPerspective"in Ue,An=!window.L_DISABLE_3D&&(zi||Je||Ke)&&!Di&&!ki,ee=typeof orientation<"u"||Vt("mobile"),Bn=ee&&Ge,rn=ee&&Je,Zi=!window.PointerEvent&&window.MSPointerEvent,Ri=!!(window.PointerEvent||Zi),Xi="ontouchstart"in window||!!window.TouchEvent,Nn=!window.L_NO_TOUCH&&(Xi||Ri),kn=ee&&Ve,Dn=ee&&Ni,zn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zn=function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",et,n),window.removeEventListener("testPassiveEventSupport",et,n)}catch{}return t}(),Rn=function(){return!!document.createElement("canvas").getContext}(),je=!!(document.createElementNS&&Si("svg").createSVGRect),Xn=!!je&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Yn=!je&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}(),ie=navigator.platform.indexOf("Mac")===0,U=navigator.platform.indexOf("Linux")===0;function Vt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var W={ie:we,ielt9:bn,edge:Mi,webkit:Ge,android:Oi,android23:Ai,androidStock:En,opera:Ve,chrome:Bi,gecko:Ni,safari:Mn,phantom:ki,opera12:Di,win:On,ie3d:zi,webkit3d:Je,gecko3d:Ke,any3d:An,mobile:ee,mobileWebkit:Bn,mobileWebkit3d:rn,msPointer:Zi,pointer:Ri,touch:Nn,touchNative:Xi,mobileOpera:kn,mobileGecko:Dn,retina:zn,passiveEvents:Zn,canvas:Rn,svg:je,vml:Yn,inlineSvg:Xn,mac:ie,linux:U},Yi=W.msPointer?"MSPointerDown":"pointerdown",Fi=W.msPointer?"MSPointerMove":"pointermove",ci=W.msPointer?"MSPointerUp":"pointerup",Wi=W.msPointer?"MSPointerCancel":"pointercancel",ve={touchstart:Yi,touchmove:Fi,touchend:ci,touchcancel:Wi},Hi={touchstart:qn,touchmove:ue,touchend:ue,touchcancel:ue},Be={},Ne=!1;function an(t,n,r){return n==="touchstart"&&Hn(),Hi[n]?(r=Hi[n].bind(this,r),t.addEventListener(ve[n],r,!1),r):(console.warn("wrong event specified:",n),et)}function Fn(t,n,r){if(!ve[n]){console.warn("wrong event specified:",n);return}t.removeEventListener(ve[n],r,!1)}function hn(t){Be[t.pointerId]=t}function Wn(t){Be[t.pointerId]&&(Be[t.pointerId]=t)}function $e(t){delete Be[t.pointerId]}function Hn(){Ne||(document.addEventListener(Yi,hn,!0),document.addEventListener(Fi,Wn,!0),document.addEventListener(ci,$e,!0),document.addEventListener(Wi,$e,!0),Ne=!0)}function ue(t,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var r in Be)n.touches.push(Be[r]);n.changedTouches=[n],t(n)}}function qn(t,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&Bt(n),ue(t,n)}function Un(t){var n={},r,u;for(u in t)r=t[u],n[u]=r&&r.bind?r.bind(t):r;return t=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var Gn=200;function qi(t,n){t.addEventListener("dblclick",n);var r=0,u;function _(v){if(v.detail!==1){u=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var x=Vn(v);if(!(x.some(function(S){return S instanceof HTMLLabelElement&&S.attributes.for})&&!x.some(function(S){return S instanceof HTMLInputElement||S instanceof HTMLSelectElement}))){var I=Date.now();I-r<=Gn?(u++,u===2&&n(Un(v))):u=1,r=I}}}return t.addEventListener("click",_),{dblclick:n,simDblclick:_}}function Qe(t,n){t.removeEventListener("dblclick",n.dblclick),t.removeEventListener("click",n.simDblclick)}var di=f(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ke=f(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),De=ke==="webkitTransition"||ke==="OTransition"?ke+"End":"transitionend";function ft(t){return typeof t=="string"?document.getElementById(t):t}function nt(t,n){var r=t.style[n]||t.currentStyle&&t.currentStyle[n];if((!r||r==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(t,null);r=u?u[n]:null}return r==="auto"?null:r}function ht(t,n,r){var u=document.createElement(t);return u.className=n||"",r&&r.appendChild(u),u}function ct(t){var n=t.parentNode;n&&n.removeChild(t)}function fe(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function tt(t){var n=t.parentNode;n&&n.lastChild!==t&&n.appendChild(t)}function $(t){var n=t.parentNode;n&&n.firstChild!==t&&n.insertBefore(t,n.firstChild)}function wt(t,n){if(t.classList!==void 0)return t.classList.contains(n);var r=i(t);return r.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(r)}function it(t,n){if(t.classList!==void 0)for(var r=Et(n),u=0,_=r.length;u<_;u++)t.classList.add(r[u]);else if(!wt(t,n)){var v=i(t);Yt(t,(v?v+" ":"")+n)}}function xt(t,n){t.classList!==void 0?t.classList.remove(n):Yt(t,Dt((" "+i(t)+" ").replace(" "+n+" "," ")))}function Yt(t,n){t.className.baseVal===void 0?t.className=n:t.className.baseVal=n}function i(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function s(t,n){"opacity"in t.style?t.style.opacity=n:"filter"in t.style&&a(t,n)}function a(t,n){var r=!1,u="DXImageTransform.Microsoft.Alpha";try{r=t.filters.item(u)}catch{if(n===1)return}n=Math.round(n*100),r?(r.Enabled=n!==100,r.Opacity=n):t.style.filter+=" progid:"+u+"(opacity="+n+")"}function f(t){for(var n=document.documentElement.style,r=0;r<t.length;r++)if(t[r]in n)return t[r];return!1}function d(t,n,r){var u=n||new z(0,0);t.style[di]=(W.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(r?" scale("+r+")":"")}function m(t,n){t._leaflet_pos=n,W.any3d?d(t,n):(t.style.left=n.x+"px",t.style.top=n.y+"px")}function g(t){return t._leaflet_pos||new z(0,0)}var w,C,b;if("onselectstart"in document)w=function(){F(window,"selectstart",Bt)},C=function(){mt(window,"selectstart",Bt)};else{var A=f(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);w=function(){if(A){var t=document.documentElement.style;b=t[A],t[A]="none"}},C=function(){A&&(document.documentElement.style[A]=b,b=void 0)}}function k(){F(window,"dragstart",Bt)}function Y(){mt(window,"dragstart",Bt)}var G,H;function ot(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(pt(),G=t,H=t.style.outlineStyle,t.style.outlineStyle="none",F(window,"keydown",pt))}function pt(){G&&(G.style.outlineStyle=H,G=void 0,H=void 0,mt(window,"keydown",pt))}function Mt(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function J(t){var n=t.getBoundingClientRect();return{x:n.width/t.offsetWidth||1,y:n.height/t.offsetHeight||1,boundingClientRect:n}}var ne={__proto__:null,TRANSFORM:di,TRANSITION:ke,TRANSITION_END:De,get:ft,getStyle:nt,create:ht,remove:ct,empty:fe,toFront:tt,toBack:$,hasClass:wt,addClass:it,removeClass:xt,setClass:Yt,getClass:i,setOpacity:s,testProp:f,setTransform:d,setPosition:m,getPosition:g,get disableTextSelection(){return w},get enableTextSelection(){return C},disableImageDrag:k,enableImageDrag:Y,preventOutline:ot,restoreOutline:pt,getSizedParentNode:Mt,getScale:J};function F(t,n,r,u){if(n&&typeof n=="object")for(var _ in n)Le(t,_,n[_],r);else{n=Et(n);for(var v=0,x=n.length;v<x;v++)Le(t,n[v],r,u)}return this}var Ot="_leaflet_events";function mt(t,n,r,u){if(arguments.length===1)ln(t),delete t[Ot];else if(n&&typeof n=="object")for(var _ in n)Gi(t,_,n[_],r);else if(n=Et(n),arguments.length===2)ln(t,function(I){return Ye(n,I)!==-1});else for(var v=0,x=n.length;v<x;v++)Gi(t,n[v],r,u);return this}function ln(t,n){for(var r in t[Ot]){var u=r.split(/\d/)[0];(!n||n(u))&&Gi(t,u,null,null,r)}}var Ui={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Le(t,n,r,u){var _=n+O(r)+(u?"_"+O(u):"");if(t[Ot]&&t[Ot][_])return this;var v=function(I){return r.call(u||t,I||window.event)},x=v;!W.touchNative&&W.pointer&&n.indexOf("touch")===0?v=an(t,n,v):W.touch&&n==="dblclick"?v=qi(t,v):"addEventListener"in t?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?t.addEventListener(Ui[n]||n,v,W.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(v=function(I){I=I||window.event,lt(t,I)&&x(I)},t.addEventListener(Ui[n],v,!1)):t.addEventListener(n,x,!1):t.attachEvent("on"+n,v),t[Ot]=t[Ot]||{},t[Ot][_]=v}function Gi(t,n,r,u,_){_=_||n+O(r)+(u?"_"+O(u):"");var v=t[Ot]&&t[Ot][_];if(!v)return this;!W.touchNative&&W.pointer&&n.indexOf("touch")===0?Fn(t,n,v):W.touch&&n==="dblclick"?Qe(t,v):"removeEventListener"in t?t.removeEventListener(Ui[n]||n,v,!1):t.detachEvent("on"+n,v),t[Ot][_]=null}function ce(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function At(t){return Le(t,"wheel",ce),this}function de(t){return F(t,"mousedown touchstart dblclick contextmenu",ce),t._leaflet_disable_click=!0,this}function Bt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function ti(t){return Bt(t),ce(t),this}function Vn(t){if(t.composedPath)return t.composedPath();for(var n=[],r=t.target;r;)n.push(r),r=r.parentNode;return n}function un(t,n){if(!n)return new z(t.clientX,t.clientY);var r=J(n),u=r.boundingClientRect;return new z((t.clientX-u.left)/r.x-n.clientLeft,(t.clientY-u.top)/r.y-n.clientTop)}var Yo=W.linux&&W.chrome?window.devicePixelRatio:W.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jn(t){return W.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Yo:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function lt(t,n){var r=n.relatedTarget;if(!r)return!0;try{for(;r&&r!==t;)r=r.parentNode}catch{return!1}return r!==t}var Fo={__proto__:null,on:F,off:mt,stopPropagation:ce,disableScrollPropagation:At,disableClickPropagation:de,preventDefault:Bt,stop:ti,getPropagationPath:Vn,getMousePosition:un,getWheelDelta:Jn,isExternalTarget:lt,addListener:F,removeListener:mt},oe=he.extend({run:function(t,n,r,u){this.stop(),this._el=t,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=g(t),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=dt(this._animate,this),this._step()},_step:function(t){var n=+new Date-this._startTime,r=this._duration*1e3;n<r?this._runFrame(this._easeOut(n/r),t):(this._runFrame(1),this._complete())},_runFrame:function(t,n){var r=this._startPos.add(this._offset.multiplyBy(t));n&&r._round(),m(this._el,r),this.fire("step")},_complete:function(){_t(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),rt=he.extend({options:{crs:qe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,n){n=K(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=N(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(q(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ke&&W.any3d&&!W.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),F(this._proxy,De,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,r){if(n=n===void 0?this._zoom:this._limitZoom(n),t=this._limitCenter(q(t),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=E({animate:r.animate},r.zoom),r.pan=E({animate:r.animate,duration:r.duration},r.pan));var u=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,r.zoom):this._tryAnimatedPan(t,r.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(t,n,r.pan&&r.pan.noMoveStart),this},setZoom:function(t,n){return this._loaded?this.setView(this.getCenter(),t,{zoom:n}):(this._zoom=t,this)},zoomIn:function(t,n){return t=t||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,n)},zoomOut:function(t,n){return t=t||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,n)},setZoomAround:function(t,n,r){var u=this.getZoomScale(n),_=this.getSize().divideBy(2),v=t instanceof z?t:this.latLngToContainerPoint(t),x=v.subtract(_).multiplyBy(1-1/u),I=this.containerPointToLatLng(_.add(x));return this.setView(I,n,{zoom:r})},_getBoundsCenterZoom:function(t,n){n=n||{},t=t.getBounds?t.getBounds():st(t);var r=R(n.paddingTopLeft||n.padding||[0,0]),u=R(n.paddingBottomRight||n.padding||[0,0]),_=this.getBoundsZoom(t,!1,r.add(u));if(_=typeof n.maxZoom=="number"?Math.min(n.maxZoom,_):_,_===1/0)return{center:t.getCenter(),zoom:_};var v=u.subtract(r).divideBy(2),x=this.project(t.getSouthWest(),_),I=this.project(t.getNorthEast(),_),S=this.unproject(x.add(I).divideBy(2).add(v),_);return{center:S,zoom:_}},fitBounds:function(t,n){if(t=st(t),!t.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(t,n);return this.setView(r.center,r.zoom,n)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,n){return this.setView(t,this._zoom,{pan:n})},panBy:function(t,n){if(t=R(t).round(),n=n||{},!t.x&&!t.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new oe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){it(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,r,n.duration||.25,n.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,n,r){if(r=r||{},r.animate===!1||!W.any3d)return this.setView(t,n,r);this._stop();var u=this.project(this.getCenter()),_=this.project(t),v=this.getSize(),x=this._zoom;t=q(t),n=n===void 0?x:n;var I=Math.max(v.x,v.y),S=I*this.getZoomScale(x,n),B=_.distanceTo(u)||1,X=1.42,j=X*X;function at(Tt){var xn=Tt?-1:1,Os=Tt?S:I,As=S*S-I*I+xn*j*j*B*B,Bs=2*Os*j*B,is=As/Bs,vs=Math.sqrt(is*is+1)-is,Ns=vs<1e-9?-18:Math.log(vs);return Ns}function Ft(Tt){return(Math.exp(Tt)-Math.exp(-Tt))/2}function Nt(Tt){return(Math.exp(Tt)+Math.exp(-Tt))/2}function te(Tt){return Ft(Tt)/Nt(Tt)}var Ht=at(0);function hi(Tt){return I*(Nt(Ht)/Nt(Ht+X*Tt))}function Ct(Tt){return I*(Nt(Ht)*te(Ht+X*Tt)-Ft(Ht))/j}function yn(Tt){return 1-Math.pow(1-Tt,1.5)}var ts=Date.now(),Ro=(at(1)-Ht)/X,es=r.duration?1e3*r.duration:1e3*Ro*.8;function Pn(){var Tt=(Date.now()-ts)/es,xn=yn(Tt)*Ro;Tt<=1?(this._flyToFrame=dt(Pn,this),this._move(this.unproject(u.add(_.subtract(u).multiplyBy(Ct(xn)/B)),x),this.getScaleZoom(I/hi(xn),x),{flyTo:!0})):this._move(t,n)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),Pn.call(this),this},flyToBounds:function(t,n){var r=this._getBoundsCenterZoom(t,n);return this.flyTo(r.center,r.zoom,n)},setMaxBounds:function(t){return t=st(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var n=this.options.minZoom;return this.options.minZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var n=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,n){this._enforcingBounds=!0;var r=this.getCenter(),u=this._limitCenter(r,this._zoom,st(t));return r.equals(u)||this.panTo(u,n),this._enforcingBounds=!1,this},panInside:function(t,n){n=n||{};var r=R(n.paddingTopLeft||n.padding||[0,0]),u=R(n.paddingBottomRight||n.padding||[0,0]),_=this.project(this.getCenter()),v=this.project(t),x=this.getPixelBounds(),I=Pt([x.min.add(r),x.max.subtract(u)]),S=I.getSize();if(!I.contains(v)){this._enforcingBounds=!0;var B=v.subtract(I.getCenter()),X=I.extend(v).getSize().subtract(S);_.x+=B.x<0?-X.x:X.x,_.y+=B.y<0?-X.y:X.y,this.panTo(this.unproject(_),n),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=E({animate:!1,pan:!0},t===!0?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),u=n.divideBy(2).round(),_=r.divideBy(2).round(),v=u.subtract(_);return!v.x&&!v.y?this:(t.animate&&t.pan?this.panBy(v):(t.pan&&this._rawPanBy(v),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(N(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=E({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=N(this._handleGeolocationResponse,this),r=N(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,r,t):navigator.geolocation.getCurrentPosition(n,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var n=t.code,r=t.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var n=t.coords.latitude,r=t.coords.longitude,u=new V(n,r),_=u.toBounds(t.coords.accuracy*2),v=this._locateOptions;if(v.setView){var x=this.getBoundsZoom(_);this.setView(u,v.maxZoom?Math.min(x,v.maxZoom):x)}var I={latlng:u,bounds:_,timestamp:t.timestamp};for(var S in t.coords)typeof t.coords[S]=="number"&&(I[S]=t.coords[S]);this.fire("locationfound",I)}},addHandler:function(t,n){if(!n)return this;var r=this[t]=new n(this);return this._handlers.push(r),this.options[t]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ct(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(_t(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ct(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,n){var r="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),u=ht("div",r,n||this._mapPane);return t&&(this._panes[t]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),n=this.unproject(t.getBottomLeft()),r=this.unproject(t.getTopRight());return new ut(n,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,n,r){t=st(t),r=R(r||[0,0]);var u=this.getZoom()||0,_=this.getMinZoom(),v=this.getMaxZoom(),x=t.getNorthWest(),I=t.getSouthEast(),S=this.getSize().subtract(r),B=Pt(this.project(I,u),this.project(x,u)).getSize(),X=W.any3d?this.options.zoomSnap:1,j=S.x/B.x,at=S.y/B.y,Ft=n?Math.max(j,at):Math.min(j,at);return u=this.getScaleZoom(Ft,u),X&&(u=Math.round(u/(X/100))*(X/100),u=n?Math.ceil(u/X)*X:Math.floor(u/X)*X),Math.max(_,Math.min(v,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,n){var r=this._getTopLeftPoint(t,n);return new Q(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,n){var r=this.options.crs;return n=n===void 0?this._zoom:n,r.scale(t)/r.scale(n)},getScaleZoom:function(t,n){var r=this.options.crs;n=n===void 0?this._zoom:n;var u=r.zoom(t*r.scale(n));return isNaN(u)?1/0:u},project:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(q(t),n)},unproject:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(R(t),n)},layerPointToLatLng:function(t){var n=R(t).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(t){var n=this.project(q(t))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(q(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(st(t))},distance:function(t,n){return this.options.crs.distance(q(t),q(n))},containerPointToLayerPoint:function(t){return R(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return R(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var n=this.containerPointToLayerPoint(R(t));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(t)))},mouseEventToContainerPoint:function(t){return un(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var n=this._container=ft(t);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");F(n,"scroll",this._onScroll,this),this._containerId=O(n)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&W.any3d,it(t,"leaflet-container"+(W.touch?" leaflet-touch":"")+(W.retina?" leaflet-retina":"")+(W.ielt9?" leaflet-oldie":"")+(W.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=nt(t,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),m(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(it(t.markerPane,"leaflet-zoom-hide"),it(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,n,r){m(this._mapPane,new z(0,0));var u=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var _=this._zoom!==n;this._moveStart(_,r)._move(t,n)._moveEnd(_),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(t,n){return t&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(t,n,r,u){n===void 0&&(n=this._zoom);var _=this._zoom!==n;return this._zoom=n,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),u?r&&r.pinch&&this.fire("zoom",r):((_||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return _t(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){m(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[O(this._container)]=this;var n=t?mt:F;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),W.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){_t(this._resizeRequest),this._resizeRequest=dt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,n){for(var r=[],u,_=n==="mouseout"||n==="mouseover",v=t.target||t.srcElement,x=!1;v;){if(u=this._targets[O(v)],u&&(n==="click"||n==="preclick")&&this._draggableMoved(u)){x=!0;break}if(u&&u.listens(n,!0)&&(_&&!lt(v,t)||(r.push(u),_))||v===this._container)break;v=v.parentNode}return!r.length&&!x&&!_&&this.listens(n,!0)&&(r=[this]),r},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var n=t.target||t.srcElement;if(!(!this._loaded||n._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(n))){var r=t.type;r==="mousedown"&&ot(n),this._fireDOMEvent(t,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,r){if(t.type==="click"){var u=E({},t);u.type="preclick",this._fireDOMEvent(u,u.type,r)}var _=this._findEventTargets(t,n);if(r){for(var v=[],x=0;x<r.length;x++)r[x].listens(n,!0)&&v.push(r[x]);_=v.concat(_)}if(_.length){n==="contextmenu"&&Bt(t);var I=_[0],S={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var B=I.getLatLng&&(!I._radius||I._radius<=10);S.containerPoint=B?this.latLngToContainerPoint(I.getLatLng()):this.mouseEventToContainerPoint(t),S.layerPoint=this.containerPointToLayerPoint(S.containerPoint),S.latlng=B?I.getLatLng():this.layerPointToLatLng(S.layerPoint)}for(x=0;x<_.length;x++)if(_[x].fire(n,S,!0),S.originalEvent._stopped||_[x].options.bubblingMouseEvents===!1&&Ye(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,n=this._handlers.length;t<n;t++)this._handlers[t].disable()},whenReady:function(t,n){return this._loaded?t.call(n||this,{target:this}):this.on("load",t,n),this},_getMapPanePos:function(){return g(this._mapPane)||new z(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,n){var r=t&&n!==void 0?this._getNewPixelOrigin(t,n):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,n){var r=this.getSize()._divideBy(2);return this.project(t,n)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,n,r){var u=this._getNewPixelOrigin(r,n);return this.project(t,n)._subtract(u)},_latLngBoundsToNewLayerBounds:function(t,n,r){var u=this._getNewPixelOrigin(r,n);return Pt([this.project(t.getSouthWest(),n)._subtract(u),this.project(t.getNorthWest(),n)._subtract(u),this.project(t.getSouthEast(),n)._subtract(u),this.project(t.getNorthEast(),n)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,n,r){if(!r)return t;var u=this.project(t,n),_=this.getSize().divideBy(2),v=new Q(u.subtract(_),u.add(_)),x=this._getBoundsOffset(v,r,n);return Math.abs(x.x)<=1&&Math.abs(x.y)<=1?t:this.unproject(u.add(x),n)},_limitOffset:function(t,n){if(!n)return t;var r=this.getPixelBounds(),u=new Q(r.min.add(t),r.max.add(t));return t.add(this._getBoundsOffset(u,n))},_getBoundsOffset:function(t,n,r){var u=Pt(this.project(n.getNorthEast(),r),this.project(n.getSouthWest(),r)),_=u.min.subtract(t.min),v=u.max.subtract(t.max),x=this._rebound(_.x,-v.x),I=this._rebound(_.y,-v.y);return new z(x,I)},_rebound:function(t,n){return t+n>0?Math.round(t-n)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(n))},_limitZoom:function(t){var n=this.getMinZoom(),r=this.getMaxZoom(),u=W.any3d?this.options.zoomSnap:1;return u&&(t=Math.round(t/u)*u),Math.max(n,Math.min(r,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,n){var r=this._getCenterOffset(t)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,n),!0)},_createAnimProxy:function(){var t=this._proxy=ht("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(n){var r=di,u=this._proxy.style[r];d(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),u===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ct(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),n=this.getZoom();d(this._proxy,this.project(t,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,n,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(n),_=this._getCenterOffset(t)._divideBy(1-1/u);return r.animate!==!0&&!this.getSize().contains(_)?!1:(dt(function(){this._moveStart(!0,r.noMoveStart||!1)._animateZoom(t,n,!0)},this),!0)},_animateZoom:function(t,n,r,u){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=n,it(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:n,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(N(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Po(t,n){return new rt(t,n)}var _e=It.extend({options:{position:"topright"},initialize:function(t){K(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var n=this._map;return n&&n.removeControl(this),this.options.position=t,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var n=this._container=this.onAdd(t),r=this.getPosition(),u=t._controlCorners[r];return it(n,"leaflet-control"),r.indexOf("bottom")!==-1?u.insertBefore(n,u.firstChild):u.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ct(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ei=function(t){return new _e(t)};rt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},n="leaflet-",r=this._controlContainer=ht("div",n+"control-container",this._container);function u(_,v){var x=n+_+" "+n+v;t[_+v]=ht("div",x,r)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ct(this._controlCorners[t]);ct(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var xo=_e.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,n,r,u){return r<u?-1:u<r?1:0}},initialize:function(t,n,r){K(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in t)this._addLayer(t[u],u);for(u in n)this._addLayer(n[u],u,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return _e.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,n){return this._addLayer(t,n),this._map?this._update():this},addOverlay:function(t,n){return this._addLayer(t,n,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var n=this._getLayer(O(t));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){it(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(it(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):xt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",n=this._container=ht("div",t),r=this.options.collapsed;n.setAttribute("aria-haspopup",!0),de(n),At(n);var u=this._section=ht("section",t+"-list");r&&(this._map.on("click",this.collapse,this),F(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=ht("a",t+"-toggle",n);_.href="#",_.title="Layers",_.setAttribute("role","button"),F(_,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){Bt(v),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=ht("div",t+"-base",u),this._separator=ht("div",t+"-separator",u),this._overlaysList=ht("div",t+"-overlays",u),n.appendChild(u)},_getLayer:function(t){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&O(this._layers[n].layer)===t)return this._layers[n]},_addLayer:function(t,n,r){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:n,overlay:r}),this.options.sortLayers&&this._layers.sort(N(function(u,_){return this.options.sortFunction(u.layer,_.layer,u.name,_.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fe(this._baseLayersList),fe(this._overlaysList),this._layerControlInputs=[];var t,n,r,u,_=0;for(r=0;r<this._layers.length;r++)u=this._layers[r],this._addItem(u),n=n||u.overlay,t=t||!u.overlay,_+=u.overlay?0:1;return this.options.hideSingleBase&&(t=t&&_>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=n&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var n=this._getLayer(O(t.target)),r=n.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;r&&this._map.fire(r,n)},_createRadioElement:function(t,n){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(n?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=r,u.firstChild},_addItem:function(t){var n=document.createElement("label"),r=this._map.hasLayer(t.layer),u;t.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=r):u=this._createRadioElement("leaflet-base-layers_"+O(this),r),this._layerControlInputs.push(u),u.layerId=O(t.layer),F(u,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+t.name;var v=document.createElement("span");n.appendChild(v),v.appendChild(u),v.appendChild(_);var x=t.overlay?this._overlaysList:this._baseLayersList;return x.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,n,r,u=[],_=[];this._handlingClick=!0;for(var v=t.length-1;v>=0;v--)n=t[v],r=this._getLayer(n.layerId).layer,n.checked?u.push(r):n.checked||_.push(r);for(v=0;v<_.length;v++)this._map.hasLayer(_[v])&&this._map.removeLayer(_[v]);for(v=0;v<u.length;v++)this._map.hasLayer(u[v])||this._map.addLayer(u[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,n,r,u=this._map.getZoom(),_=t.length-1;_>=0;_--)n=t[_],r=this._getLayer(n.layerId).layer,n.disabled=r.options.minZoom!==void 0&&u<r.options.minZoom||r.options.maxZoom!==void 0&&u>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,F(t,"click",Bt),this.expand();var n=this;setTimeout(function(){mt(t,"click",Bt),n._preventClick=!1})}}),wo=function(t,n,r){return new xo(t,n,r)},Kn=_e.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var n="leaflet-control-zoom",r=ht("div",n+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,n+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,n+"-out",r,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,n,r,u,_){var v=ht("a",r,u);return v.innerHTML=t,v.href="#",v.title=n,v.setAttribute("role","button"),v.setAttribute("aria-label",n),de(v),F(v,"click",ti),F(v,"click",_,this),F(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var t=this._map,n="leaflet-disabled";xt(this._zoomInButton,n),xt(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(it(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(it(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});rt.mergeOptions({zoomControl:!0}),rt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Kn,this.addControl(this.zoomControl))});var Wo=function(t){return new Kn(t)},fn=_e.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var n="leaflet-control-scale",r=ht("div",n),u=this.options;return this._addScales(u,n+"-line",r),t.on(u.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),r},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,n,r){t.metric&&(this._mScale=ht("div",n,r)),t.imperial&&(this._iScale=ht("div",n,r))},_update:function(){var t=this._map,n=t.getSize().y/2,r=t.distance(t.containerPointToLatLng([0,n]),t.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(r)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var n=this._getRoundNum(t),r=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,r,n/t)},_updateImperial:function(t){var n=t*3.2808399,r,u,_;n>5280?(r=n/5280,u=this._getRoundNum(r),this._updateScale(this._iScale,u+" mi",u/r)):(_=this._getRoundNum(n),this._updateScale(this._iScale,_+" ft",_/n))},_updateScale:function(t,n,r){t.style.width=Math.round(this.options.maxWidth*r)+"px",t.innerHTML=n},_getRoundNum:function(t){var n=Math.pow(10,(Math.floor(t)+"").length-1),r=t/n;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,n*r}}),Ho=function(t){return new fn(t)},ge='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',jn=_e.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(W.inlineSvg?ge+" ":"")+"Leaflet</a>"},initialize:function(t){K(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=ht("div","leaflet-control-attribution"),de(this._container);for(var n in t._layers)t._layers[n].getAttribution&&this.addAttribution(t._layers[n].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var n in this._attributions)this._attributions[n]&&t.push(n);var r=[];this.options.prefix&&r.push(this.options.prefix),t.length&&r.push(t.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});rt.mergeOptions({attributionControl:!0}),rt.addInitHook(function(){this.options.attributionControl&&new jn().addTo(this)});var Lo=function(t){return new jn(t)};_e.Layers=xo,_e.Zoom=Kn,_e.Scale=fn,_e.Attribution=jn,ei.layers=wo,ei.zoom=Wo,ei.scale=Ho,ei.attribution=Lo;var Zt=It.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Zt.addTo=function(t,n){return t.addHandler(n,this),this};var To={Events:yt},$n=W.touch?"touchstart mousedown":"mousedown",ze=he.extend({options:{clickTolerance:3},initialize:function(t,n,r,u){K(this,u),this._element=t,this._dragStartTarget=n||t,this._preventOutline=r},enable:function(){this._enabled||(F(this._dragStartTarget,$n,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ze._dragging===this&&this.finishDrag(!0),mt(this._dragStartTarget,$n,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!wt(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){ze._dragging===this&&this.finishDrag();return}if(!(ze._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ze._dragging=this,this._preventOutline&&ot(this._element),k(),w(),!this._moving)){this.fire("down");var n=t.touches?t.touches[0]:t,r=Mt(this._element);this._startPoint=new z(n.clientX,n.clientY),this._startPos=g(this._element),this._parentScale=J(r);var u=t.type==="mousedown";F(document,u?"mousemove":"touchmove",this._onMove,this),F(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var n=t.touches&&t.touches.length===1?t.touches[0]:t,r=new z(n.clientX,n.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,Bt(t),this._moved||(this.fire("dragstart"),this._moved=!0,it(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),it(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),m(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){xt(document.body,"leaflet-dragging"),this._lastTarget&&(xt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),mt(document,"mousemove touchmove",this._onMove,this),mt(document,"mouseup touchend touchcancel",this._onUp,this),Y(),C();var n=this._moved&&this._moving;this._moving=!1,ze._dragging=!1,n&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Co(t,n,r){var u,_=[1,4,2,8],v,x,I,S,B,X,j,at;for(v=0,X=t.length;v<X;v++)t[v]._code=oi(t[v],n);for(I=0;I<4;I++){for(j=_[I],u=[],v=0,X=t.length,x=X-1;v<X;x=v++)S=t[v],B=t[x],S._code&j?B._code&j||(at=Ji(B,S,j,n,r),at._code=oi(at,n),u.push(at)):(B._code&j&&(at=Ji(B,S,j,n,r),at._code=oi(at,n),u.push(at)),u.push(S));t=u}return t}function cn(t,n){var r,u,_,v,x,I,S,B,X;if(!t||t.length===0)throw new Error("latlngs not passed");se(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var j=q([0,0]),at=st(t),Ft=at.getNorthWest().distanceTo(at.getSouthWest())*at.getNorthEast().distanceTo(at.getNorthWest());Ft<1700&&(j=Qn(t));var Nt=t.length,te=[];for(r=0;r<Nt;r++){var Ht=q(t[r]);te.push(n.project(q([Ht.lat-j.lat,Ht.lng-j.lng])))}for(I=S=B=0,r=0,u=Nt-1;r<Nt;u=r++)_=te[r],v=te[u],x=_.y*v.x-v.y*_.x,S+=(_.x+v.x)*x,B+=(_.y+v.y)*x,I+=x*3;I===0?X=te[0]:X=[S/I,B/I];var hi=n.unproject(R(X));return q([hi.lat+j.lat,hi.lng+j.lng])}function Qn(t){for(var n=0,r=0,u=0,_=0;_<t.length;_++){var v=q(t[_]);n+=v.lat,r+=v.lng,u++}return q([n/u,r/u])}var Io={__proto__:null,clipPolygon:Co,polygonCenter:cn,centroid:Qn};function to(t,n){if(!n||!t.length)return t.slice();var r=n*n;return t=Te(t,r),t=qo(t,r),t}function Vi(t,n,r){return Math.sqrt(si(t,n,r,!0))}function ii(t,n,r){return si(t,n,r)}function qo(t,n){var r=t.length,u=typeof Uint8Array!=void 0+""?Uint8Array:Array,_=new u(r);_[0]=_[r-1]=1,ni(t,_,n,0,r-1);var v,x=[];for(v=0;v<r;v++)_[v]&&x.push(t[v]);return x}function ni(t,n,r,u,_){var v=0,x,I,S;for(I=u+1;I<=_-1;I++)S=si(t[I],t[u],t[_],!0),S>v&&(x=I,v=S);v>r&&(n[x]=1,ni(t,n,r,u,x),ni(t,n,r,x,_))}function Te(t,n){for(var r=[t[0]],u=1,_=0,v=t.length;u<v;u++)io(t[u],t[_])>n&&(r.push(t[u]),_=u);return _<v-1&&r.push(t[v-1]),r}var eo;function bo(t,n,r,u,_){var v=u?eo:oi(t,r),x=oi(n,r),I,S,B;for(eo=x;;){if(!(v|x))return[t,n];if(v&x)return!1;I=v||x,S=Ji(t,n,I,r,_),B=oi(S,r),I===v?(t=S,v=B):(n=S,x=B)}}function Ji(t,n,r,u,_){var v=n.x-t.x,x=n.y-t.y,I=u.min,S=u.max,B,X;return r&8?(B=t.x+v*(S.y-t.y)/x,X=S.y):r&4?(B=t.x+v*(I.y-t.y)/x,X=I.y):r&2?(B=S.x,X=t.y+x*(S.x-t.x)/v):r&1&&(B=I.x,X=t.y+x*(I.x-t.x)/v),new z(B,X,_)}function oi(t,n){var r=0;return t.x<n.min.x?r|=1:t.x>n.max.x&&(r|=2),t.y<n.min.y?r|=4:t.y>n.max.y&&(r|=8),r}function io(t,n){var r=n.x-t.x,u=n.y-t.y;return r*r+u*u}function si(t,n,r,u){var _=n.x,v=n.y,x=r.x-_,I=r.y-v,S=x*x+I*I,B;return S>0&&(B=((t.x-_)*x+(t.y-v)*I)/S,B>1?(_=r.x,v=r.y):B>0&&(_+=x*B,v+=I*B)),x=t.x-_,I=t.y-v,u?x*x+I*I:new z(_,v)}function se(t){return!Lt(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function So(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),se(t)}function no(t,n){var r,u,_,v,x,I,S,B;if(!t||t.length===0)throw new Error("latlngs not passed");se(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var X=q([0,0]),j=st(t),at=j.getNorthWest().distanceTo(j.getSouthWest())*j.getNorthEast().distanceTo(j.getNorthWest());at<1700&&(X=Qn(t));var Ft=t.length,Nt=[];for(r=0;r<Ft;r++){var te=q(t[r]);Nt.push(n.project(q([te.lat-X.lat,te.lng-X.lng])))}for(r=0,u=0;r<Ft-1;r++)u+=Nt[r].distanceTo(Nt[r+1])/2;if(u===0)B=Nt[0];else for(r=0,v=0;r<Ft-1;r++)if(x=Nt[r],I=Nt[r+1],_=x.distanceTo(I),v+=_,v>u){S=(v-u)/_,B=[I.x-S*(I.x-x.x),I.y-S*(I.y-x.y)];break}var Ht=n.unproject(R(B));return q([Ht.lat+X.lat,Ht.lng+X.lng])}var Uo={__proto__:null,simplify:to,pointToSegmentDistance:Vi,closestPointOnSegment:ii,clipSegment:bo,_getEdgeIntersection:Ji,_getBitCode:oi,_sqClosestPointOnSegment:si,isFlat:se,_flat:So,polylineCenter:no},Jt={project:function(t){return new z(t.lng,t.lat)},unproject:function(t){return new V(t.y,t.x)},bounds:new Q([-180,-90],[180,90])},Ze={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var n=Math.PI/180,r=this.R,u=t.lat*n,_=this.R_MINOR/r,v=Math.sqrt(1-_*_),x=v*Math.sin(u),I=Math.tan(Math.PI/4-u/2)/Math.pow((1-x)/(1+x),v/2);return u=-r*Math.log(Math.max(I,1e-10)),new z(t.lng*n*r,u)},unproject:function(t){for(var n=180/Math.PI,r=this.R,u=this.R_MINOR/r,_=Math.sqrt(1-u*u),v=Math.exp(-t.y/r),x=Math.PI/2-2*Math.atan(v),I=0,S=.1,B;I<15&&Math.abs(S)>1e-7;I++)B=_*Math.sin(x),B=Math.pow((1-B)/(1+B),_/2),S=Math.PI/2-2*Math.atan(v*B)-x,x+=S;return new V(x*n,t.x*n/r)}},Go={__proto__:null,LonLat:Jt,Mercator:Ze,SphericalMercator:Gt},_i=E({},zt,{code:"EPSG:3395",projection:Ze,transformation:function(){var t=.5/(Math.PI*Ze.R);return le(t,.5,-t,.5)}()}),Eo=E({},zt,{code:"EPSG:4326",projection:Jt,transformation:le(1/180,1,-1/180,.5)}),pi=E({},bt,{projection:Jt,transformation:le(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,n){var r=n.lng-t.lng,u=n.lat-t.lat;return Math.sqrt(r*r+u*u)},infinite:!0});bt.Earth=zt,bt.EPSG3395=_i,bt.EPSG3857=qe,bt.EPSG900913=In,bt.EPSG4326=Eo,bt.Simple=pi;var pe=he.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[O(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[O(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var n=t.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var r=this.getEvents();n.on(r,this),this.once("remove",function(){n.off(r,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});rt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var n=O(t);return this._layers[n]?this:(this._layers[n]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var n=O(t);return this._layers[n]?(this._loaded&&t.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return O(t)in this._layers},eachLayer:function(t,n){for(var r in this._layers)t.call(n,this._layers[r]);return this},_addLayers:function(t){t=t?Lt(t)?t:[t]:[];for(var n=0,r=t.length;n<r;n++)this.addLayer(t[n])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[O(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var n=O(t);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,n=-1/0,r=this._getZoomSpan();for(var u in this._zoomBoundLayers){var _=this._zoomBoundLayers[u].options;t=_.minZoom===void 0?t:Math.min(t,_.minZoom),n=_.maxZoom===void 0?n:Math.max(n,_.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=t===1/0?void 0:t,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ye=pe.extend({initialize:function(t,n){K(this,n),this._layers={};var r,u;if(t)for(r=0,u=t.length;r<u;r++)this.addLayer(t[r])},addLayer:function(t){var n=this.getLayerId(t);return this._layers[n]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var n=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(t){var n=typeof t=="number"?t:this.getLayerId(t);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var n=Array.prototype.slice.call(arguments,1),r,u;for(r in this._layers)u=this._layers[r],u[t]&&u[t].apply(u,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,n){for(var r in this._layers)t.call(n,this._layers[r]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return O(t)}}),Mo=function(t,n){return new ye(t,n)},re=ye.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ye.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ye.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ut;for(var n in this._layers){var r=this._layers[n];t.extend(r.getBounds?r.getBounds():r.getLatLng())}return t}}),Vo=function(t,n){return new re(t,n)},Kt=It.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){K(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,n){var r=this._getIconUrl(t);if(!r){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(r,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(u,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(t,n){var r=this.options,u=r[n+"Size"];typeof u=="number"&&(u=[u,u]);var _=R(u),v=R(n==="shadow"&&r.shadowAnchor||r.iconAnchor||_&&_.divideBy(2,!0));t.className="leaflet-marker-"+n+" "+(r.className||""),v&&(t.style.marginLeft=-v.x+"px",t.style.marginTop=-v.y+"px"),_&&(t.style.width=_.x+"px",t.style.height=_.y+"px")},_createImg:function(t,n){return n=n||document.createElement("img"),n.src=t,n},_getIconUrl:function(t){return W.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function dn(t){return new Kt(t)}var Ki=Kt.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Ki.imagePath!="string"&&(Ki.imagePath=this._detectIconPath()),(this.options.imagePath||Ki.imagePath)+Kt.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var n=function(r,u,_){var v=u.exec(r);return v&&v[_]};return t=n(t,/^url\((['"])?(.+)\1\)$/,2),t&&n(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=ht("div","leaflet-default-icon-path",document.body),n=nt(t,"background-image")||nt(t,"backgroundImage");if(document.body.removeChild(t),n=this._stripUrl(n),n)return n;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),_n=Zt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ze(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),it(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var n=this._marker,r=n._map,u=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,v=g(n._icon),x=r.getPixelBounds(),I=r.getPixelOrigin(),S=Pt(x.min._subtract(I).add(_),x.max._subtract(I).subtract(_));if(!S.contains(v)){var B=R((Math.max(S.max.x,v.x)-S.max.x)/(x.max.x-S.max.x)-(Math.min(S.min.x,v.x)-S.min.x)/(x.min.x-S.min.x),(Math.max(S.max.y,v.y)-S.max.y)/(x.max.y-S.max.y)-(Math.min(S.min.y,v.y)-S.min.y)/(x.min.y-S.min.y)).multiplyBy(u);r.panBy(B,{animate:!1}),this._draggable._newPos._add(B),this._draggable._startPos._add(B),m(n._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=dt(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(_t(this._panRequest),this._panRequest=dt(this._adjustPan.bind(this,t)))},_onDrag:function(t){var n=this._marker,r=n._shadow,u=g(n._icon),_=n._map.layerPointToLatLng(u);r&&m(r,u),n._latlng=_,t.latlng=_,t.oldLatLng=this._oldLatLng,n.fire("move",t).fire("drag",t)},_onDragEnd:function(t){_t(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),pn=pe.extend({options:{icon:new Ki,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,n){K(this,n),this._latlng=q(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var n=this._latlng;return this._latlng=q(t),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=t.icon.createIcon(this._icon),u=!1;r!==this._icon&&(this._icon&&this._removeIcon(),u=!0,t.title&&(r.title=t.title),r.tagName==="IMG"&&(r.alt=t.alt||"")),it(r,n),t.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&F(r,"focus",this._panOnFocus,this);var _=t.icon.createShadow(this._shadow),v=!1;_!==this._shadow&&(this._removeShadow(),v=!0),_&&(it(_,n),_.alt=""),this._shadow=_,t.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&v&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mt(this._icon,"focus",this._panOnFocus,this),ct(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ct(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&m(this._icon,t),this._shadow&&m(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(it(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),_n)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new _n(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&s(this._icon,t),this._shadow&&s(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var n=this.options.icon.options,r=n.iconSize?R(n.iconSize):R(0,0),u=n.iconAnchor?R(n.iconAnchor):R(0,0);t.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:r.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ce(t,n){return new pn(t,n)}var Re=pe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return K(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ie=Re.extend({options:{fill:!0,radius:10},initialize:function(t,n){K(this,n),this._latlng=q(t),this._radius=this.options.radius},setLatLng:function(t){var n=this._latlng;return this._latlng=q(t),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var n=t&&t.radius||this._radius;return Re.prototype.setStyle.call(this,t),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,n=this._radiusY||t,r=this._clickTolerance(),u=[t+r,n+r];this._pxBounds=new Q(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Jo(t,n){return new Ie(t,n)}var me=Ie.extend({initialize:function(t,n,r){if(typeof n=="number"&&(n=E({},r,{radius:n})),K(this,n),this._latlng=q(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ut(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Re.prototype.setStyle,_project:function(){var t=this._latlng.lng,n=this._latlng.lat,r=this._map,u=r.options.crs;if(u.distance===zt.distance){var _=Math.PI/180,v=this._mRadius/zt.R/_,x=r.project([n+v,t]),I=r.project([n-v,t]),S=x.add(I).divideBy(2),B=r.unproject(S).lat,X=Math.acos((Math.cos(v*_)-Math.sin(n*_)*Math.sin(B*_))/(Math.cos(n*_)*Math.cos(B*_)))/_;(isNaN(X)||X===0)&&(X=v/Math.cos(Math.PI/180*n)),this._point=S.subtract(r.getPixelOrigin()),this._radius=isNaN(X)?0:S.x-r.project([B,t-X]).x,this._radiusY=S.y-x.y}else{var j=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(j).x}this._updateBounds()}});function oo(t,n,r){return new me(t,n,r)}var Pe=Re.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,n){K(this,n),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var n=1/0,r=null,u=si,_,v,x=0,I=this._parts.length;x<I;x++)for(var S=this._parts[x],B=1,X=S.length;B<X;B++){_=S[B-1],v=S[B];var j=u(t,_,v,!0);j<n&&(n=j,r=u(t,_,v))}return r&&(r.distance=Math.sqrt(n)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return no(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,n){return n=n||this._defaultShape(),t=q(t),n.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ut,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return se(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var n=[],r=se(t),u=0,_=t.length;u<_;u++)r?(n[u]=q(t[u]),this._bounds.extend(n[u])):n[u]=this._convertLatLngs(t[u]);return n},_project:function(){var t=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),n=new z(t,t);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(t,n,r){var u=t[0]instanceof V,_=t.length,v,x;if(u){for(x=[],v=0;v<_;v++)x[v]=this._map.latLngToLayerPoint(t[v]),r.extend(x[v]);n.push(x)}else for(v=0;v<_;v++)this._projectLatlngs(t[v],n,r)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,r,u,_,v,x,I,S;for(r=0,_=0,v=this._rings.length;r<v;r++)for(S=this._rings[r],u=0,x=S.length;u<x-1;u++)I=bo(S[u],S[u+1],t,u,!0),I&&(n[_]=n[_]||[],n[_].push(I[0]),(I[1]!==S[u+1]||u===x-2)&&(n[_].push(I[1]),_++))}},_simplifyPoints:function(){for(var t=this._parts,n=this.options.smoothFactor,r=0,u=t.length;r<u;r++)t[r]=to(t[r],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,n){var r,u,_,v,x,I,S=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,v=this._parts.length;r<v;r++)for(I=this._parts[r],u=0,x=I.length,_=x-1;u<x;_=u++)if(!(!n&&u===0)&&Vi(t,I[_],I[u])<=S)return!0;return!1}});function so(t,n){return new Pe(t,n)}Pe._flat=So;var be=Pe.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var n=Pe.prototype._convertLatLngs.call(this,t),r=n.length;return r>=2&&n[0]instanceof V&&n[0].equals(n[r-1])&&n.pop(),n},_setLatLngs:function(t){Pe.prototype._setLatLngs.call(this,t),se(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return se(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,n=this.options.weight,r=new z(n,n);if(t=new Q(t.min.subtract(r),t.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,_=this._rings.length,v;u<_;u++)v=Co(this._rings[u],t,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var n=!1,r,u,_,v,x,I,S,B;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(v=0,S=this._parts.length;v<S;v++)for(r=this._parts[v],x=0,B=r.length,I=B-1;x<B;I=x++)u=r[x],_=r[I],u.y>t.y!=_.y>t.y&&t.x<(_.x-u.x)*(t.y-u.y)/(_.y-u.y)+u.x&&(n=!n);return n||Pe.prototype._containsPoint.call(this,t,!0)}});function ro(t,n){return new be(t,n)}var ae=re.extend({initialize:function(t,n){K(this,n),this._layers={},t&&this.addData(t)},addData:function(t){var n=Lt(t)?t:t.features,r,u,_;if(n){for(r=0,u=n.length;r<u;r++)_=n[r],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var v=this.options;if(v.filter&&!v.filter(t))return this;var x=Se(t,v);return x?(x.feature=tn(t),x.defaultOptions=x.options,this.resetStyle(x),v.onEachFeature&&v.onEachFeature(t,x),this.addLayer(x)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=E({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(n){this._setLayerStyle(n,t)},this)},_setLayerStyle:function(t,n){t.setStyle&&(typeof n=="function"&&(n=n(t.feature)),t.setStyle(n))}});function Se(t,n){var r=t.type==="Feature"?t.geometry:t,u=r?r.coordinates:null,_=[],v=n&&n.pointToLayer,x=n&&n.coordsToLatLng||$i,I,S,B,X;if(!u&&!r)return null;switch(r.type){case"Point":return I=x(u),ji(v,t,I,n);case"MultiPoint":for(B=0,X=u.length;B<X;B++)I=x(u[B]),_.push(ji(v,t,I,n));return new re(_);case"LineString":case"MultiLineString":return S=Qi(u,r.type==="LineString"?0:1,x),new Pe(S,n);case"Polygon":case"MultiPolygon":return S=Qi(u,r.type==="Polygon"?1:2,x),new be(S,n);case"GeometryCollection":for(B=0,X=r.geometries.length;B<X;B++){var j=Se({geometry:r.geometries[B],type:"Feature",properties:t.properties},n);j&&_.push(j)}return new re(_);case"FeatureCollection":for(B=0,X=r.features.length;B<X;B++){var at=Se(r.features[B],n);at&&_.push(at)}return new re(_);default:throw new Error("Invalid GeoJSON object.")}}function ji(t,n,r,u){return t?t(n,r):new pn(r,u&&u.markersInheritOptions&&u)}function $i(t){return new V(t[1],t[0],t[2])}function Qi(t,n,r){for(var u=[],_=0,v=t.length,x;_<v;_++)x=n?Qi(t[_],n-1,r):(r||$i)(t[_]),u.push(x);return u}function ao(t,n){return t=q(t),t.alt!==void 0?[gt(t.lng,n),gt(t.lat,n),gt(t.alt,n)]:[gt(t.lng,n),gt(t.lat,n)]}function ri(t,n,r,u){for(var _=[],v=0,x=t.length;v<x;v++)_.push(n?ri(t[v],se(t[v])?0:n-1,r,u):ao(t[v],u));return!n&&r&&_.length>0&&_.push(_[0].slice()),_}function mi(t,n){return t.feature?E({},t.feature,{geometry:n}):tn(n)}function tn(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var ho={toGeoJSON:function(t){return mi(this,{type:"Point",coordinates:ao(this.getLatLng(),t)})}};pn.include(ho),me.include(ho),Ie.include(ho),Pe.include({toGeoJSON:function(t){var n=!se(this._latlngs),r=ri(this._latlngs,n?1:0,!1,t);return mi(this,{type:(n?"Multi":"")+"LineString",coordinates:r})}}),be.include({toGeoJSON:function(t){var n=!se(this._latlngs),r=n&&!se(this._latlngs[0]),u=ri(this._latlngs,r?2:n?1:0,!0,t);return n||(u=[u]),mi(this,{type:(r?"Multi":"")+"Polygon",coordinates:u})}}),ye.include({toMultiPoint:function(t){var n=[];return this.eachLayer(function(r){n.push(r.toGeoJSON(t).geometry.coordinates)}),mi(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(t){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(t);var r=n==="GeometryCollection",u=[];return this.eachLayer(function(_){if(_.toGeoJSON){var v=_.toGeoJSON(t);if(r)u.push(v.geometry);else{var x=tn(v);x.type==="FeatureCollection"?u.push.apply(u,x.features):u.push(x)}}}),r?mi(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function lo(t,n){return new ae(t,n)}var Ko=lo,jt=pe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,n,r){this._url=t,this._bounds=st(n),K(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(it(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ct(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&tt(this._image),this},bringToBack:function(){return this._map&&$(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=st(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",n=this._image=t?this._url:ht("img");if(it(n,"leaflet-image-layer"),this._zoomAnimated&&it(n,"leaflet-zoom-animated"),this.options.className&&it(n,this.options.className),n.onselectstart=et,n.onmousemove=et,n.onload=N(this.fire,this,"load"),n.onerror=N(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(t){var n=this._map.getZoomScale(t.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;d(this._image,r,n)},_reset:function(){var t=this._image,n=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=n.getSize();m(t,n.min),t.style.width=r.x+"px",t.style.height=r.y+"px"},_updateOpacity:function(){s(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),mn=function(t,n,r){return new jt(t,n,r)},Oo=jt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",n=this._image=t?this._url:ht("video");if(it(n,"leaflet-image-layer"),this._zoomAnimated&&it(n,"leaflet-zoom-animated"),this.options.className&&it(n,this.options.className),n.onselectstart=et,n.onmousemove=et,n.onloadeddata=N(this.fire,this,"load"),t){for(var r=n.getElementsByTagName("source"),u=[],_=0;_<r.length;_++)u.push(r[_].src);this._url=r.length>0?u:[n.src];return}Lt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var x=ht("source");x.src=this._url[v],n.appendChild(x)}}});function vn(t,n,r){return new Oo(t,n,r)}var Ao=jt.extend({_initImage:function(){var t=this._image=this._url;it(t,"leaflet-image-layer"),this._zoomAnimated&&it(t,"leaflet-zoom-animated"),this.options.className&&it(t,this.options.className),t.onselectstart=et,t.onmousemove=et}});function Bo(t,n,r){return new Ao(t,n,r)}var xe=pe.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,n){t&&(t instanceof V||Lt(t))?(this._latlng=q(t),K(this,n)):(K(this,t),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&s(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&s(this._container,1),this.bringToFront(),this.options.interactive&&(it(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(s(this._container,0),this._removeTimeout=setTimeout(N(ct,void 0,this._container),200)):ct(this._container),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=q(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&tt(this._container),this},bringToBack:function(){return this._map&&$(this._container),this},_prepareOpen:function(t){var n=this._source;if(!n._map)return!1;if(n instanceof re){n=null;var r=this._source._layers;for(var u in r)if(r[u]._map){n=r[u];break}if(!n)return!1;this._source=n}if(!t)if(n.getCenter)t=n.getCenter();else if(n.getLatLng)t=n.getLatLng();else if(n.getBounds)t=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")t.innerHTML=n;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),n=R(this.options.offset),r=this._getAnchor();this._zoomAnimated?m(this._container,t.add(r)):n=n.add(t).add(r);var u=this._containerBottom=-n.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=u+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});rt.include({_initOverlay:function(t,n,r,u){var _=n;return _ instanceof t||(_=new t(u).setContent(n)),r&&_.setLatLng(r),_}}),pe.include({_initOverlay:function(t,n,r,u){var _=r;return _ instanceof t?(K(_,u),_._source=this):(_=n&&!u?n:new t(u,this),_.setContent(r)),_}});var Xe=xe.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,xe.prototype.openOn.call(this,t)},onAdd:function(t){xe.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Re||this._source.on("preclick",ce))},onRemove:function(t){xe.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Re||this._source.off("preclick",ce))},getEvents:function(){var t=xe.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",n=this._container=ht("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=ht("div",t+"-content-wrapper",n);if(this._contentNode=ht("div",t+"-content",r),de(n),At(this._contentNode),F(n,"contextmenu",ce),this._tipContainer=ht("div",t+"-tip-container",n),this._tip=ht("div",t+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=ht("a",t+"-close-button",n);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',F(u,"click",function(_){Bt(_),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,n=t.style;n.width="",n.whiteSpace="nowrap";var r=t.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),n.width=r+1+"px",n.whiteSpace="",n.height="";var u=t.offsetHeight,_=this.options.maxHeight,v="leaflet-popup-scrolled";_&&u>_?(n.height=_+"px",it(t,v)):xt(t,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),r=this._getAnchor();m(this._container,n.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,n=parseInt(nt(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+n,u=this._containerWidth,_=new z(this._containerLeft,-r-this._containerBottom);_._add(g(this._container));var v=t.layerPointToContainerPoint(_),x=R(this.options.autoPanPadding),I=R(this.options.autoPanPaddingTopLeft||x),S=R(this.options.autoPanPaddingBottomRight||x),B=t.getSize(),X=0,j=0;v.x+u+S.x>B.x&&(X=v.x+u-B.x+S.x),v.x-X-I.x<0&&(X=v.x-I.x),v.y+r+S.y>B.y&&(j=v.y+r-B.y+S.y),v.y-j-I.y<0&&(j=v.y-I.y),(X||j)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([X,j]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),jo=function(t,n){return new Xe(t,n)};rt.mergeOptions({closePopupOnClick:!0}),rt.include({openPopup:function(t,n,r){return this._initOverlay(Xe,t,n,r).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),pe.include({bindPopup:function(t,n){return this._popup=this._initOverlay(Xe,this._popup,t,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof re||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){ti(t);var n=t.layer||t.target;if(this._popup._source===n&&!(n instanceof Re)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=n,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Ee=xe.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){xe.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){xe.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=xe.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",n=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ht("div",n),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+O(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var n,r,u=this._map,_=this._container,v=u.latLngToContainerPoint(u.getCenter()),x=u.layerPointToContainerPoint(t),I=this.options.direction,S=_.offsetWidth,B=_.offsetHeight,X=R(this.options.offset),j=this._getAnchor();I==="top"?(n=S/2,r=B):I==="bottom"?(n=S/2,r=0):I==="center"?(n=S/2,r=B/2):I==="right"?(n=0,r=B/2):I==="left"?(n=S,r=B/2):x.x<v.x?(I="right",n=0,r=B/2):(I="left",n=S+(X.x+j.x)*2,r=B/2),t=t.subtract(R(n,r,!0)).add(X).add(j),xt(_,"leaflet-tooltip-right"),xt(_,"leaflet-tooltip-left"),xt(_,"leaflet-tooltip-top"),xt(_,"leaflet-tooltip-bottom"),it(_,"leaflet-tooltip-"+I),m(_,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&s(this._container,t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(n)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),No=function(t,n){return new Ee(t,n)};rt.include({openTooltip:function(t,n,r){return this._initOverlay(Ee,t,n,r).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),pe.include({bindTooltip:function(t,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ee,this._tooltip,t,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var n=t?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[n](r),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof re||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var n=typeof t.getElement=="function"&&t.getElement();n&&(F(n,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),F(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var n=typeof t.getElement=="function"&&t.getElement();n&&n.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var n=this;this._map.once("moveend",function(){n._openOnceFlag=!1,n._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var n=t.latlng,r,u;this._tooltip.options.sticky&&t.originalEvent&&(r=this._map.mouseEventToContainerPoint(t.originalEvent),u=this._map.containerPointToLayerPoint(r),n=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(n)}});var uo=Kt.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var n=t&&t.tagName==="DIV"?t:document.createElement("div"),r=this.options;if(r.html instanceof Element?(fe(n),n.appendChild(r.html)):n.innerHTML=r.html!==!1?r.html:"",r.bgPos){var u=R(r.bgPos);n.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function $o(t){return new uo(t)}Kt.Default=Ki;var $t=pe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:W.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){K(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ct(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(tt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Ut(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof z?t:new z(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var n=this.getPane().children,r=-t(-1/0,1/0),u=0,_=n.length,v;u<_;u++)v=n[u].style.zIndex,n[u]!==this._container&&v&&(r=t(r,+v));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!W.ielt9){s(this._container,this.options.opacity);var t=+new Date,n=!1,r=!1;for(var u in this._tiles){var _=this._tiles[u];if(!(!_.current||!_.loaded)){var v=Math.min(1,(t-_.loaded)/200);s(_.el,v),v<1?n=!0:(_.active?r=!0:this._onOpaqueTile(_),_.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),n&&(_t(this._fadeFrame),this._fadeFrame=dt(this._updateOpacity,this))}},_onOpaqueTile:et,_initContainer:function(){this._container||(this._container=ht("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,n=this.options.maxZoom;if(t!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===t?(this._levels[r].el.style.zIndex=n-Math.abs(t-r),this._onUpdateLevel(r)):(ct(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var u=this._levels[t],_=this._map;return u||(u=this._levels[t]={},u.el=ht("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=n,u.origin=_.project(_.unproject(_.getPixelOrigin()),t).round(),u.zoom=t,this._setZoomTransform(u,_.getCenter(),_.getZoom()),et(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:et,_onRemoveLevel:et,_onCreateLevel:et,_pruneTiles:function(){if(this._map){var t,n,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)n=this._tiles[t],n.retain=n.current;for(t in this._tiles)if(n=this._tiles[t],n.current&&!n.active){var u=n.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var n in this._tiles)this._tiles[n].coords.z===t&&this._removeTile(n)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ct(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,n,r,u){var _=Math.floor(t/2),v=Math.floor(n/2),x=r-1,I=new z(+_,+v);I.z=+x;var S=this._tileCoordsToKey(I),B=this._tiles[S];return B&&B.active?(B.retain=!0,!0):(B&&B.loaded&&(B.retain=!0),x>u?this._retainParent(_,v,x,u):!1)},_retainChildren:function(t,n,r,u){for(var _=2*t;_<2*t+2;_++)for(var v=2*n;v<2*n+2;v++){var x=new z(_,v);x.z=r+1;var I=this._tileCoordsToKey(x),S=this._tiles[I];if(S&&S.active){S.retain=!0;continue}else S&&S.loaded&&(S.retain=!0);r+1<u&&this._retainChildren(_,v,r+1,u)}},_resetView:function(t){var n=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var n=this.options;return n.minNativeZoom!==void 0&&t<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<t?n.maxNativeZoom:t},_setView:function(t,n,r,u){var _=Math.round(n);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var v=this.options.updateWhenZooming&&_!==this._tileZoom;(!u||v)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(t),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(t,n)},_setZoomTransforms:function(t,n){for(var r in this._levels)this._setZoomTransform(this._levels[r],t,n)},_setZoomTransform:function(t,n,r){var u=this._map.getZoomScale(r,t.zoom),_=t.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(n,r)).round();W.any3d?d(t.el,_,u):m(t.el,_)},_resetGrid:function(){var t=this._map,n=t.options.crs,r=this._tileSize=this.getTileSize(),u=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,n.wrapLng[0]],u).x/r.x),Math.ceil(t.project([0,n.wrapLng[1]],u).x/r.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([n.wrapLat[0],0],u).y/r.x),Math.ceil(t.project([n.wrapLat[1],0],u).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var n=this._map,r=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),u=n.getZoomScale(r,this._tileZoom),_=n.project(t,this._tileZoom).floor(),v=n.getSize().divideBy(u*2);return new Q(_.subtract(v),_.add(v))},_update:function(t){var n=this._map;if(n){var r=this._clampZoom(n.getZoom());if(t===void 0&&(t=n.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(t),_=this._pxBoundsToTileRange(u),v=_.getCenter(),x=[],I=this.options.keepBuffer,S=new Q(_.getBottomLeft().subtract([I,-I]),_.getTopRight().add([I,-I]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var B in this._tiles){var X=this._tiles[B].coords;(X.z!==this._tileZoom||!S.contains(new z(X.x,X.y)))&&(this._tiles[B].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(t,r);return}for(var j=_.min.y;j<=_.max.y;j++)for(var at=_.min.x;at<=_.max.x;at++){var Ft=new z(at,j);if(Ft.z=this._tileZoom,!!this._isValidTile(Ft)){var Nt=this._tiles[this._tileCoordsToKey(Ft)];Nt?Nt.current=!0:x.push(Ft)}}if(x.sort(function(Ht,hi){return Ht.distanceTo(v)-hi.distanceTo(v)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var te=document.createDocumentFragment();for(at=0;at<x.length;at++)this._addTile(x[at],te);this._level.el.appendChild(te)}}}},_isValidTile:function(t){var n=this._map.options.crs;if(!n.infinite){var r=this._globalTileRange;if(!n.wrapLng&&(t.x<r.min.x||t.x>r.max.x)||!n.wrapLat&&(t.y<r.min.y||t.y>r.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(t);return st(this.options.bounds).overlaps(u)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var n=this._map,r=this.getTileSize(),u=t.scaleBy(r),_=u.add(r),v=n.unproject(u,t.z),x=n.unproject(_,t.z);return[v,x]},_tileCoordsToBounds:function(t){var n=this._tileCoordsToNwSe(t),r=new ut(n[0],n[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var n=t.split(":"),r=new z(+n[0],+n[1]);return r.z=+n[2],r},_removeTile:function(t){var n=this._tiles[t];n&&(ct(n.el),delete this._tiles[t],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){it(t,"leaflet-tile");var n=this.getTileSize();t.style.width=n.x+"px",t.style.height=n.y+"px",t.onselectstart=et,t.onmousemove=et,W.ielt9&&this.options.opacity<1&&s(t,this.options.opacity)},_addTile:function(t,n){var r=this._getTilePos(t),u=this._tileCoordsToKey(t),_=this.createTile(this._wrapCoords(t),N(this._tileReady,this,t));this._initTile(_),this.createTile.length<2&&dt(N(this._tileReady,this,t,null,_)),m(_,r),this._tiles[u]={el:_,coords:t,current:!0},n.appendChild(_),this.fire("tileloadstart",{tile:_,coords:t})},_tileReady:function(t,n,r){n&&this.fire("tileerror",{error:n,tile:r,coords:t});var u=this._tileCoordsToKey(t);r=this._tiles[u],r&&(r.loaded=+new Date,this._map._fadeAnimated?(s(r.el,0),_t(this._fadeFrame),this._fadeFrame=dt(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),n||(it(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),W.ielt9||!this._map._fadeAnimated?dt(this._pruneTiles,this):setTimeout(N(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var n=new z(this._wrapX?kt(t.x,this._wrapX):t.x,this._wrapY?kt(t.y,this._wrapY):t.y);return n.z=t.z,n},_pxBoundsToTileRange:function(t){var n=this.getTileSize();return new Q(t.min.unscaleBy(n).floor(),t.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function ko(t){return new $t(t)}var ai=$t.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,n){this._url=t,n=K(this,n),n.detectRetina&&W.retina&&n.maxZoom>0?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,n){return this._url===t&&n===void 0&&(n=!0),this._url=t,n||this.redraw(),this},createTile:function(t,n){var r=document.createElement("img");return F(r,"load",N(this._tileOnLoad,this,n,r)),F(r,"error",N(this._tileOnError,this,n,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(t),r},getTileUrl:function(t){var n={r:W.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=r),n["-y"]=r}return fi(this._url,E(n,this.options))},_tileOnLoad:function(t,n){W.ielt9?setTimeout(N(t,this,null,n),0):t(null,n)},_tileOnError:function(t,n,r){var u=this.options.errorTileUrl;u&&n.getAttribute("src")!==u&&(n.src=u),t(r,n)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,n=this.options.maxZoom,r=this.options.zoomReverse,u=this.options.zoomOffset;return r&&(t=n-t),t+u},_getSubdomain:function(t){var n=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var t,n;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(n=this._tiles[t].el,n.onload=et,n.onerror=et,!n.complete)){n.src=Xt;var r=this._tiles[t].coords;ct(n),delete this._tiles[t],this.fire("tileabort",{tile:n,coords:r})}},_removeTile:function(t){var n=this._tiles[t];if(n)return n.el.setAttribute("src",Xt),$t.prototype._removeTile.call(this,t)},_tileReady:function(t,n,r){if(!(!this._map||r&&r.getAttribute("src")===Xt))return $t.prototype._tileReady.call(this,t,n,r)}});function vi(t,n){return new ai(t,n)}var Do=ai.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var r=E({},this.defaultWmsParams);for(var u in n)u in this.options||(r[u]=n[u]);n=K(this,n);var _=n.detectRetina&&W.retina?2:1,v=this.getTileSize();r.width=v.x*_,r.height=v.y*_,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,ai.prototype.onAdd.call(this,t)},getTileUrl:function(t){var n=this._tileCoordsToNwSe(t),r=this._crs,u=Pt(r.project(n[0]),r.project(n[1])),_=u.min,v=u.max,x=(this._wmsVersion>=1.3&&this._crs===Eo?[_.y,_.x,v.y,v.x]:[_.x,_.y,v.x,v.y]).join(","),I=ai.prototype.getTileUrl.call(this,t);return I+Rt(this.wmsParams,I,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+x},setParams:function(t,n){return E(this.wmsParams,t),n||this.redraw(),this}});function gn(t,n){return new Do(t,n)}ai.WMS=Do,vi.wms=gn;var Qt=pe.extend({options:{padding:.1},initialize:function(t){K(this,t),O(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),it(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,n){var r=this._map.getZoomScale(n,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,n),v=u.multiplyBy(-r).add(_).subtract(this._map._getNewPixelOrigin(t,n));W.any3d?d(this._container,v,r):m(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,n=this._map.getSize(),r=this._map.containerPointToLayerPoint(n.multiplyBy(-t)).round();this._bounds=new Q(r,r.add(n.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),fo=Qt.extend({options:{tolerance:0},getEvents:function(){var t=Qt.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Qt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");F(t,"mousemove",this._onMouseMove,this),F(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),F(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){_t(this._redrawRequest),delete this._ctx,ct(this._container),mt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var n in this._layers)t=this._layers[n],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qt.prototype._update.call(this);var t=this._bounds,n=this._container,r=t.getSize(),u=W.retina?2:1;m(n,t.min),n.width=u*r.x,n.height=u*r.y,n.style.width=r.x+"px",n.style.height=r.y+"px",W.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Qt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[O(t)]=t;var n=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var n=t._order,r=n.next,u=n.prev;r?r.prev=u:this._drawLast=u,u?u.next=r:this._drawFirst=r,delete t._order,delete this._layers[O(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var n=t.options.dashArray.split(/[, ]+/),r=[],u,_;for(_=0;_<n.length;_++){if(u=Number(n[_]),isNaN(u))return;r.push(u)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||dt(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var n=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(t._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(t._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var n=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,n=this._redrawBounds;if(this._ctx.save(),n){var r=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)t=u.layer,(!n||t._pxBounds&&t._pxBounds.intersects(n))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,n){if(this._drawing){var r,u,_,v,x=t._parts,I=x.length,S=this._ctx;if(I){for(S.beginPath(),r=0;r<I;r++){for(u=0,_=x[r].length;u<_;u++)v=x[r][u],S[u?"lineTo":"moveTo"](v.x,v.y);n&&S.closePath()}this._fillStroke(S,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var n=t._point,r=this._ctx,u=Math.max(Math.round(t._radius),1),_=(Math.max(Math.round(t._radiusY),1)||u)/u;_!==1&&(r.save(),r.scale(1,_)),r.beginPath(),r.arc(n.x,n.y/_,u,0,Math.PI*2,!1),_!==1&&r.restore(),this._fillStroke(r,t)}},_fillStroke:function(t,n){var r=n.options;r.fill&&(t.globalAlpha=r.fillOpacity,t.fillStyle=r.fillColor||r.color,t.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(t.setLineDash&&t.setLineDash(n.options&&n.options._dashArray||[]),t.globalAlpha=r.opacity,t.lineWidth=r.weight,t.strokeStyle=r.color,t.lineCap=r.lineCap,t.lineJoin=r.lineJoin,t.stroke())},_onClick:function(t){for(var n=this._map.mouseEventToLayerPoint(t),r,u,_=this._drawFirst;_;_=_.next)r=_.layer,r.options.interactive&&r._containsPoint(n)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(r))&&(u=r);this._fireEvent(u?[u]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,n)}},_handleMouseOut:function(t){var n=this._hoveredLayer;n&&(xt(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,n){if(!this._mouseHoverThrottled){for(var r,u,_=this._drawFirst;_;_=_.next)r=_.layer,r.options.interactive&&r._containsPoint(n)&&(u=r);u!==this._hoveredLayer&&(this._handleMouseOut(t),u&&(it(this._container,"leaflet-interactive"),this._fireEvent([u],t,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(N(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,n,r){this._map._fireDOMEvent(n,r||n.type,t)},_bringToFront:function(t){var n=t._order;if(n){var r=n.next,u=n.prev;if(r)r.prev=u;else return;u?u.next=r:r&&(this._drawFirst=r),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(t)}},_bringToBack:function(t){var n=t._order;if(n){var r=n.next,u=n.prev;if(u)u.next=r;else return;r?r.prev=u:u&&(this._drawLast=u),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(t)}}});function co(t){return W.canvas?new fo(t):null}var en=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),zo={_initContainer:function(){this._container=ht("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Qt.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var n=t._container=en("shape");it(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",t._path=en("path"),n.appendChild(t._path),this._updateStyle(t),this._layers[O(t)]=t},_addPath:function(t){var n=t._container;this._container.appendChild(n),t.options.interactive&&t.addInteractiveTarget(n)},_removePath:function(t){var n=t._container;ct(n),t.removeInteractiveTarget(n),delete this._layers[O(t)]},_updateStyle:function(t){var n=t._stroke,r=t._fill,u=t.options,_=t._container;_.stroked=!!u.stroke,_.filled=!!u.fill,u.stroke?(n||(n=t._stroke=en("stroke")),_.appendChild(n),n.weight=u.weight+"px",n.color=u.color,n.opacity=u.opacity,u.dashArray?n.dashStyle=Lt(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=u.lineCap.replace("butt","flat"),n.joinstyle=u.lineJoin):n&&(_.removeChild(n),t._stroke=null),u.fill?(r||(r=t._fill=en("fill")),_.appendChild(r),r.color=u.fillColor||u.color,r.opacity=u.fillOpacity):r&&(_.removeChild(r),t._fill=null)},_updateCircle:function(t){var n=t._point.round(),r=Math.round(t._radius),u=Math.round(t._radiusY||r);this._setPath(t,t._empty()?"M0 0":"AL "+n.x+","+n.y+" "+r+","+u+" 0,"+65535*360)},_setPath:function(t,n){t._path.v=n},_bringToFront:function(t){tt(t._container)},_bringToBack:function(t){$(t._container)}},nn=W.vml?en:Si,gi=Qt.extend({_initContainer:function(){this._container=nn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=nn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ct(this._container),mt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qt.prototype._update.call(this);var t=this._bounds,n=t.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,r.setAttribute("width",n.x),r.setAttribute("height",n.y)),m(r,t.min),r.setAttribute("viewBox",[t.min.x,t.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(t){var n=t._path=nn("path");t.options.className&&it(n,t.options.className),t.options.interactive&&it(n,"leaflet-interactive"),this._updateStyle(t),this._layers[O(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ct(t._path),t.removeInteractiveTarget(t._path),delete this._layers[O(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var n=t._path,r=t.options;n&&(r.stroke?(n.setAttribute("stroke",r.color),n.setAttribute("stroke-opacity",r.opacity),n.setAttribute("stroke-width",r.weight),n.setAttribute("stroke-linecap",r.lineCap),n.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?n.setAttribute("stroke-dasharray",r.dashArray):n.removeAttribute("stroke-dasharray"),r.dashOffset?n.setAttribute("stroke-dashoffset",r.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),r.fill?(n.setAttribute("fill",r.fillColor||r.color),n.setAttribute("fill-opacity",r.fillOpacity),n.setAttribute("fill-rule",r.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(t,n){this._setPath(t,Ei(t._parts,n))},_updateCircle:function(t){var n=t._point,r=Math.max(Math.round(t._radius),1),u=Math.max(Math.round(t._radiusY),1)||r,_="a"+r+","+u+" 0 1,0 ",v=t._empty()?"M0 0":"M"+(n.x-r)+","+n.y+_+r*2+",0 "+_+-r*2+",0 ";this._setPath(t,v)},_setPath:function(t,n){t._path.setAttribute("d",n)},_bringToFront:function(t){tt(t._path)},_bringToBack:function(t){$(t._path)}});W.vml&&gi.include(zo);function _o(t){return W.svg||W.vml?new gi(t):null}rt.include({getRenderer:function(t){var n=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var n=this._paneRenderers[t];return n===void 0&&(n=this._createRenderer({pane:t}),this._paneRenderers[t]=n),n},_createRenderer:function(t){return this.options.preferCanvas&&co(t)||_o(t)}});var po=be.extend({initialize:function(t,n){be.prototype.initialize.call(this,this._boundsToLatLngs(t),n)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=st(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Qo(t,n){return new po(t,n)}gi.create=nn,gi.pointsToPath=Ei,ae.geometryToLayer=Se,ae.coordsToLatLng=$i,ae.coordsToLatLngs=Qi,ae.latLngToCoords=ao,ae.latLngsToCoords=ri,ae.getFeature=mi,ae.asFeature=tn,rt.mergeOptions({boxZoom:!0});var mo=Zt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){F(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ct(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),w(),k(),this._startPoint=this._map.mouseEventToContainerPoint(t),F(document,{contextmenu:ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ht("div","leaflet-zoom-box",this._container),it(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var n=new Q(this._point,this._startPoint),r=n.getSize();m(this._box,n.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(ct(this._box),xt(this._container,"leaflet-crosshair")),C(),Y(),mt(document,{contextmenu:ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(N(this._resetState,this),0);var n=new ut(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});rt.addInitHook("addHandler","boxZoom",mo),rt.mergeOptions({doubleClickZoom:!0});var vo=Zt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var n=this._map,r=n.getZoom(),u=n.options.zoomDelta,_=t.originalEvent.shiftKey?r-u:r+u;n.options.doubleClickZoom==="center"?n.setZoom(_):n.setZoomAround(t.containerPoint,_)}});rt.addInitHook("addHandler","doubleClickZoom",vo),rt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Zo=Zt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ze(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}it(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xt(this._map._container,"leaflet-grab"),xt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=st(this._map.options.maxBounds);this._offsetLimit=Pt(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var n=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(n),this._prunePositions(n)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,n){return t-(t-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;t.x<n.min.x&&(t.x=this._viscousLimit(t.x,n.min.x)),t.y<n.min.y&&(t.y=this._viscousLimit(t.y,n.min.y)),t.x>n.max.x&&(t.x=this._viscousLimit(t.x,n.max.x)),t.y>n.max.y&&(t.y=this._viscousLimit(t.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,n=Math.round(t/2),r=this._initialWorldOffset,u=this._draggable._newPos.x,_=(u-n+r)%t+n-r,v=(u+n+r)%t-n-r,x=Math.abs(_+r)<Math.abs(v+r)?_:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=x},_onDragEnd:function(t){var n=this._map,r=n.options,u=!r.inertia||t.noInertia||this._times.length<2;if(n.fire("dragend",t),u)n.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,x=r.easeLinearity,I=_.multiplyBy(x/v),S=I.distanceTo([0,0]),B=Math.min(r.inertiaMaxSpeed,S),X=I.multiplyBy(B/S),j=B/(r.inertiaDeceleration*x),at=X.multiplyBy(-j/2).round();!at.x&&!at.y?n.fire("moveend"):(at=n._limitOffset(at,n.options.maxBounds),dt(function(){n.panBy(at,{duration:j,easeLinearity:x,noMoveStart:!0,animate:!0})}))}}});rt.addInitHook("addHandler","dragging",Zo),rt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var e=Zt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),F(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),mt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,n=document.documentElement,r=t.scrollTop||n.scrollTop,u=t.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(u,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var n=this._panKeys={},r=this.keyCodes,u,_;for(u=0,_=r.left.length;u<_;u++)n[r.left[u]]=[-1*t,0];for(u=0,_=r.right.length;u<_;u++)n[r.right[u]]=[t,0];for(u=0,_=r.down.length;u<_;u++)n[r.down[u]]=[0,t];for(u=0,_=r.up.length;u<_;u++)n[r.up[u]]=[0,-1*t]},_setZoomDelta:function(t){var n=this._zoomKeys={},r=this.keyCodes,u,_;for(u=0,_=r.zoomIn.length;u<_;u++)n[r.zoomIn[u]]=t;for(u=0,_=r.zoomOut.length;u<_;u++)n[r.zoomOut[u]]=-t},_addHooks:function(){F(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=t.keyCode,r=this._map,u;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(u=this._panKeys[n],t.shiftKey&&(u=R(u).multiplyBy(3)),r.options.maxBounds&&(u=r._limitOffset(R(u),r.options.maxBounds)),r.options.worldCopyJump){var _=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(u)));r.panTo(_)}else r.panBy(u)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;ti(t)}}});rt.addInitHook("addHandler","keyboard",e),rt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var o=Zt.extend({addHooks:function(){F(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){mt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var n=Jn(t),r=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var u=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(N(this._performZoom,this),u),ti(t)},_performZoom:function(){var t=this._map,n=t.getZoom(),r=this._map.options.zoomSnap||0;t._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,v=r?Math.ceil(_/r)*r:_,x=t._limitZoom(n+(this._delta>0?v:-v))-n;this._delta=0,this._startTime=null,x&&(t.options.scrollWheelZoom==="center"?t.setZoom(n+x):t.setZoomAround(this._lastMousePos,n+x))}});rt.addInitHook("addHandler","scrollWheelZoom",o);var h=600;rt.mergeOptions({tapHold:W.touchNative&&W.safari&&W.mobile,tapTolerance:15});var c=Zt.extend({addHooks:function(){F(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var n=t.touches[0];this._startPos=this._newPos=new z(n.clientX,n.clientY),this._holdTimeout=setTimeout(N(function(){this._cancel(),this._isTapValid()&&(F(document,"touchend",Bt),F(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),h),F(document,"touchend touchcancel contextmenu",this._cancel,this),F(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){mt(document,"touchend",Bt),mt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),mt(document,"touchend touchcancel contextmenu",this._cancel,this),mt(document,"touchmove",this._onMove,this)},_onMove:function(t){var n=t.touches[0];this._newPos=new z(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,n){var r=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});r._simulated=!0,n.target.dispatchEvent(r)}});rt.addInitHook("addHandler","tapHold",c),rt.mergeOptions({touchZoom:W.touch,bounceAtZoomLimits:!0});var p=Zt.extend({addHooks:function(){it(this._map._container,"leaflet-touch-zoom"),F(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(!(!t.touches||t.touches.length!==2||n._animatingZoom||this._zooming)){var r=n.mouseEventToContainerPoint(t.touches[0]),u=n.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(r.add(u)._divideBy(2))),this._startDist=r.distanceTo(u),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),F(document,"touchmove",this._onTouchMove,this),F(document,"touchend touchcancel",this._onTouchEnd,this),Bt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var n=this._map,r=n.mouseEventToContainerPoint(t.touches[0]),u=n.mouseEventToContainerPoint(t.touches[1]),_=r.distanceTo(u)/this._startDist;if(this._zoom=n.getScaleZoom(_,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&_<1||this._zoom>n.getMaxZoom()&&_>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var v=r._add(u)._divideBy(2)._subtract(this._centerPoint);if(_===1&&v.x===0&&v.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),_t(this._animRequest);var x=N(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=dt(x,this,!0),Bt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,_t(this._animRequest),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});rt.addInitHook("addHandler","touchZoom",p),rt.BoxZoom=mo,rt.DoubleClickZoom=vo,rt.Drag=Zo,rt.Keyboard=e,rt.ScrollWheelZoom=o,rt.TapHold=c,rt.TouchZoom=p,P.Bounds=Q,P.Browser=W,P.CRS=bt,P.Canvas=fo,P.Circle=me,P.CircleMarker=Ie,P.Class=It,P.Control=_e,P.DivIcon=uo,P.DivOverlay=xe,P.DomEvent=Fo,P.DomUtil=ne,P.Draggable=ze,P.Evented=he,P.FeatureGroup=re,P.GeoJSON=ae,P.GridLayer=$t,P.Handler=Zt,P.Icon=Kt,P.ImageOverlay=jt,P.LatLng=V,P.LatLngBounds=ut,P.Layer=pe,P.LayerGroup=ye,P.LineUtil=Uo,P.Map=rt,P.Marker=pn,P.Mixin=To,P.Path=Re,P.Point=z,P.PolyUtil=Io,P.Polygon=be,P.Polyline=Pe,P.Popup=Xe,P.PosAnimation=oe,P.Projection=Go,P.Rectangle=po,P.Renderer=Qt,P.SVG=gi,P.SVGOverlay=Ao,P.TileLayer=ai,P.Tooltip=Ee,P.Transformation=He,P.Util=Tn,P.VideoOverlay=Oo,P.bind=N,P.bounds=Pt,P.canvas=co,P.circle=oo,P.circleMarker=Jo,P.control=ei,P.divIcon=$o,P.extend=E,P.featureGroup=Vo,P.geoJSON=lo,P.geoJson=Ko,P.gridLayer=ko,P.icon=dn,P.imageOverlay=mn,P.latLng=q,P.latLngBounds=st,P.layerGroup=Mo,P.map=Po,P.marker=Ce,P.point=R,P.polygon=ro,P.polyline=so,P.popup=jo,P.rectangle=Qo,P.setOptions=K,P.stamp=O,P.svg=_o,P.svgOverlay=Bo,P.tileLayer=vi,P.tooltip=No,P.transformation=le,P.version=Z,P.videoOverlay=vn;var y=window.L;P.noConflict=function(){return window.L=y,this},window.L=P})})(hs,hs.exports);var Js=hs.exports;const go=_s(Js);const Ks="https://tile.openstreetmap.org/{z}/{x}/{y}.png",js='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors';function $s(){const T=li(null);return{init:(P,Z,E=14)=>{T.value=go.map(P).setView(Z,E).addLayer(go.tileLayer(Ks,{attribution:js}))},map:T}}const Qs={class:"the-info"},tr=Ae({__name:"TheInfo",props:{label:{}},setup(T){const l=T;return(P,Z)=>(St(),qt("div",Qs,[on(Oe(l.label)+" ",1),ds(P.$slots,"default",{},void 0,!0)]))}});const er=wi(tr,[["__scopeId","data-v-42ce6754"]]);var ls={exports:{}};/* @preserve
 * Leaflet 1.8.0, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(T,l){(function(P,Z){Z(l)})(Ls,function(P){var Z="1.8.0";function E(e){var o,h,c,p;for(h=1,c=arguments.length;h<c;h++){p=arguments[h];for(o in p)e[o]=p[o]}return e}var D=Object.create||function(){function e(){}return function(o){return e.prototype=o,new e}}();function N(e,o){var h=Array.prototype.slice;if(e.bind)return e.bind.apply(e,h.call(arguments,1));var c=h.call(arguments,2);return function(){return e.apply(o,c.length?c.concat(h.call(arguments)):arguments)}}var M=0;function O(e){return"_leaflet_id"in e||(e._leaflet_id=++M),e._leaflet_id}function Ut(e,o,h){var c,p,y,t;return t=function(){c=!1,p&&(y.apply(h,p),p=!1)},y=function(){c?p=arguments:(e.apply(h,arguments),setTimeout(t,o),c=!0)},y}function kt(e,o,h){var c=o[1],p=o[0],y=c-p;return e===c&&h?e:((e-p)%y+y)%y+p}function et(){return!1}function gt(e,o){if(o===!1)return e;var h=Math.pow(10,o===void 0?6:o);return Math.round(e*h)/h}function Dt(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Et(e){return Dt(e).split(/\s+/)}function K(e,o){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?D(e.options):{});for(var h in o)e.options[h]=o[h];return e.options}function Rt(e,o,h){var c=[];for(var p in e)c.push(encodeURIComponent(h?p.toUpperCase():p)+"="+encodeURIComponent(e[p]));return(!o||o.indexOf("?")===-1?"?":"&")+c.join("&")}var sn=/\{ *([\w_ -]+) *\}/g;function fi(e,o){return e.replace(sn,function(h,c){var p=o[c];if(p===void 0)throw new Error("No value provided for variable "+h);return typeof p=="function"&&(p=p(o)),p})}var Lt=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function Ye(e,o){for(var h=0;h<e.length;h++)if(e[h]===o)return h;return-1}var Xt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Fe(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var Li=0;function Ti(e){var o=+new Date,h=Math.max(0,16-(o-Li));return Li=o+h,window.setTimeout(e,h)}var We=window.requestAnimationFrame||Fe("RequestAnimationFrame")||Ti,Ci=window.cancelAnimationFrame||Fe("CancelAnimationFrame")||Fe("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function dt(e,o,h){if(h&&We===Ti)e.call(o);else return We.call(window,N(e,o))}function _t(e){e&&Ci.call(window,e)}var Tn={__proto__:null,extend:E,create:D,bind:N,get lastId(){return M},stamp:O,throttle:Ut,wrapNum:kt,falseFn:et,formatNum:gt,trim:Dt,splitWords:Et,setOptions:K,getParamString:Rt,template:fi,isArray:Lt,indexOf:Ye,emptyImageUrl:Xt,requestFn:We,cancelFn:Ci,requestAnimFrame:dt,cancelAnimFrame:_t};function It(){}It.extend=function(e){var o=function(){K(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=o.__super__=this.prototype,c=D(h);c.constructor=o,o.prototype=c;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(o[p]=this[p]);return e.statics&&E(o,e.statics),e.includes&&(Cn(e.includes),E.apply(null,[c].concat(e.includes))),E(c,e),delete c.statics,delete c.includes,c.options&&(c.options=h.options?D(h.options):{},E(c.options,e.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,t=c._initHooks.length;y<t;y++)c._initHooks[y].call(this)}},o},It.include=function(e){var o=this.prototype.options;return E(this.prototype,e),e.options&&(this.prototype.options=o,this.mergeOptions(e.options)),this},It.mergeOptions=function(e){return E(this.prototype.options,e),this},It.addInitHook=function(e){var o=Array.prototype.slice.call(arguments,1),h=typeof e=="function"?e:function(){this[e].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Cn(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=Lt(e)?e:[e];for(var o=0;o<e.length;o++)e[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var yt={on:function(e,o,h){if(typeof e=="object")for(var c in e)this._on(c,e[c],o);else{e=Et(e);for(var p=0,y=e.length;p<y;p++)this._on(e[p],o,h)}return this},off:function(e,o,h){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var c in e)this._off(c,e[c],o);else{e=Et(e);for(var p=arguments.length===1,y=0,t=e.length;y<t;y++)p?this._off(e[y]):this._off(e[y],o,h)}return this},_on:function(e,o,h){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}this._events=this._events||{};var c=this._events[e];c||(c=[],this._events[e]=c),h===this&&(h=void 0);for(var p={fn:o,ctx:h},y=c,t=0,n=y.length;t<n;t++)if(y[t].fn===o&&y[t].ctx===h)return;y.push(p)},_off:function(e,o,h){var c,p,y;if(this._events&&(c=this._events[e],!!c)){if(arguments.length===1){if(this._firingCount)for(p=0,y=c.length;p<y;p++)c[p].fn=et;delete this._events[e];return}if(h===this&&(h=void 0),typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}for(p=0,y=c.length;p<y;p++){var t=c[p];if(t.ctx===h&&t.fn===o){this._firingCount&&(t.fn=et,this._events[e]=c=c.slice()),c.splice(p,1);return}}console.warn("listener not found")}},fire:function(e,o,h){if(!this.listens(e,h))return this;var c=E({},o,{type:e,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var p=this._events[e];if(p){this._firingCount=this._firingCount+1||1;for(var y=0,t=p.length;y<t;y++){var n=p[y];n.fn.call(n.ctx||this,c)}this._firingCount--}}return h&&this._propagateEvent(c),this},listens:function(e,o){typeof e!="string"&&console.warn('"string" type argument expected');var h=this._events&&this._events[e];if(h&&h.length)return!0;if(o){for(var c in this._eventParents)if(this._eventParents[c].listens(e,o))return!0}return!1},once:function(e,o,h){if(typeof e=="object"){for(var c in e)this.once(c,e[c],o);return this}var p=N(function(){this.off(e,o,h).off(e,p,h)},this);return this.on(e,o,h).on(e,p,h)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[O(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[O(e)],this},_propagateEvent:function(e){for(var o in this._eventParents)this._eventParents[o].fire(e.type,E({layer:e.target,propagatedFrom:e.target},e),!0)}};yt.addEventListener=yt.on,yt.removeEventListener=yt.clearAllEventListeners=yt.off,yt.addOneTimeEventListener=yt.once,yt.fireEvent=yt.fire,yt.hasEventListeners=yt.listens;var he=It.extend(yt);function z(e,o,h){this.x=h?Math.round(e):e,this.y=h?Math.round(o):o}var Ii=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(e){return this.clone()._add(R(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(R(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new z(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new z(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ii(this.x),this.y=Ii(this.y),this},distanceTo:function(e){e=R(e);var o=e.x-this.x,h=e.y-this.y;return Math.sqrt(o*o+h*h)},equals:function(e){return e=R(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=R(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+gt(this.x)+", "+gt(this.y)+")"}};function R(e,o,h){return e instanceof z?e:Lt(e)?new z(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new z(e.x,e.y):new z(e,o,h)}function Q(e,o){if(e)for(var h=o?[e,o]:e,c=0,p=h.length;c<p;c++)this.extend(h[c])}Q.prototype={extend:function(e){return e=R(e),!this.min&&!this.max?(this.min=e.clone(),this.max=e.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)),this},getCenter:function(e){return new z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new z(this.min.x,this.max.y)},getTopRight:function(){return new z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var o,h;return typeof e[0]=="number"||e instanceof z?e=R(e):e=Pt(e),e instanceof Q?(o=e.min,h=e.max):o=h=e,o.x>=this.min.x&&h.x<=this.max.x&&o.y>=this.min.y&&h.y<=this.max.y},intersects:function(e){e=Pt(e);var o=this.min,h=this.max,c=e.min,p=e.max,y=p.x>=o.x&&c.x<=h.x,t=p.y>=o.y&&c.y<=h.y;return y&&t},overlaps:function(e){e=Pt(e);var o=this.min,h=this.max,c=e.min,p=e.max,y=p.x>o.x&&c.x<h.x,t=p.y>o.y&&c.y<h.y;return y&&t},isValid:function(){return!!(this.min&&this.max)}};function Pt(e,o){return!e||e instanceof Q?e:new Q(e,o)}function ut(e,o){if(e)for(var h=o?[e,o]:e,c=0,p=h.length;c<p;c++)this.extend(h[c])}ut.prototype={extend:function(e){var o=this._southWest,h=this._northEast,c,p;if(e instanceof V)c=e,p=e;else if(e instanceof ut){if(c=e._southWest,p=e._northEast,!c||!p)return this}else return e?this.extend(q(e)||st(e)):this;return!o&&!h?(this._southWest=new V(c.lat,c.lng),this._northEast=new V(p.lat,p.lng)):(o.lat=Math.min(c.lat,o.lat),o.lng=Math.min(c.lng,o.lng),h.lat=Math.max(p.lat,h.lat),h.lng=Math.max(p.lng,h.lng)),this},pad:function(e){var o=this._southWest,h=this._northEast,c=Math.abs(o.lat-h.lat)*e,p=Math.abs(o.lng-h.lng)*e;return new ut(new V(o.lat-c,o.lng-p),new V(h.lat+c,h.lng+p))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof V||"lat"in e?e=q(e):e=st(e);var o=this._southWest,h=this._northEast,c,p;return e instanceof ut?(c=e.getSouthWest(),p=e.getNorthEast()):c=p=e,c.lat>=o.lat&&p.lat<=h.lat&&c.lng>=o.lng&&p.lng<=h.lng},intersects:function(e){e=st(e);var o=this._southWest,h=this._northEast,c=e.getSouthWest(),p=e.getNorthEast(),y=p.lat>=o.lat&&c.lat<=h.lat,t=p.lng>=o.lng&&c.lng<=h.lng;return y&&t},overlaps:function(e){e=st(e);var o=this._southWest,h=this._northEast,c=e.getSouthWest(),p=e.getNorthEast(),y=p.lat>o.lat&&c.lat<h.lat,t=p.lng>o.lng&&c.lng<h.lng;return y&&t},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,o){return e?(e=st(e),this._southWest.equals(e.getSouthWest(),o)&&this._northEast.equals(e.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function st(e,o){return e instanceof ut?e:new ut(e,o)}function V(e,o,h){if(isNaN(e)||isNaN(o))throw new Error("Invalid LatLng object: ("+e+", "+o+")");this.lat=+e,this.lng=+o,h!==void 0&&(this.alt=+h)}V.prototype={equals:function(e,o){if(!e)return!1;e=q(e);var h=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return h<=(o===void 0?1e-9:o)},toString:function(e){return"LatLng("+gt(this.lat,e)+", "+gt(this.lng,e)+")"},distanceTo:function(e){return zt.distance(this,q(e))},wrap:function(){return zt.wrapLatLng(this)},toBounds:function(e){var o=180*e/40075017,h=o/Math.cos(Math.PI/180*this.lat);return st([this.lat-o,this.lng-h],[this.lat+o,this.lng+h])},clone:function(){return new V(this.lat,this.lng,this.alt)}};function q(e,o,h){return e instanceof V?e:Lt(e)&&typeof e[0]!="object"?e.length===3?new V(e[0],e[1],e[2]):e.length===2?new V(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new V(e.lat,"lng"in e?e.lng:e.lon,e.alt):o===void 0?null:new V(e,o,h)}var bt={latLngToPoint:function(e,o){var h=this.projection.project(e),c=this.scale(o);return this.transformation._transform(h,c)},pointToLatLng:function(e,o){var h=this.scale(o),c=this.transformation.untransform(e,h);return this.projection.unproject(c)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var o=this.projection.bounds,h=this.scale(e),c=this.transformation.transform(o.min,h),p=this.transformation.transform(o.max,h);return new Q(c,p)},infinite:!1,wrapLatLng:function(e){var o=this.wrapLng?kt(e.lng,this.wrapLng,!0):e.lng,h=this.wrapLat?kt(e.lat,this.wrapLat,!0):e.lat,c=e.alt;return new V(h,o,c)},wrapLatLngBounds:function(e){var o=e.getCenter(),h=this.wrapLatLng(o),c=o.lat-h.lat,p=o.lng-h.lng;if(c===0&&p===0)return e;var y=e.getSouthWest(),t=e.getNorthEast(),n=new V(y.lat-c,y.lng-p),r=new V(t.lat-c,t.lng-p);return new ut(n,r)}},zt=E({},bt,{wrapLng:[-180,180],R:6371e3,distance:function(e,o){var h=Math.PI/180,c=e.lat*h,p=o.lat*h,y=Math.sin((o.lat-e.lat)*h/2),t=Math.sin((o.lng-e.lng)*h/2),n=y*y+Math.cos(c)*Math.cos(p)*t*t,r=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n));return this.R*r}}),bi=6378137,Gt={R:bi,MAX_LATITUDE:85.0511287798,project:function(e){var o=Math.PI/180,h=this.MAX_LATITUDE,c=Math.max(Math.min(h,e.lat),-h),p=Math.sin(c*o);return new z(this.R*e.lng*o,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(e){var o=180/Math.PI;return new V((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*o,e.x*o/this.R)},bounds:function(){var e=bi*Math.PI;return new Q([-e,-e],[e,e])}()};function He(e,o,h,c){if(Lt(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=o,this._c=h,this._d=c}He.prototype={transform:function(e,o){return this._transform(e.clone(),o)},_transform:function(e,o){return o=o||1,e.x=o*(this._a*e.x+this._b),e.y=o*(this._c*e.y+this._d),e},untransform:function(e,o){return o=o||1,new z((e.x/o-this._b)/this._a,(e.y/o-this._d)/this._c)}};function le(e,o,h,c){return new He(e,o,h,c)}var qe=E({},zt,{code:"EPSG:3857",projection:Gt,transformation:function(){var e=.5/(Math.PI*Gt.R);return le(e,.5,-e,.5)}()}),In=E({},qe,{code:"EPSG:900913"});function Si(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ei(e,o){var h="",c,p,y,t,n,r;for(c=0,y=e.length;c<y;c++){for(n=e[c],p=0,t=n.length;p<t;p++)r=n[p],h+=(p?"L":"M")+r.x+" "+r.y;h+=o?U.svg?"z":"x":""}return h||"M0 0"}var Ue=document.documentElement.style,we="ActiveXObject"in window,bn=we&&!document.addEventListener,Mi="msLaunchUri"in navigator&&!("documentMode"in document),Ge=ie("webkit"),Oi=ie("android"),Ai=ie("android 2")||ie("android 3"),Sn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),En=Oi&&ie("Google")&&Sn<537&&!("AudioNode"in window),Ve=!!window.opera,Bi=!Mi&&ie("chrome"),Ni=ie("gecko")&&!Ge&&!Ve&&!we,Mn=!Bi&&ie("safari"),ki=ie("phantom"),Di="OTransition"in Ue,On=navigator.platform.indexOf("Win")===0,zi=we&&"transition"in Ue,Je="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ai,Ke="MozPerspective"in Ue,An=!window.L_DISABLE_3D&&(zi||Je||Ke)&&!Di&&!ki,ee=typeof orientation<"u"||ie("mobile"),Bn=ee&&Ge,rn=ee&&Je,Zi=!window.PointerEvent&&window.MSPointerEvent,Ri=!!(window.PointerEvent||Zi),Xi="ontouchstart"in window||!!window.TouchEvent,Nn=!window.L_NO_TOUCH&&(Xi||Ri),kn=ee&&Ve,Dn=ee&&Ni,zn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zn=function(){var e=!1;try{var o=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",et,o),window.removeEventListener("testPassiveEventSupport",et,o)}catch{}return e}(),Rn=function(){return!!document.createElement("canvas").getContext}(),je=!!(document.createElementNS&&Si("svg").createSVGRect),Xn=!!je&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Yn=!je&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var o=e.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}();function ie(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var U={ie:we,ielt9:bn,edge:Mi,webkit:Ge,android:Oi,android23:Ai,androidStock:En,opera:Ve,chrome:Bi,gecko:Ni,safari:Mn,phantom:ki,opera12:Di,win:On,ie3d:zi,webkit3d:Je,gecko3d:Ke,any3d:An,mobile:ee,mobileWebkit:Bn,mobileWebkit3d:rn,msPointer:Zi,pointer:Ri,touch:Nn,touchNative:Xi,mobileOpera:kn,mobileGecko:Dn,retina:zn,passiveEvents:Zn,canvas:Rn,svg:je,vml:Yn,inlineSvg:Xn},Vt=U.msPointer?"MSPointerDown":"pointerdown",W=U.msPointer?"MSPointerMove":"pointermove",Yi=U.msPointer?"MSPointerUp":"pointerup",Fi=U.msPointer?"MSPointerCancel":"pointercancel",ci={touchstart:Vt,touchmove:W,touchend:Yi,touchcancel:Fi},Wi={touchstart:Hn,touchmove:$e,touchend:$e,touchcancel:$e},ve={},Hi=!1;function Be(e,o,h){return o==="touchstart"&&Wn(),Wi[o]?(h=Wi[o].bind(this,h),e.addEventListener(ci[o],h,!1),h):(console.warn("wrong event specified:",o),L.Util.falseFn)}function Ne(e,o,h){if(!ci[o]){console.warn("wrong event specified:",o);return}e.removeEventListener(ci[o],h,!1)}function an(e){ve[e.pointerId]=e}function Fn(e){ve[e.pointerId]&&(ve[e.pointerId]=e)}function hn(e){delete ve[e.pointerId]}function Wn(){Hi||(document.addEventListener(Vt,an,!0),document.addEventListener(W,Fn,!0),document.addEventListener(Yi,hn,!0),document.addEventListener(Fi,hn,!0),Hi=!0)}function $e(e,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var h in ve)o.touches.push(ve[h]);o.changedTouches=[o],e(o)}}function Hn(e,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&At(o),$e(e,o)}function ue(e){var o={},h,c;for(c in e)h=e[c],o[c]=h&&h.bind?h.bind(e):h;return e=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var qn=200;function Un(e,o){e.addEventListener("dblclick",o);var h=0,c;function p(y){if(y.detail!==1){c=y.detail;return}if(!(y.pointerType==="mouse"||y.sourceCapabilities&&!y.sourceCapabilities.firesTouchEvents)){var t=Date.now();t-h<=qn?(c++,c===2&&o(ue(y))):c=1,h=t}}return e.addEventListener("click",p),{dblclick:o,simDblclick:p}}function Gn(e,o){e.removeEventListener("dblclick",o.dblclick),e.removeEventListener("click",o.simDblclick)}var qi=s(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qe=s(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),di=Qe==="webkitTransition"||Qe==="OTransition"?Qe+"End":"transitionend";function ke(e){return typeof e=="string"?document.getElementById(e):e}function De(e,o){var h=e.style[o]||e.currentStyle&&e.currentStyle[o];if((!h||h==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(e,null);h=c?c[o]:null}return h==="auto"?null:h}function ft(e,o,h){var c=document.createElement(e);return c.className=o||"",h&&h.appendChild(c),c}function nt(e){var o=e.parentNode;o&&o.removeChild(e)}function ht(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function ct(e){var o=e.parentNode;o&&o.lastChild!==e&&o.appendChild(e)}function fe(e){var o=e.parentNode;o&&o.firstChild!==e&&o.insertBefore(e,o.firstChild)}function tt(e,o){if(e.classList!==void 0)return e.classList.contains(o);var h=xt(e);return h.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(h)}function $(e,o){if(e.classList!==void 0)for(var h=Et(o),c=0,p=h.length;c<p;c++)e.classList.add(h[c]);else if(!tt(e,o)){var y=xt(e);it(e,(y?y+" ":"")+o)}}function wt(e,o){e.classList!==void 0?e.classList.remove(o):it(e,Dt((" "+xt(e)+" ").replace(" "+o+" "," ")))}function it(e,o){e.className.baseVal===void 0?e.className=o:e.className.baseVal=o}function xt(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Yt(e,o){"opacity"in e.style?e.style.opacity=o:"filter"in e.style&&i(e,o)}function i(e,o){var h=!1,c="DXImageTransform.Microsoft.Alpha";try{h=e.filters.item(c)}catch{if(o===1)return}o=Math.round(o*100),h?(h.Enabled=o!==100,h.Opacity=o):e.style.filter+=" progid:"+c+"(opacity="+o+")"}function s(e){for(var o=document.documentElement.style,h=0;h<e.length;h++)if(e[h]in o)return e[h];return!1}function a(e,o,h){var c=o||new z(0,0);e.style[qi]=(U.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(h?" scale("+h+")":"")}function f(e,o){e._leaflet_pos=o,U.any3d?a(e,o):(e.style.left=o.x+"px",e.style.top=o.y+"px")}function d(e){return e._leaflet_pos||new z(0,0)}var m,g,w;if("onselectstart"in document)m=function(){J(window,"selectstart",At)},g=function(){F(window,"selectstart",At)};else{var C=s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);m=function(){if(C){var e=document.documentElement.style;w=e[C],e[C]="none"}},g=function(){C&&(document.documentElement.style[C]=w,w=void 0)}}function b(){J(window,"dragstart",At)}function A(){F(window,"dragstart",At)}var k,Y;function G(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(H(),k=e,Y=e.style.outline,e.style.outline="none",J(window,"keydown",H))}function H(){k&&(k.style.outline=Y,k=void 0,Y=void 0,F(window,"keydown",H))}function ot(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function pt(e){var o=e.getBoundingClientRect();return{x:o.width/e.offsetWidth||1,y:o.height/e.offsetHeight||1,boundingClientRect:o}}var Mt={__proto__:null,TRANSFORM:qi,TRANSITION:Qe,TRANSITION_END:di,get:ke,getStyle:De,create:ft,remove:nt,empty:ht,toFront:ct,toBack:fe,hasClass:tt,addClass:$,removeClass:wt,setClass:it,getClass:xt,setOpacity:Yt,testProp:s,setTransform:a,setPosition:f,getPosition:d,get disableTextSelection(){return m},get enableTextSelection(){return g},disableImageDrag:b,enableImageDrag:A,preventOutline:G,restoreOutline:H,getSizedParentNode:ot,getScale:pt};function J(e,o,h,c){if(o&&typeof o=="object")for(var p in o)ln(e,p,o[p],h);else{o=Et(o);for(var y=0,t=o.length;y<t;y++)ln(e,o[y],h,c)}return this}var ne="_leaflet_events";function F(e,o,h,c){if(arguments.length===1)Ot(e),delete e[ne];else if(o&&typeof o=="object")for(var p in o)Ui(e,p,o[p],h);else if(o=Et(o),arguments.length===2)Ot(e,function(n){return Ye(o,n)!==-1});else for(var y=0,t=o.length;y<t;y++)Ui(e,o[y],h,c);return this}function Ot(e,o){for(var h in e[ne]){var c=h.split(/\d/)[0];(!o||o(c))&&Ui(e,c,null,null,h)}}var mt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ln(e,o,h,c){var p=o+O(h)+(c?"_"+O(c):"");if(e[ne]&&e[ne][p])return this;var y=function(n){return h.call(c||e,n||window.event)},t=y;!U.touchNative&&U.pointer&&o.indexOf("touch")===0?y=Be(e,o,y):U.touch&&o==="dblclick"?y=Un(e,y):"addEventListener"in e?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?e.addEventListener(mt[o]||o,y,U.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(y=function(n){n=n||window.event,un(e,n)&&t(n)},e.addEventListener(mt[o],y,!1)):e.addEventListener(o,t,!1):e.attachEvent("on"+o,y),e[ne]=e[ne]||{},e[ne][p]=y}function Ui(e,o,h,c,p){p=p||o+O(h)+(c?"_"+O(c):"");var y=e[ne]&&e[ne][p];if(!y)return this;!U.touchNative&&U.pointer&&o.indexOf("touch")===0?Ne(e,o,y):U.touch&&o==="dblclick"?Gn(e,y):"removeEventListener"in e?e.removeEventListener(mt[o]||o,y,!1):e.detachEvent("on"+o,y),e[ne][p]=null}function Le(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Gi(e){return ln(e,"wheel",Le),this}function ce(e){return J(e,"mousedown touchstart dblclick contextmenu",Le),e._leaflet_disable_click=!0,this}function At(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function de(e){return At(e),Le(e),this}function Bt(e,o){if(!o)return new z(e.clientX,e.clientY);var h=pt(o),c=h.boundingClientRect;return new z((e.clientX-c.left)/h.x-o.clientLeft,(e.clientY-c.top)/h.y-o.clientTop)}var ti=U.win&&U.chrome?2*window.devicePixelRatio:U.gecko?window.devicePixelRatio:1;function Vn(e){return U.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/ti:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function un(e,o){var h=o.relatedTarget;if(!h)return!0;try{for(;h&&h!==e;)h=h.parentNode}catch{return!1}return h!==e}var Yo={__proto__:null,on:J,off:F,stopPropagation:Le,disableScrollPropagation:Gi,disableClickPropagation:ce,preventDefault:At,stop:de,getMousePosition:Bt,getWheelDelta:Vn,isExternalTarget:un,addListener:J,removeListener:F},Jn=he.extend({run:function(e,o,h,c){this.stop(),this._el=e,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=d(e),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=dt(this._animate,this),this._step()},_step:function(e){var o=+new Date-this._startTime,h=this._duration*1e3;o<h?this._runFrame(this._easeOut(o/h),e):(this._runFrame(1),this._complete())},_runFrame:function(e,o){var h=this._startPos.add(this._offset.multiplyBy(e));o&&h._round(),f(this._el,h),this.fire("step")},_complete:function(){_t(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),lt=he.extend({options:{crs:qe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,o){o=K(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=N(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(q(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Qe&&U.any3d&&!U.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),J(this._proxy,di,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,o,h){if(o=o===void 0?this._zoom:this._limitZoom(o),e=this._limitCenter(q(e),o,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=E({animate:h.animate},h.zoom),h.pan=E({animate:h.animate,duration:h.duration},h.pan));var c=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,o,h.zoom):this._tryAnimatedPan(e,h.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(e,o),this},setZoom:function(e,o){return this._loaded?this.setView(this.getCenter(),e,{zoom:o}):(this._zoom=e,this)},zoomIn:function(e,o){return e=e||(U.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,o)},zoomOut:function(e,o){return e=e||(U.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,o)},setZoomAround:function(e,o,h){var c=this.getZoomScale(o),p=this.getSize().divideBy(2),y=e instanceof z?e:this.latLngToContainerPoint(e),t=y.subtract(p).multiplyBy(1-1/c),n=this.containerPointToLatLng(p.add(t));return this.setView(n,o,{zoom:h})},_getBoundsCenterZoom:function(e,o){o=o||{},e=e.getBounds?e.getBounds():st(e);var h=R(o.paddingTopLeft||o.padding||[0,0]),c=R(o.paddingBottomRight||o.padding||[0,0]),p=this.getBoundsZoom(e,!1,h.add(c));if(p=typeof o.maxZoom=="number"?Math.min(o.maxZoom,p):p,p===1/0)return{center:e.getCenter(),zoom:p};var y=c.subtract(h).divideBy(2),t=this.project(e.getSouthWest(),p),n=this.project(e.getNorthEast(),p),r=this.unproject(t.add(n).divideBy(2).add(y),p);return{center:r,zoom:p}},fitBounds:function(e,o){if(e=st(e),!e.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(e,o);return this.setView(h.center,h.zoom,o)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,o){return this.setView(e,this._zoom,{pan:o})},panBy:function(e,o){if(e=R(e).round(),o=o||{},!e.x&&!e.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Jn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){$(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,h,o.duration||.25,o.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,o,h){if(h=h||{},h.animate===!1||!U.any3d)return this.setView(e,o,h);this._stop();var c=this.project(this.getCenter()),p=this.project(e),y=this.getSize(),t=this._zoom;e=q(e),o=o===void 0?t:o;var n=Math.max(y.x,y.y),r=n*this.getZoomScale(t,o),u=p.distanceTo(c)||1,_=1.42,v=_*_;function x(Ct){var yn=Ct?-1:1,ts=Ct?r:n,Ro=r*r-n*n+yn*v*v*u*u,es=2*ts*v*u,Pn=Ro/es,Tt=Math.sqrt(Pn*Pn+1)-Pn,xn=Tt<1e-9?-18:Math.log(Tt);return xn}function I(Ct){return(Math.exp(Ct)-Math.exp(-Ct))/2}function S(Ct){return(Math.exp(Ct)+Math.exp(-Ct))/2}function B(Ct){return I(Ct)/S(Ct)}var X=x(0);function j(Ct){return n*(S(X)/S(X+_*Ct))}function at(Ct){return n*(S(X)*B(X+_*Ct)-I(X))/v}function Ft(Ct){return 1-Math.pow(1-Ct,1.5)}var Nt=Date.now(),te=(x(1)-X)/_,Ht=h.duration?1e3*h.duration:1e3*te*.8;function hi(){var Ct=(Date.now()-Nt)/Ht,yn=Ft(Ct)*te;Ct<=1?(this._flyToFrame=dt(hi,this),this._move(this.unproject(c.add(p.subtract(c).multiplyBy(at(yn)/u)),t),this.getScaleZoom(n/j(yn),t),{flyTo:!0})):this._move(e,o)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),hi.call(this),this},flyToBounds:function(e,o){var h=this._getBoundsCenterZoom(e,o);return this.flyTo(h.center,h.zoom,o)},setMaxBounds:function(e){if(e=st(e),e.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);return this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(e){var o=this.options.minZoom;return this.options.minZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var o=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,o){this._enforcingBounds=!0;var h=this.getCenter(),c=this._limitCenter(h,this._zoom,st(e));return h.equals(c)||this.panTo(c,o),this._enforcingBounds=!1,this},panInside:function(e,o){o=o||{};var h=R(o.paddingTopLeft||o.padding||[0,0]),c=R(o.paddingBottomRight||o.padding||[0,0]),p=this.project(this.getCenter()),y=this.project(e),t=this.getPixelBounds(),n=Pt([t.min.add(h),t.max.subtract(c)]),r=n.getSize();if(!n.contains(y)){this._enforcingBounds=!0;var u=y.subtract(n.getCenter()),_=n.extend(y).getSize().subtract(r);p.x+=u.x<0?-_.x:_.x,p.y+=u.y<0?-_.y:_.y,this.panTo(this.unproject(p),o),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=E({animate:!1,pan:!0},e===!0?{animate:!0}:e);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),c=o.divideBy(2).round(),p=h.divideBy(2).round(),y=c.subtract(p);return!y.x&&!y.y?this:(e.animate&&e.pan?this.panBy(y):(e.pan&&this._rawPanBy(y),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(N(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=E({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=N(this._handleGeolocationResponse,this),h=N(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,h,e):navigator.geolocation.getCurrentPosition(o,h,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var o=e.code,h=e.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var o=e.coords.latitude,h=e.coords.longitude,c=new V(o,h),p=c.toBounds(e.coords.accuracy*2),y=this._locateOptions;if(y.setView){var t=this.getBoundsZoom(p);this.setView(c,y.maxZoom?Math.min(t,y.maxZoom):t)}var n={latlng:c,bounds:p,timestamp:e.timestamp};for(var r in e.coords)typeof e.coords[r]=="number"&&(n[r]=e.coords[r]);this.fire("locationfound",n)}},addHandler:function(e,o){if(!o)return this;var h=this[e]=new o(this);return this._handlers.push(h),this.options[e]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(_t(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)nt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,o){var h="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),c=ft("div",h,o||this._mapPane);return e&&(this._panes[e]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),o=this.unproject(e.getBottomLeft()),h=this.unproject(e.getTopRight());return new ut(o,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,o,h){e=st(e),h=R(h||[0,0]);var c=this.getZoom()||0,p=this.getMinZoom(),y=this.getMaxZoom(),t=e.getNorthWest(),n=e.getSouthEast(),r=this.getSize().subtract(h),u=Pt(this.project(n,c),this.project(t,c)).getSize(),_=U.any3d?this.options.zoomSnap:1,v=r.x/u.x,x=r.y/u.y,I=o?Math.max(v,x):Math.min(v,x);return c=this.getScaleZoom(I,c),_&&(c=Math.round(c/(_/100))*(_/100),c=o?Math.ceil(c/_)*_:Math.floor(c/_)*_),Math.max(p,Math.min(y,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,o){var h=this._getTopLeftPoint(e,o);return new Q(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,o){var h=this.options.crs;return o=o===void 0?this._zoom:o,h.scale(e)/h.scale(o)},getScaleZoom:function(e,o){var h=this.options.crs;o=o===void 0?this._zoom:o;var c=h.zoom(e*h.scale(o));return isNaN(c)?1/0:c},project:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(q(e),o)},unproject:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(R(e),o)},layerPointToLatLng:function(e){var o=R(e).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(e){var o=this.project(q(e))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(q(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(st(e))},distance:function(e,o){return this.options.crs.distance(q(e),q(o))},containerPointToLayerPoint:function(e){return R(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return R(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var o=this.containerPointToLayerPoint(R(e));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(e)))},mouseEventToContainerPoint:function(e){return Bt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var o=this._container=ke(e);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");J(o,"scroll",this._onScroll,this),this._containerId=O(o)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&U.any3d,$(e,"leaflet-container"+(U.touch?" leaflet-touch":"")+(U.retina?" leaflet-retina":"")+(U.ielt9?" leaflet-oldie":"")+(U.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=De(e,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),f(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||($(e.markerPane,"leaflet-zoom-hide"),$(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,o){f(this._mapPane,new z(0,0));var h=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var c=this._zoom!==o;this._moveStart(c,!1)._move(e,o)._moveEnd(c),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(e,o){return e&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(e,o,h,c){o===void 0&&(o=this._zoom);var p=this._zoom!==o;return this._zoom=o,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),c?h&&h.pinch&&this.fire("zoom",h):((p||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return _t(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){f(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[O(this._container)]=this;var o=e?F:J;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),U.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){_t(this._resizeRequest),this._resizeRequest=dt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,o){for(var h=[],c,p=o==="mouseout"||o==="mouseover",y=e.target||e.srcElement,t=!1;y;){if(c=this._targets[O(y)],c&&(o==="click"||o==="preclick")&&this._draggableMoved(c)){t=!0;break}if(c&&c.listens(o,!0)&&(p&&!un(y,e)||(h.push(c),p))||y===this._container)break;y=y.parentNode}return!h.length&&!t&&!p&&this.listens(o,!0)&&(h=[this]),h},_isClickDisabled:function(e){for(;e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var o=e.target||e.srcElement;if(!(!this._loaded||o._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(o))){var h=e.type;h==="mousedown"&&G(o),this._fireDOMEvent(e,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,o,h){if(e.type==="click"){var c=E({},e);c.type="preclick",this._fireDOMEvent(c,c.type,h)}var p=this._findEventTargets(e,o);if(h){for(var y=[],t=0;t<h.length;t++)h[t].listens(o,!0)&&y.push(h[t]);p=y.concat(p)}if(p.length){o==="contextmenu"&&At(e);var n=p[0],r={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var u=n.getLatLng&&(!n._radius||n._radius<=10);r.containerPoint=u?this.latLngToContainerPoint(n.getLatLng()):this.mouseEventToContainerPoint(e),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=u?n.getLatLng():this.layerPointToLatLng(r.layerPoint)}for(t=0;t<p.length;t++)if(p[t].fire(o,r,!0),r.originalEvent._stopped||p[t].options.bubblingMouseEvents===!1&&Ye(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,o=this._handlers.length;e<o;e++)this._handlers[e].disable()},whenReady:function(e,o){return this._loaded?e.call(o||this,{target:this}):this.on("load",e,o),this},_getMapPanePos:function(){return d(this._mapPane)||new z(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,o){var h=e&&o!==void 0?this._getNewPixelOrigin(e,o):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,o){var h=this.getSize()._divideBy(2);return this.project(e,o)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,o,h){var c=this._getNewPixelOrigin(h,o);return this.project(e,o)._subtract(c)},_latLngBoundsToNewLayerBounds:function(e,o,h){var c=this._getNewPixelOrigin(h,o);return Pt([this.project(e.getSouthWest(),o)._subtract(c),this.project(e.getNorthWest(),o)._subtract(c),this.project(e.getSouthEast(),o)._subtract(c),this.project(e.getNorthEast(),o)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,o,h){if(!h)return e;var c=this.project(e,o),p=this.getSize().divideBy(2),y=new Q(c.subtract(p),c.add(p)),t=this._getBoundsOffset(y,h,o);return t.round().equals([0,0])?e:this.unproject(c.add(t),o)},_limitOffset:function(e,o){if(!o)return e;var h=this.getPixelBounds(),c=new Q(h.min.add(e),h.max.add(e));return e.add(this._getBoundsOffset(c,o))},_getBoundsOffset:function(e,o,h){var c=Pt(this.project(o.getNorthEast(),h),this.project(o.getSouthWest(),h)),p=c.min.subtract(e.min),y=c.max.subtract(e.max),t=this._rebound(p.x,-y.x),n=this._rebound(p.y,-y.y);return new z(t,n)},_rebound:function(e,o){return e+o>0?Math.round(e-o)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(o))},_limitZoom:function(e){var o=this.getMinZoom(),h=this.getMaxZoom(),c=U.any3d?this.options.zoomSnap:1;return c&&(e=Math.round(e/c)*c),Math.max(o,Math.min(h,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,o){var h=this._getCenterOffset(e)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,o),!0)},_createAnimProxy:function(){var e=this._proxy=ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(o){var h=qi,c=this._proxy.style[h];a(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),c===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),o=this.getZoom();a(this._proxy,this.project(e,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,o,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(o),p=this._getCenterOffset(e)._divideBy(1-1/c);return h.animate!==!0&&!this.getSize().contains(p)?!1:(dt(function(){this._moveStart(!0,!1)._animateZoom(e,o,!0)},this),!0)},_animateZoom:function(e,o,h,c){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=o,$(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:o,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(N(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fo(e,o){return new lt(e,o)}var oe=It.extend({options:{position:"topright"},initialize:function(e){K(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var o=this._map;return o&&o.removeControl(this),this.options.position=e,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var o=this._container=this.onAdd(e),h=this.getPosition(),c=e._controlCorners[h];return $(o,"leaflet-control"),h.indexOf("bottom")!==-1?c.insertBefore(o,c.firstChild):c.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(nt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),rt=function(e){return new oe(e)};lt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},o="leaflet-",h=this._controlContainer=ft("div",o+"control-container",this._container);function c(p,y){var t=o+p+" "+o+y;e[p+y]=ft("div",t,h)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)nt(this._controlCorners[e]);nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Po=oe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,o,h,c){return h<c?-1:c<h?1:0}},initialize:function(e,o,h){K(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var c in e)this._addLayer(e[c],c);for(c in o)this._addLayer(o[c],c,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return oe.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,o){return this._addLayer(e,o),this._map?this._update():this},addOverlay:function(e,o){return this._addLayer(e,o,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var o=this._getLayer(O(e));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){$(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?($(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",o=this._container=ft("div",e),h=this.options.collapsed;o.setAttribute("aria-haspopup",!0),ce(o),Gi(o);var c=this._section=ft("section",e+"-list");h&&(this._map.on("click",this.collapse,this),J(o,{mouseenter:function(){J(c,"click",At),this.expand(),setTimeout(function(){F(c,"click",At)})},mouseleave:this.collapse},this));var p=this._layersLink=ft("a",e+"-toggle",o);p.href="#",p.title="Layers",p.setAttribute("role","button"),J(p,"click",At),J(p,"focus",this.expand,this),h||this.expand(),this._baseLayersList=ft("div",e+"-base",c),this._separator=ft("div",e+"-separator",c),this._overlaysList=ft("div",e+"-overlays",c),o.appendChild(c)},_getLayer:function(e){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&O(this._layers[o].layer)===e)return this._layers[o]},_addLayer:function(e,o,h){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:o,overlay:h}),this.options.sortLayers&&this._layers.sort(N(function(c,p){return this.options.sortFunction(c.layer,p.layer,c.name,p.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ht(this._baseLayersList),ht(this._overlaysList),this._layerControlInputs=[];var e,o,h,c,p=0;for(h=0;h<this._layers.length;h++)c=this._layers[h],this._addItem(c),o=o||c.overlay,e=e||!c.overlay,p+=c.overlay?0:1;return this.options.hideSingleBase&&(e=e&&p>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=o&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var o=this._getLayer(O(e.target)),h=o.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;h&&this._map.fire(h,o)},_createRadioElement:function(e,o){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(o?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=h,c.firstChild},_addItem:function(e){var o=document.createElement("label"),h=this._map.hasLayer(e.layer),c;e.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=h):c=this._createRadioElement("leaflet-base-layers_"+O(this),h),this._layerControlInputs.push(c),c.layerId=O(e.layer),J(c,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+e.name;var y=document.createElement("span");o.appendChild(y),y.appendChild(c),y.appendChild(p);var t=e.overlay?this._overlaysList:this._baseLayersList;return t.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){var e=this._layerControlInputs,o,h,c=[],p=[];this._handlingClick=!0;for(var y=e.length-1;y>=0;y--)o=e[y],h=this._getLayer(o.layerId).layer,o.checked?c.push(h):o.checked||p.push(h);for(y=0;y<p.length;y++)this._map.hasLayer(p[y])&&this._map.removeLayer(p[y]);for(y=0;y<c.length;y++)this._map.hasLayer(c[y])||this._map.addLayer(c[y]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,o,h,c=this._map.getZoom(),p=e.length-1;p>=0;p--)o=e[p],h=this._getLayer(o.layerId).layer,o.disabled=h.options.minZoom!==void 0&&c<h.options.minZoom||h.options.maxZoom!==void 0&&c>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),_e=function(e,o,h){return new Po(e,o,h)},ei=oe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var o="leaflet-control-zoom",h=ft("div",o+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,o+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,o+"-out",h,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,o,h,c,p){var y=ft("a",h,c);return y.innerHTML=e,y.href="#",y.title=o,y.setAttribute("role","button"),y.setAttribute("aria-label",o),ce(y),J(y,"click",de),J(y,"click",p,this),J(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var e=this._map,o="leaflet-disabled";wt(this._zoomInButton,o),wt(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&($(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&($(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});lt.mergeOptions({zoomControl:!0}),lt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ei,this.addControl(this.zoomControl))});var xo=function(e){return new ei(e)},wo=oe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var o="leaflet-control-scale",h=ft("div",o),c=this.options;return this._addScales(c,o+"-line",h),e.on(c.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),h},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,o,h){e.metric&&(this._mScale=ft("div",o,h)),e.imperial&&(this._iScale=ft("div",o,h))},_update:function(){var e=this._map,o=e.getSize().y/2,h=e.distance(e.containerPointToLatLng([0,o]),e.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(h)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var o=this._getRoundNum(e),h=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,h,o/e)},_updateImperial:function(e){var o=e*3.2808399,h,c,p;o>5280?(h=o/5280,c=this._getRoundNum(h),this._updateScale(this._iScale,c+" mi",c/h)):(p=this._getRoundNum(o),this._updateScale(this._iScale,p+" ft",p/o))},_updateScale:function(e,o,h){e.style.width=Math.round(this.options.maxWidth*h)+"px",e.innerHTML=o},_getRoundNum:function(e){var o=Math.pow(10,(Math.floor(e)+"").length-1),h=e/o;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,o*h}}),Kn=function(e){return new wo(e)},Wo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fn=oe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(U.inlineSvg?Wo+" ":"")+"Leaflet</a>"},initialize:function(e){K(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=ft("div","leaflet-control-attribution"),ce(this._container);for(var o in e._layers)e._layers[o].getAttribution&&this.addAttribution(e._layers[o].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var o in this._attributions)this._attributions[o]&&e.push(o);var h=[];this.options.prefix&&h.push(this.options.prefix),e.length&&h.push(e.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});lt.mergeOptions({attributionControl:!0}),lt.addInitHook(function(){this.options.attributionControl&&new fn().addTo(this)});var Ho=function(e){return new fn(e)};oe.Layers=Po,oe.Zoom=ei,oe.Scale=wo,oe.Attribution=fn,rt.layers=_e,rt.zoom=xo,rt.scale=Kn,rt.attribution=Ho;var ge=It.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ge.addTo=function(e,o){return e.addHandler(o,this),this};var jn={Events:yt},Lo=U.touch?"touchstart mousedown":"mousedown",Zt=he.extend({options:{clickTolerance:3},initialize:function(e,o,h,c){K(this,c),this._element=e,this._dragStartTarget=o||e,this._preventOutline=h},enable:function(){this._enabled||(J(this._dragStartTarget,Lo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Zt._dragging===this&&this.finishDrag(!0),F(this._dragStartTarget,Lo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!tt(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Zt._dragging===this&&this.finishDrag();return}if(!(Zt._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Zt._dragging=this,this._preventOutline&&G(this._element),b(),m(),!this._moving)){this.fire("down");var o=e.touches?e.touches[0]:e,h=ot(this._element);this._startPoint=new z(o.clientX,o.clientY),this._startPos=d(this._element),this._parentScale=pt(h);var c=e.type==="mousedown";J(document,c?"mousemove":"touchmove",this._onMove,this),J(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var o=e.touches&&e.touches.length===1?e.touches[0]:e,h=new z(o.clientX,o.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,At(e),this._moved||(this.fire("dragstart"),this._moved=!0,$(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),$(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),f(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){wt(document.body,"leaflet-dragging"),this._lastTarget&&(wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),F(document,"mousemove touchmove",this._onMove,this),F(document,"mouseup touchend touchcancel",this._onUp,this),A(),g(),this._moved&&this._moving&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Zt._dragging=!1}});function To(e,o){if(!o||!e.length)return e.slice();var h=o*o;return e=Qn(e,h),e=Co(e,h),e}function $n(e,o,h){return Math.sqrt(ni(e,o,h,!0))}function ze(e,o,h){return ni(e,o,h)}function Co(e,o){var h=e.length,c=typeof Uint8Array!=void 0+""?Uint8Array:Array,p=new c(h);p[0]=p[h-1]=1,cn(e,p,o,0,h-1);var y,t=[];for(y=0;y<h;y++)p[y]&&t.push(e[y]);return t}function cn(e,o,h,c,p){var y=0,t,n,r;for(n=c+1;n<=p-1;n++)r=ni(e[n],e[c],e[p],!0),r>y&&(t=n,y=r);y>h&&(o[t]=1,cn(e,o,h,c,t),cn(e,o,h,t,p))}function Qn(e,o){for(var h=[e[0]],c=1,p=0,y=e.length;c<y;c++)qo(e[c],e[p])>o&&(h.push(e[c]),p=c);return p<y-1&&h.push(e[y-1]),h}var Io;function to(e,o,h,c,p){var y=c?Io:ii(e,h),t=ii(o,h),n,r,u;for(Io=t;;){if(!(y|t))return[e,o];if(y&t)return!1;n=y||t,r=Vi(e,o,n,h,p),u=ii(r,h),n===y?(e=r,y=u):(o=r,t=u)}}function Vi(e,o,h,c,p){var y=o.x-e.x,t=o.y-e.y,n=c.min,r=c.max,u,_;return h&8?(u=e.x+y*(r.y-e.y)/t,_=r.y):h&4?(u=e.x+y*(n.y-e.y)/t,_=n.y):h&2?(u=r.x,_=e.y+t*(r.x-e.x)/y):h&1&&(u=n.x,_=e.y+t*(n.x-e.x)/y),new z(u,_,p)}function ii(e,o){var h=0;return e.x<o.min.x?h|=1:e.x>o.max.x&&(h|=2),e.y<o.min.y?h|=4:e.y>o.max.y&&(h|=8),h}function qo(e,o){var h=o.x-e.x,c=o.y-e.y;return h*h+c*c}function ni(e,o,h,c){var p=o.x,y=o.y,t=h.x-p,n=h.y-y,r=t*t+n*n,u;return r>0&&(u=((e.x-p)*t+(e.y-y)*n)/r,u>1?(p=h.x,y=h.y):u>0&&(p+=t*u,y+=n*u)),t=e.x-p,n=e.y-y,c?t*t+n*n:new z(p,y)}function Te(e){return!Lt(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function eo(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Te(e)}var bo={__proto__:null,simplify:To,pointToSegmentDistance:$n,closestPointOnSegment:ze,clipSegment:to,_getEdgeIntersection:Vi,_getBitCode:ii,_sqClosestPointOnSegment:ni,isFlat:Te,_flat:eo};function Ji(e,o,h){var c,p=[1,4,2,8],y,t,n,r,u,_,v,x;for(y=0,_=e.length;y<_;y++)e[y]._code=ii(e[y],o);for(n=0;n<4;n++){for(v=p[n],c=[],y=0,_=e.length,t=_-1;y<_;t=y++)r=e[y],u=e[t],r._code&v?u._code&v||(x=Vi(u,r,v,o,h),x._code=ii(x,o),c.push(x)):(u._code&v&&(x=Vi(u,r,v,o,h),x._code=ii(x,o),c.push(x)),c.push(r));e=c}return e}var oi={__proto__:null,clipPolygon:Ji},io={project:function(e){return new z(e.lng,e.lat)},unproject:function(e){return new V(e.y,e.x)},bounds:new Q([-180,-90],[180,90])},si={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var o=Math.PI/180,h=this.R,c=e.lat*o,p=this.R_MINOR/h,y=Math.sqrt(1-p*p),t=y*Math.sin(c),n=Math.tan(Math.PI/4-c/2)/Math.pow((1-t)/(1+t),y/2);return c=-h*Math.log(Math.max(n,1e-10)),new z(e.lng*o*h,c)},unproject:function(e){for(var o=180/Math.PI,h=this.R,c=this.R_MINOR/h,p=Math.sqrt(1-c*c),y=Math.exp(-e.y/h),t=Math.PI/2-2*Math.atan(y),n=0,r=.1,u;n<15&&Math.abs(r)>1e-7;n++)u=p*Math.sin(t),u=Math.pow((1-u)/(1+u),p/2),r=Math.PI/2-2*Math.atan(y*u)-t,t+=r;return new V(t*o,e.x*o/h)}},se={__proto__:null,LonLat:io,Mercator:si,SphericalMercator:Gt},So=E({},zt,{code:"EPSG:3395",projection:si,transformation:function(){var e=.5/(Math.PI*si.R);return le(e,.5,-e,.5)}()}),no=E({},zt,{code:"EPSG:4326",projection:io,transformation:le(1/180,1,-1/180,.5)}),Uo=E({},bt,{projection:io,transformation:le(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,o){var h=o.lng-e.lng,c=o.lat-e.lat;return Math.sqrt(h*h+c*c)},infinite:!0});bt.Earth=zt,bt.EPSG3395=So,bt.EPSG3857=qe,bt.EPSG900913=In,bt.EPSG4326=no,bt.Simple=Uo;var Jt=he.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[O(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[O(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var o=e.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var h=this.getEvents();o.on(h,this),this.once("remove",function(){o.off(h,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});lt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var o=O(e);return this._layers[o]?this:(this._layers[o]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var o=O(e);return this._layers[o]?(this._loaded&&e.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return O(e)in this._layers},eachLayer:function(e,o){for(var h in this._layers)e.call(o,this._layers[h]);return this},_addLayers:function(e){e=e?Lt(e)?e:[e]:[];for(var o=0,h=e.length;o<h;o++)this.addLayer(e[o])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[O(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var o=O(e);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,o=-1/0,h=this._getZoomSpan();for(var c in this._zoomBoundLayers){var p=this._zoomBoundLayers[c].options;e=p.minZoom===void 0?e:Math.min(e,p.minZoom),o=p.maxZoom===void 0?o:Math.max(o,p.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=e===1/0?void 0:e,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ze=Jt.extend({initialize:function(e,o){K(this,o),this._layers={};var h,c;if(e)for(h=0,c=e.length;h<c;h++)this.addLayer(e[h])},addLayer:function(e){var o=this.getLayerId(e);return this._layers[o]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var o=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(e){var o=typeof e=="number"?e:this.getLayerId(e);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var o=Array.prototype.slice.call(arguments,1),h,c;for(h in this._layers)c=this._layers[h],c[e]&&c[e].apply(c,o);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,o){for(var h in this._layers)e.call(o,this._layers[h]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return O(e)}}),Go=function(e,o){return new Ze(e,o)},_i=Ze.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Ze.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Ze.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new ut;for(var o in this._layers){var h=this._layers[o];e.extend(h.getBounds?h.getBounds():h.getLatLng())}return e}}),Eo=function(e,o){return new _i(e,o)},pi=It.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){K(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,o){var h=this._getIconUrl(e);if(!h){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(h,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(c,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(e,o){var h=this.options,c=h[o+"Size"];typeof c=="number"&&(c=[c,c]);var p=R(c),y=R(o==="shadow"&&h.shadowAnchor||h.iconAnchor||p&&p.divideBy(2,!0));e.className="leaflet-marker-"+o+" "+(h.className||""),y&&(e.style.marginLeft=-y.x+"px",e.style.marginTop=-y.y+"px"),p&&(e.style.width=p.x+"px",e.style.height=p.y+"px")},_createImg:function(e,o){return o=o||document.createElement("img"),o.src=e,o},_getIconUrl:function(e){return U.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function pe(e){return new pi(e)}var ye=pi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof ye.imagePath!="string"&&(ye.imagePath=this._detectIconPath()),(this.options.imagePath||ye.imagePath)+pi.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var o=function(h,c,p){var y=c.exec(h);return y&&y[p]};return e=o(e,/^url\((['"])?(.+)\1\)$/,2),e&&o(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ft("div","leaflet-default-icon-path",document.body),o=De(e,"background-image")||De(e,"backgroundImage");if(document.body.removeChild(e),o=this._stripUrl(o),o)return o;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Mo=ge.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Zt(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),$(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var o=this._marker,h=o._map,c=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,y=d(o._icon),t=h.getPixelBounds(),n=h.getPixelOrigin(),r=Pt(t.min._subtract(n).add(p),t.max._subtract(n).subtract(p));if(!r.contains(y)){var u=R((Math.max(r.max.x,y.x)-r.max.x)/(t.max.x-r.max.x)-(Math.min(r.min.x,y.x)-r.min.x)/(t.min.x-r.min.x),(Math.max(r.max.y,y.y)-r.max.y)/(t.max.y-r.max.y)-(Math.min(r.min.y,y.y)-r.min.y)/(t.min.y-r.min.y)).multiplyBy(c);h.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),f(o._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=dt(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(_t(this._panRequest),this._panRequest=dt(this._adjustPan.bind(this,e)))},_onDrag:function(e){var o=this._marker,h=o._shadow,c=d(o._icon),p=o._map.layerPointToLatLng(c);h&&f(h,c),o._latlng=p,e.latlng=p,e.oldLatLng=this._oldLatLng,o.fire("move",e).fire("drag",e)},_onDragEnd:function(e){_t(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),re=Jt.extend({options:{icon:new ye,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,o){K(this,o),this._latlng=q(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var o=this._latlng;return this._latlng=q(e),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=e.icon.createIcon(this._icon),c=!1;h!==this._icon&&(this._icon&&this._removeIcon(),c=!0,e.title&&(h.title=e.title),h.tagName==="IMG"&&(h.alt=e.alt||"")),$(h,o),e.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&J(h,"focus",this._panOnFocus,this);var p=e.icon.createShadow(this._shadow),y=!1;p!==this._shadow&&(this._removeShadow(),y=!0),p&&($(p,o),p.alt=""),this._shadow=p,e.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&y&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&F(this._icon,"focus",this._panOnFocus,this),nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&f(this._icon,e),this._shadow&&f(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&($(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mo)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mo(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Yt(this._icon,e),this._shadow&&Yt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var o=this.options.icon.options,h=o.iconSize?R(o.iconSize):R(0,0),c=o.iconAnchor?R(o.iconAnchor):R(0,0);e.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:h.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Vo(e,o){return new re(e,o)}var Kt=Jt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return K(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),dn=Kt.extend({options:{fill:!0,radius:10},initialize:function(e,o){K(this,o),this._latlng=q(e),this._radius=this.options.radius},setLatLng:function(e){var o=this._latlng;return this._latlng=q(e),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var o=e&&e.radius||this._radius;return Kt.prototype.setStyle.call(this,e),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,o=this._radiusY||e,h=this._clickTolerance(),c=[e+h,o+h];this._pxBounds=new Q(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ki(e,o){return new dn(e,o)}var _n=dn.extend({initialize:function(e,o,h){if(typeof o=="number"&&(o=E({},h,{radius:o})),K(this,o),this._latlng=q(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new ut(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Kt.prototype.setStyle,_project:function(){var e=this._latlng.lng,o=this._latlng.lat,h=this._map,c=h.options.crs;if(c.distance===zt.distance){var p=Math.PI/180,y=this._mRadius/zt.R/p,t=h.project([o+y,e]),n=h.project([o-y,e]),r=t.add(n).divideBy(2),u=h.unproject(r).lat,_=Math.acos((Math.cos(y*p)-Math.sin(o*p)*Math.sin(u*p))/(Math.cos(o*p)*Math.cos(u*p)))/p;(isNaN(_)||_===0)&&(_=y/Math.cos(Math.PI/180*o)),this._point=r.subtract(h.getPixelOrigin()),this._radius=isNaN(_)?0:r.x-h.project([u,e-_]).x,this._radiusY=r.y-t.y}else{var v=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(v).x}this._updateBounds()}});function pn(e,o,h){return new _n(e,o,h)}var Ce=Kt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,o){K(this,o),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var o=1/0,h=null,c=ni,p,y,t=0,n=this._parts.length;t<n;t++)for(var r=this._parts[t],u=1,_=r.length;u<_;u++){p=r[u-1],y=r[u];var v=c(e,p,y,!0);v<o&&(o=v,h=c(e,p,y))}return h&&(h.distance=Math.sqrt(o)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,o,h,c,p,y,t,n=this._rings[0],r=n.length;if(!r)return null;for(e=0,o=0;e<r-1;e++)o+=n[e].distanceTo(n[e+1])/2;if(o===0)return this._map.layerPointToLatLng(n[0]);for(e=0,c=0;e<r-1;e++)if(p=n[e],y=n[e+1],h=p.distanceTo(y),c+=h,c>o)return t=(c-o)/h,this._map.layerPointToLatLng([y.x-t*(y.x-p.x),y.y-t*(y.y-p.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,o){return o=o||this._defaultShape(),e=q(e),o.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new ut,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Te(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var o=[],h=Te(e),c=0,p=e.length;c<p;c++)h?(o[c]=q(e[c]),this._bounds.extend(o[c])):o[c]=this._convertLatLngs(e[c]);return o},_project:function(){var e=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),o=new z(e,e);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(e,o,h){var c=e[0]instanceof V,p=e.length,y,t;if(c){for(t=[],y=0;y<p;y++)t[y]=this._map.latLngToLayerPoint(e[y]),h.extend(t[y]);o.push(t)}else for(y=0;y<p;y++)this._projectLatlngs(e[y],o,h)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,h,c,p,y,t,n,r;for(h=0,p=0,y=this._rings.length;h<y;h++)for(r=this._rings[h],c=0,t=r.length;c<t-1;c++)n=to(r[c],r[c+1],e,c,!0),n&&(o[p]=o[p]||[],o[p].push(n[0]),(n[1]!==r[c+1]||c===t-2)&&(o[p].push(n[1]),p++))}},_simplifyPoints:function(){for(var e=this._parts,o=this.options.smoothFactor,h=0,c=e.length;h<c;h++)e[h]=To(e[h],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,o){var h,c,p,y,t,n,r=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(h=0,y=this._parts.length;h<y;h++)for(n=this._parts[h],c=0,t=n.length,p=t-1;c<t;p=c++)if(!(!o&&c===0)&&$n(e,n[p],n[c])<=r)return!0;return!1}});function Re(e,o){return new Ce(e,o)}Ce._flat=eo;var Ie=Ce.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,o,h,c,p,y,t,n,r,u=this._rings[0],_=u.length;if(!_)return null;for(y=t=n=0,e=0,o=_-1;e<_;o=e++)h=u[e],c=u[o],p=h.y*c.x-c.y*h.x,t+=(h.x+c.x)*p,n+=(h.y+c.y)*p,y+=p*3;return y===0?r=u[0]:r=[t/y,n/y],this._map.layerPointToLatLng(r)},_convertLatLngs:function(e){var o=Ce.prototype._convertLatLngs.call(this,e),h=o.length;return h>=2&&o[0]instanceof V&&o[0].equals(o[h-1])&&o.pop(),o},_setLatLngs:function(e){Ce.prototype._setLatLngs.call(this,e),Te(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Te(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,o=this.options.weight,h=new z(o,o);if(e=new Q(e.min.subtract(h),e.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,p=this._rings.length,y;c<p;c++)y=Ji(this._rings[c],e,!0),y.length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var o=!1,h,c,p,y,t,n,r,u;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(y=0,r=this._parts.length;y<r;y++)for(h=this._parts[y],t=0,u=h.length,n=u-1;t<u;n=t++)c=h[t],p=h[n],c.y>e.y!=p.y>e.y&&e.x<(p.x-c.x)*(e.y-c.y)/(p.y-c.y)+c.x&&(o=!o);return o||Ce.prototype._containsPoint.call(this,e,!0)}});function Jo(e,o){return new Ie(e,o)}var me=_i.extend({initialize:function(e,o){K(this,o),this._layers={},e&&this.addData(e)},addData:function(e){var o=Lt(e)?e:e.features,h,c,p;if(o){for(h=0,c=o.length;h<c;h++)p=o[h],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var y=this.options;if(y.filter&&!y.filter(e))return this;var t=oo(e,y);return t?(t.feature=ji(e),t.defaultOptions=t.options,this.resetStyle(t),y.onEachFeature&&y.onEachFeature(e,t),this.addLayer(t)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=E({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(o){this._setLayerStyle(o,e)},this)},_setLayerStyle:function(e,o){e.setStyle&&(typeof o=="function"&&(o=o(e.feature)),e.setStyle(o))}});function oo(e,o){var h=e.type==="Feature"?e.geometry:e,c=h?h.coordinates:null,p=[],y=o&&o.pointToLayer,t=o&&o.coordsToLatLng||so,n,r,u,_;if(!c&&!h)return null;switch(h.type){case"Point":return n=t(c),Pe(y,e,n,o);case"MultiPoint":for(u=0,_=c.length;u<_;u++)n=t(c[u]),p.push(Pe(y,e,n,o));return new _i(p);case"LineString":case"MultiLineString":return r=be(c,h.type==="LineString"?0:1,t),new Ce(r,o);case"Polygon":case"MultiPolygon":return r=be(c,h.type==="Polygon"?1:2,t),new Ie(r,o);case"GeometryCollection":for(u=0,_=h.geometries.length;u<_;u++){var v=oo({geometry:h.geometries[u],type:"Feature",properties:e.properties},o);v&&p.push(v)}return new _i(p);default:throw new Error("Invalid GeoJSON object.")}}function Pe(e,o,h,c){return e?e(o,h):new re(h,c&&c.markersInheritOptions&&c)}function so(e){return new V(e[1],e[0],e[2])}function be(e,o,h){for(var c=[],p=0,y=e.length,t;p<y;p++)t=o?be(e[p],o-1,h):(h||so)(e[p]),c.push(t);return c}function ro(e,o){return e=q(e),e.alt!==void 0?[gt(e.lng,o),gt(e.lat,o),gt(e.alt,o)]:[gt(e.lng,o),gt(e.lat,o)]}function ae(e,o,h,c){for(var p=[],y=0,t=e.length;y<t;y++)p.push(o?ae(e[y],o-1,h,c):ro(e[y],c));return!o&&h&&p.push(p[0]),p}function Se(e,o){return e.feature?E({},e.feature,{geometry:o}):ji(o)}function ji(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var $i={toGeoJSON:function(e){return Se(this,{type:"Point",coordinates:ro(this.getLatLng(),e)})}};re.include($i),_n.include($i),dn.include($i),Ce.include({toGeoJSON:function(e){var o=!Te(this._latlngs),h=ae(this._latlngs,o?1:0,!1,e);return Se(this,{type:(o?"Multi":"")+"LineString",coordinates:h})}}),Ie.include({toGeoJSON:function(e){var o=!Te(this._latlngs),h=o&&!Te(this._latlngs[0]),c=ae(this._latlngs,h?2:o?1:0,!0,e);return o||(c=[c]),Se(this,{type:(h?"Multi":"")+"Polygon",coordinates:c})}}),Ze.include({toMultiPoint:function(e){var o=[];return this.eachLayer(function(h){o.push(h.toGeoJSON(e).geometry.coordinates)}),Se(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(e){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(e);var h=o==="GeometryCollection",c=[];return this.eachLayer(function(p){if(p.toGeoJSON){var y=p.toGeoJSON(e);if(h)c.push(y.geometry);else{var t=ji(y);t.type==="FeatureCollection"?c.push.apply(c,t.features):c.push(t)}}}),h?Se(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Qi(e,o){return new me(e,o)}var ao=Qi,ri=Jt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,o,h){this._url=e,this._bounds=st(o),K(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&($(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&ct(this._image),this},bringToBack:function(){return this._map&&fe(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=st(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",o=this._image=e?this._url:ft("img");if($(o,"leaflet-image-layer"),this._zoomAnimated&&$(o,"leaflet-zoom-animated"),this.options.className&&$(o,this.options.className),o.onselectstart=et,o.onmousemove=et,o.onload=N(this.fire,this,"load"),o.onerror=N(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(e){var o=this._map.getZoomScale(e.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;a(this._image,h,o)},_reset:function(){var e=this._image,o=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=o.getSize();f(e,o.min),e.style.width=h.x+"px",e.style.height=h.y+"px"},_updateOpacity:function(){Yt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),mi=function(e,o,h){return new ri(e,o,h)},tn=ri.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",o=this._image=e?this._url:ft("video");if($(o,"leaflet-image-layer"),this._zoomAnimated&&$(o,"leaflet-zoom-animated"),this.options.className&&$(o,this.options.className),o.onselectstart=et,o.onmousemove=et,o.onloadeddata=N(this.fire,this,"load"),e){for(var h=o.getElementsByTagName("source"),c=[],p=0;p<h.length;p++)c.push(h[p].src);this._url=h.length>0?c:[o.src];return}Lt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var t=ft("source");t.src=this._url[y],o.appendChild(t)}}});function ho(e,o,h){return new tn(e,o,h)}var lo=ri.extend({_initImage:function(){var e=this._image=this._url;$(e,"leaflet-image-layer"),this._zoomAnimated&&$(e,"leaflet-zoom-animated"),this.options.className&&$(e,this.options.className),e.onselectstart=et,e.onmousemove=et}});function Ko(e,o,h){return new lo(e,o,h)}var jt=Jt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(e,o){K(this,e),this._source=o},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Yt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Yt(this._container,1),this.bringToFront(),this.options.interactive&&($(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Yt(this._container,0),this._removeTimeout=setTimeout(N(nt,void 0,this._container),200)):nt(this._container),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=q(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ct(this._container),this},bringToBack:function(){return this._map&&fe(this._container),this},_prepareOpen:function(e){var o=this._source;if(!o._map)return!1;if(o instanceof _i){o=null;var h=this._source._layers;for(var c in h)if(h[c]._map){o=h[c];break}if(!o)return!1;this._source=o}if(!e)if(o.getCenter)e=o.getCenter();else if(o.getLatLng)e=o.getLatLng();else if(o.getBounds)e=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")e.innerHTML=o;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),o=R(this.options.offset),h=this._getAnchor();this._zoomAnimated?f(this._container,e.add(h)):o=o.add(e).add(h);var c=this._containerBottom=-o.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=c+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});lt.include({_initOverlay:function(e,o,h,c){var p=o;return p instanceof e||(p=new e(c).setContent(o)),h&&p.setLatLng(h),p}}),Jt.include({_initOverlay:function(e,o,h,c){var p=h;return p instanceof e?(K(p,c),p._source=this):(p=o&&!c?o:new e(c,this),p.setContent(h)),p}});var mn=jt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,jt.prototype.openOn.call(this,e)},onAdd:function(e){jt.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Kt||this._source.on("preclick",Le))},onRemove:function(e){jt.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Kt||this._source.off("preclick",Le))},getEvents:function(){var e=jt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",o=this._container=ft("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=ft("div",e+"-content-wrapper",o);if(this._contentNode=ft("div",e+"-content",h),ce(o),Gi(this._contentNode),J(o,"contextmenu",Le),this._tipContainer=ft("div",e+"-tip-container",o),this._tip=ft("div",e+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=ft("a",e+"-close-button",o);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',J(c,"click",this.close,this)}},_updateLayout:function(){var e=this._contentNode,o=e.style;o.width="",o.whiteSpace="nowrap";var h=e.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),o.width=h+1+"px",o.whiteSpace="",o.height="";var c=e.offsetHeight,p=this.options.maxHeight,y="leaflet-popup-scrolled";p&&c>p?(o.height=p+"px",$(e,y)):wt(e,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),h=this._getAnchor();f(this._container,o.add(h))},_adjustPan:function(e){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var o=this._map,h=parseInt(De(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+h,p=this._containerWidth,y=new z(this._containerLeft,-c-this._containerBottom);y._add(d(this._container));var t=o.layerPointToContainerPoint(y),n=R(this.options.autoPanPadding),r=R(this.options.autoPanPaddingTopLeft||n),u=R(this.options.autoPanPaddingBottomRight||n),_=o.getSize(),v=0,x=0;t.x+p+u.x>_.x&&(v=t.x+p-_.x+u.x),t.x-v-r.x<0&&(v=t.x-r.x),t.y+c+u.y>_.y&&(x=t.y+c-_.y+u.y),t.y-x-r.y<0&&(x=t.y-r.y),(v||x)&&o.fire("autopanstart").panBy([v,x],{animate:e&&e.type==="moveend"})}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Oo=function(e,o){return new mn(e,o)};lt.mergeOptions({closePopupOnClick:!0}),lt.include({openPopup:function(e,o,h){return this._initOverlay(mn,e,o,h).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Jt.include({bindPopup:function(e,o){return this._popup=this._initOverlay(mn,this._popup,e,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&this._popup._prepareOpen(e)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){de(e);var o=e.layer||e.target;if(this._popup._source===o&&!(o instanceof Kt)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=o,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var vn=jt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){jt.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){jt.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=jt.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",o=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ft("div",o)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var o,h,c=this._map,p=this._container,y=c.latLngToContainerPoint(c.getCenter()),t=c.layerPointToContainerPoint(e),n=this.options.direction,r=p.offsetWidth,u=p.offsetHeight,_=R(this.options.offset),v=this._getAnchor();n==="top"?(o=r/2,h=u):n==="bottom"?(o=r/2,h=0):n==="center"?(o=r/2,h=u/2):n==="right"?(o=0,h=u/2):n==="left"?(o=r,h=u/2):t.x<y.x?(n="right",o=0,h=u/2):(n="left",o=r+(_.x+v.x)*2,h=u/2),e=e.subtract(R(o,h,!0)).add(_).add(v),wt(p,"leaflet-tooltip-right"),wt(p,"leaflet-tooltip-left"),wt(p,"leaflet-tooltip-top"),wt(p,"leaflet-tooltip-bottom"),$(p,"leaflet-tooltip-"+n),f(p,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Yt(this._container,e)},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(o)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ao=function(e,o){return new vn(e,o)};lt.include({openTooltip:function(e,o,h){return this._initOverlay(vn,e,o,h).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Jt.include({bindTooltip:function(e,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(vn,this._tooltip,e,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var o=e?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[o](h),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&this._tooltip._prepareOpen(e)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0))},_moveTooltip:function(e){var o=e.latlng,h,c;this._tooltip.options.sticky&&e.originalEvent&&(h=this._map.mouseEventToContainerPoint(e.originalEvent),c=this._map.containerPointToLayerPoint(h),o=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(o)}});var Bo=pi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var o=e&&e.tagName==="DIV"?e:document.createElement("div"),h=this.options;if(h.html instanceof Element?(ht(o),o.appendChild(h.html)):o.innerHTML=h.html!==!1?h.html:"",h.bgPos){var c=R(h.bgPos);o.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function xe(e){return new Bo(e)}pi.Default=ye;var Xe=Jt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:U.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){K(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),nt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ct(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fe(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Ut(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof z?e:new z(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var o=this.getPane().children,h=-e(-1/0,1/0),c=0,p=o.length,y;c<p;c++)y=o[c].style.zIndex,o[c]!==this._container&&y&&(h=e(h,+y));isFinite(h)&&(this.options.zIndex=h+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!U.ielt9){Yt(this._container,this.options.opacity);var e=+new Date,o=!1,h=!1;for(var c in this._tiles){var p=this._tiles[c];if(!(!p.current||!p.loaded)){var y=Math.min(1,(e-p.loaded)/200);Yt(p.el,y),y<1?o=!0:(p.active?h=!0:this._onOpaqueTile(p),p.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),o&&(_t(this._fadeFrame),this._fadeFrame=dt(this._updateOpacity,this))}},_onOpaqueTile:et,_initContainer:function(){this._container||(this._container=ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,o=this.options.maxZoom;if(e!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===e?(this._levels[h].el.style.zIndex=o-Math.abs(e-h),this._onUpdateLevel(h)):(nt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var c=this._levels[e],p=this._map;return c||(c=this._levels[e]={},c.el=ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=o,c.origin=p.project(p.unproject(p.getPixelOrigin()),e).round(),c.zoom=e,this._setZoomTransform(c,p.getCenter(),p.getZoom()),et(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:et,_onRemoveLevel:et,_onCreateLevel:et,_pruneTiles:function(){if(this._map){var e,o,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)o=this._tiles[e],o.retain=o.current;for(e in this._tiles)if(o=this._tiles[e],o.current&&!o.active){var c=o.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var o in this._tiles)this._tiles[o].coords.z===e&&this._removeTile(o)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)nt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,o,h,c){var p=Math.floor(e/2),y=Math.floor(o/2),t=h-1,n=new z(+p,+y);n.z=+t;var r=this._tileCoordsToKey(n),u=this._tiles[r];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),t>c?this._retainParent(p,y,t,c):!1)},_retainChildren:function(e,o,h,c){for(var p=2*e;p<2*e+2;p++)for(var y=2*o;y<2*o+2;y++){var t=new z(p,y);t.z=h+1;var n=this._tileCoordsToKey(t),r=this._tiles[n];if(r&&r.active){r.retain=!0;continue}else r&&r.loaded&&(r.retain=!0);h+1<c&&this._retainChildren(p,y,h+1,c)}},_resetView:function(e){var o=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var o=this.options;return o.minNativeZoom!==void 0&&e<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<e?o.maxNativeZoom:e},_setView:function(e,o,h,c){var p=Math.round(o);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var y=this.options.updateWhenZooming&&p!==this._tileZoom;(!c||y)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(e),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(e,o)},_setZoomTransforms:function(e,o){for(var h in this._levels)this._setZoomTransform(this._levels[h],e,o)},_setZoomTransform:function(e,o,h){var c=this._map.getZoomScale(h,e.zoom),p=e.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(o,h)).round();U.any3d?a(e.el,p,c):f(e.el,p)},_resetGrid:function(){var e=this._map,o=e.options.crs,h=this._tileSize=this.getTileSize(),c=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,o.wrapLng[0]],c).x/h.x),Math.ceil(e.project([0,o.wrapLng[1]],c).x/h.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([o.wrapLat[0],0],c).y/h.x),Math.ceil(e.project([o.wrapLat[1],0],c).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var o=this._map,h=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),c=o.getZoomScale(h,this._tileZoom),p=o.project(e,this._tileZoom).floor(),y=o.getSize().divideBy(c*2);return new Q(p.subtract(y),p.add(y))},_update:function(e){var o=this._map;if(o){var h=this._clampZoom(o.getZoom());if(e===void 0&&(e=o.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(e),p=this._pxBoundsToTileRange(c),y=p.getCenter(),t=[],n=this.options.keepBuffer,r=new Q(p.getBottomLeft().subtract([n,-n]),p.getTopRight().add([n,-n]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var _=this._tiles[u].coords;(_.z!==this._tileZoom||!r.contains(new z(_.x,_.y)))&&(this._tiles[u].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(e,h);return}for(var v=p.min.y;v<=p.max.y;v++)for(var x=p.min.x;x<=p.max.x;x++){var I=new z(x,v);if(I.z=this._tileZoom,!!this._isValidTile(I)){var S=this._tiles[this._tileCoordsToKey(I)];S?S.current=!0:t.push(I)}}if(t.sort(function(X,j){return X.distanceTo(y)-j.distanceTo(y)}),t.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var B=document.createDocumentFragment();for(x=0;x<t.length;x++)this._addTile(t[x],B);this._level.el.appendChild(B)}}}},_isValidTile:function(e){var o=this._map.options.crs;if(!o.infinite){var h=this._globalTileRange;if(!o.wrapLng&&(e.x<h.min.x||e.x>h.max.x)||!o.wrapLat&&(e.y<h.min.y||e.y>h.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(e);return st(this.options.bounds).overlaps(c)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var o=this._map,h=this.getTileSize(),c=e.scaleBy(h),p=c.add(h),y=o.unproject(c,e.z),t=o.unproject(p,e.z);return[y,t]},_tileCoordsToBounds:function(e){var o=this._tileCoordsToNwSe(e),h=new ut(o[0],o[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var o=e.split(":"),h=new z(+o[0],+o[1]);return h.z=+o[2],h},_removeTile:function(e){var o=this._tiles[e];o&&(nt(o.el),delete this._tiles[e],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){$(e,"leaflet-tile");var o=this.getTileSize();e.style.width=o.x+"px",e.style.height=o.y+"px",e.onselectstart=et,e.onmousemove=et,U.ielt9&&this.options.opacity<1&&Yt(e,this.options.opacity)},_addTile:function(e,o){var h=this._getTilePos(e),c=this._tileCoordsToKey(e),p=this.createTile(this._wrapCoords(e),N(this._tileReady,this,e));this._initTile(p),this.createTile.length<2&&dt(N(this._tileReady,this,e,null,p)),f(p,h),this._tiles[c]={el:p,coords:e,current:!0},o.appendChild(p),this.fire("tileloadstart",{tile:p,coords:e})},_tileReady:function(e,o,h){o&&this.fire("tileerror",{error:o,tile:h,coords:e});var c=this._tileCoordsToKey(e);h=this._tiles[c],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Yt(h.el,0),_t(this._fadeFrame),this._fadeFrame=dt(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),o||($(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),U.ielt9||!this._map._fadeAnimated?dt(this._pruneTiles,this):setTimeout(N(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var o=new z(this._wrapX?kt(e.x,this._wrapX):e.x,this._wrapY?kt(e.y,this._wrapY):e.y);return o.z=e.z,o},_pxBoundsToTileRange:function(e){var o=this.getTileSize();return new Q(e.min.unscaleBy(o).floor(),e.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function jo(e){return new Xe(e)}var Ee=Xe.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,o){this._url=e,o=K(this,o),o.detectRetina&&U.retina&&o.maxZoom>0&&(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom++):(o.zoomOffset++,o.maxZoom--),o.minZoom=Math.max(0,o.minZoom)),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,o){return this._url===e&&o===void 0&&(o=!0),this._url=e,o||this.redraw(),this},createTile:function(e,o){var h=document.createElement("img");return J(h,"load",N(this._tileOnLoad,this,o,h)),J(h,"error",N(this._tileOnError,this,o,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.setAttribute("role","presentation"),h.src=this.getTileUrl(e),h},getTileUrl:function(e){var o={r:U.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-e.y;this.options.tms&&(o.y=h),o["-y"]=h}return fi(this._url,E(o,this.options))},_tileOnLoad:function(e,o){U.ielt9?setTimeout(N(e,this,null,o),0):e(null,o)},_tileOnError:function(e,o,h){var c=this.options.errorTileUrl;c&&o.getAttribute("src")!==c&&(o.src=c),e(h,o)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,o=this.options.maxZoom,h=this.options.zoomReverse,c=this.options.zoomOffset;return h&&(e=o-e),e+c},_getSubdomain:function(e){var o=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var e,o;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(o=this._tiles[e].el,o.onload=et,o.onerror=et,!o.complete)){o.src=Xt;var h=this._tiles[e].coords;nt(o),delete this._tiles[e],this.fire("tileabort",{tile:o,coords:h})}},_removeTile:function(e){var o=this._tiles[e];if(o)return o.el.setAttribute("src",Xt),Xe.prototype._removeTile.call(this,e)},_tileReady:function(e,o,h){if(!(!this._map||h&&h.getAttribute("src")===Xt))return Xe.prototype._tileReady.call(this,e,o,h)}});function No(e,o){return new Ee(e,o)}var uo=Ee.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,o){this._url=e;var h=E({},this.defaultWmsParams);for(var c in o)c in this.options||(h[c]=o[c]);o=K(this,o);var p=o.detectRetina&&U.retina?2:1,y=this.getTileSize();h.width=y.x*p,h.height=y.y*p,this.wmsParams=h},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,Ee.prototype.onAdd.call(this,e)},getTileUrl:function(e){var o=this._tileCoordsToNwSe(e),h=this._crs,c=Pt(h.project(o[0]),h.project(o[1])),p=c.min,y=c.max,t=(this._wmsVersion>=1.3&&this._crs===no?[p.y,p.x,y.y,y.x]:[p.x,p.y,y.x,y.y]).join(","),n=Ee.prototype.getTileUrl.call(this,e);return n+Rt(this.wmsParams,n,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+t},setParams:function(e,o){return E(this.wmsParams,e),o||this.redraw(),this}});function $o(e,o){return new uo(e,o)}Ee.WMS=uo,No.wms=$o;var $t=Jt.extend({options:{padding:.1},initialize:function(e){K(this,e),O(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&$(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,o){var h=this._map.getZoomScale(o,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,o),y=c.multiplyBy(-h).add(p).subtract(this._map._getNewPixelOrigin(e,o));U.any3d?a(this._container,y,h):f(this._container,y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,o=this._map.getSize(),h=this._map.containerPointToLayerPoint(o.multiplyBy(-e)).round();this._bounds=new Q(h,h.add(o.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ko=$t.extend({options:{tolerance:0},getEvents:function(){var e=$t.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){$t.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");J(e,"mousemove",this._onMouseMove,this),J(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),J(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){_t(this._redrawRequest),delete this._ctx,nt(this._container),F(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var o in this._layers)e=this._layers[o],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){$t.prototype._update.call(this);var e=this._bounds,o=this._container,h=e.getSize(),c=U.retina?2:1;f(o,e.min),o.width=c*h.x,o.height=c*h.y,o.style.width=h.x+"px",o.style.height=h.y+"px",U.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){$t.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[O(e)]=e;var o=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var o=e._order,h=o.next,c=o.prev;h?h.prev=c:this._drawLast=c,c?c.next=h:this._drawFirst=h,delete e._order,delete this._layers[O(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var o=e.options.dashArray.split(/[, ]+/),h=[],c,p;for(p=0;p<o.length;p++){if(c=Number(o[p]),isNaN(c))return;h.push(c)}e.options._dashArray=h}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||dt(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var o=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(e._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(e._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var o=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,o=this._redrawBounds;if(this._ctx.save(),o){var h=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)e=c.layer,(!o||e._pxBounds&&e._pxBounds.intersects(o))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,o){if(this._drawing){var h,c,p,y,t=e._parts,n=t.length,r=this._ctx;if(n){for(r.beginPath(),h=0;h<n;h++){for(c=0,p=t[h].length;c<p;c++)y=t[h][c],r[c?"lineTo":"moveTo"](y.x,y.y);o&&r.closePath()}this._fillStroke(r,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var o=e._point,h=this._ctx,c=Math.max(Math.round(e._radius),1),p=(Math.max(Math.round(e._radiusY),1)||c)/c;p!==1&&(h.save(),h.scale(1,p)),h.beginPath(),h.arc(o.x,o.y/p,c,0,Math.PI*2,!1),p!==1&&h.restore(),this._fillStroke(h,e)}},_fillStroke:function(e,o){var h=o.options;h.fill&&(e.globalAlpha=h.fillOpacity,e.fillStyle=h.fillColor||h.color,e.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(e.setLineDash&&e.setLineDash(o.options&&o.options._dashArray||[]),e.globalAlpha=h.opacity,e.lineWidth=h.weight,e.strokeStyle=h.color,e.lineCap=h.lineCap,e.lineJoin=h.lineJoin,e.stroke())},_onClick:function(e){for(var o=this._map.mouseEventToLayerPoint(e),h,c,p=this._drawFirst;p;p=p.next)h=p.layer,h.options.interactive&&h._containsPoint(o)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(h))&&(c=h);this._fireEvent(c?[c]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,o)}},_handleMouseOut:function(e){var o=this._hoveredLayer;o&&(wt(this._container,"leaflet-interactive"),this._fireEvent([o],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,o){if(!this._mouseHoverThrottled){for(var h,c,p=this._drawFirst;p;p=p.next)h=p.layer,h.options.interactive&&h._containsPoint(o)&&(c=h);c!==this._hoveredLayer&&(this._handleMouseOut(e),c&&($(this._container,"leaflet-interactive"),this._fireEvent([c],e,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(N(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,o,h){this._map._fireDOMEvent(o,h||o.type,e)},_bringToFront:function(e){var o=e._order;if(o){var h=o.next,c=o.prev;if(h)h.prev=c;else return;c?c.next=h:h&&(this._drawFirst=h),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(e)}},_bringToBack:function(e){var o=e._order;if(o){var h=o.next,c=o.prev;if(c)c.next=h;else return;h?h.prev=c:c&&(this._drawLast=c),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(e)}}});function ai(e){return U.canvas?new ko(e):null}var vi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Do={_initContainer:function(){this._container=ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||($t.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var o=e._container=vi("shape");$(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",e._path=vi("path"),o.appendChild(e._path),this._updateStyle(e),this._layers[O(e)]=e},_addPath:function(e){var o=e._container;this._container.appendChild(o),e.options.interactive&&e.addInteractiveTarget(o)},_removePath:function(e){var o=e._container;nt(o),e.removeInteractiveTarget(o),delete this._layers[O(e)]},_updateStyle:function(e){var o=e._stroke,h=e._fill,c=e.options,p=e._container;p.stroked=!!c.stroke,p.filled=!!c.fill,c.stroke?(o||(o=e._stroke=vi("stroke")),p.appendChild(o),o.weight=c.weight+"px",o.color=c.color,o.opacity=c.opacity,c.dashArray?o.dashStyle=Lt(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=c.lineCap.replace("butt","flat"),o.joinstyle=c.lineJoin):o&&(p.removeChild(o),e._stroke=null),c.fill?(h||(h=e._fill=vi("fill")),p.appendChild(h),h.color=c.fillColor||c.color,h.opacity=c.fillOpacity):h&&(p.removeChild(h),e._fill=null)},_updateCircle:function(e){var o=e._point.round(),h=Math.round(e._radius),c=Math.round(e._radiusY||h);this._setPath(e,e._empty()?"M0 0":"AL "+o.x+","+o.y+" "+h+","+c+" 0,"+65535*360)},_setPath:function(e,o){e._path.v=o},_bringToFront:function(e){ct(e._container)},_bringToBack:function(e){fe(e._container)}},gn=U.vml?vi:Si,Qt=$t.extend({_initContainer:function(){this._container=gn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=gn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nt(this._container),F(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){$t.prototype._update.call(this);var e=this._bounds,o=e.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,h.setAttribute("width",o.x),h.setAttribute("height",o.y)),f(h,e.min),h.setAttribute("viewBox",[e.min.x,e.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(e){var o=e._path=gn("path");e.options.className&&$(o,e.options.className),e.options.interactive&&$(o,"leaflet-interactive"),this._updateStyle(e),this._layers[O(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){nt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[O(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var o=e._path,h=e.options;o&&(h.stroke?(o.setAttribute("stroke",h.color),o.setAttribute("stroke-opacity",h.opacity),o.setAttribute("stroke-width",h.weight),o.setAttribute("stroke-linecap",h.lineCap),o.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?o.setAttribute("stroke-dasharray",h.dashArray):o.removeAttribute("stroke-dasharray"),h.dashOffset?o.setAttribute("stroke-dashoffset",h.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),h.fill?(o.setAttribute("fill",h.fillColor||h.color),o.setAttribute("fill-opacity",h.fillOpacity),o.setAttribute("fill-rule",h.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(e,o){this._setPath(e,Ei(e._parts,o))},_updateCircle:function(e){var o=e._point,h=Math.max(Math.round(e._radius),1),c=Math.max(Math.round(e._radiusY),1)||h,p="a"+h+","+c+" 0 1,0 ",y=e._empty()?"M0 0":"M"+(o.x-h)+","+o.y+p+h*2+",0 "+p+-h*2+",0 ";this._setPath(e,y)},_setPath:function(e,o){e._path.setAttribute("d",o)},_bringToFront:function(e){ct(e._path)},_bringToBack:function(e){fe(e._path)}});U.vml&&Qt.include(Do);function fo(e){return U.svg||U.vml?new Qt(e):null}lt.include({getRenderer:function(e){var o=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var o=this._paneRenderers[e];return o===void 0&&(o=this._createRenderer({pane:e}),this._paneRenderers[e]=o),o},_createRenderer:function(e){return this.options.preferCanvas&&ai(e)||fo(e)}});var co=Ie.extend({initialize:function(e,o){Ie.prototype.initialize.call(this,this._boundsToLatLngs(e),o)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=st(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function en(e,o){return new co(e,o)}Qt.create=gn,Qt.pointsToPath=Ei,me.geometryToLayer=oo,me.coordsToLatLng=so,me.coordsToLatLngs=be,me.latLngToCoords=ro,me.latLngsToCoords=ae,me.getFeature=Se,me.asFeature=ji,lt.mergeOptions({boxZoom:!0});var zo=ge.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){J(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){F(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),m(),b(),this._startPoint=this._map.mouseEventToContainerPoint(e),J(document,{contextmenu:de,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ft("div","leaflet-zoom-box",this._container),$(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var o=new Q(this._point,this._startPoint),h=o.getSize();f(this._box,o.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(nt(this._box),wt(this._container,"leaflet-crosshair")),g(),A(),F(document,{contextmenu:de,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(N(this._resetState,this),0);var o=new ut(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});lt.addInitHook("addHandler","boxZoom",zo),lt.mergeOptions({doubleClickZoom:!0});var nn=ge.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var o=this._map,h=o.getZoom(),c=o.options.zoomDelta,p=e.originalEvent.shiftKey?h-c:h+c;o.options.doubleClickZoom==="center"?o.setZoom(p):o.setZoomAround(e.containerPoint,p)}});lt.addInitHook("addHandler","doubleClickZoom",nn),lt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gi=ge.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Zt(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}$(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wt(this._map._container,"leaflet-grab"),wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=st(this._map.options.maxBounds);this._offsetLimit=Pt(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var o=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(o),this._prunePositions(o)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,o){return e-(e-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;e.x<o.min.x&&(e.x=this._viscousLimit(e.x,o.min.x)),e.y<o.min.y&&(e.y=this._viscousLimit(e.y,o.min.y)),e.x>o.max.x&&(e.x=this._viscousLimit(e.x,o.max.x)),e.y>o.max.y&&(e.y=this._viscousLimit(e.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,o=Math.round(e/2),h=this._initialWorldOffset,c=this._draggable._newPos.x,p=(c-o+h)%e+o-h,y=(c+o+h)%e-o-h,t=Math.abs(p+h)<Math.abs(y+h)?p:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=t},_onDragEnd:function(e){var o=this._map,h=o.options,c=!h.inertia||e.noInertia||this._times.length<2;if(o.fire("dragend",e),c)o.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),y=(this._lastTime-this._times[0])/1e3,t=h.easeLinearity,n=p.multiplyBy(t/y),r=n.distanceTo([0,0]),u=Math.min(h.inertiaMaxSpeed,r),_=n.multiplyBy(u/r),v=u/(h.inertiaDeceleration*t),x=_.multiplyBy(-v/2).round();!x.x&&!x.y?o.fire("moveend"):(x=o._limitOffset(x,o.options.maxBounds),dt(function(){o.panBy(x,{duration:v,easeLinearity:t,noMoveStart:!0,animate:!0})}))}}});lt.addInitHook("addHandler","dragging",gi),lt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _o=ge.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),J(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),F(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,o=document.documentElement,h=e.scrollTop||o.scrollTop,c=e.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(c,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var o=this._panKeys={},h=this.keyCodes,c,p;for(c=0,p=h.left.length;c<p;c++)o[h.left[c]]=[-1*e,0];for(c=0,p=h.right.length;c<p;c++)o[h.right[c]]=[e,0];for(c=0,p=h.down.length;c<p;c++)o[h.down[c]]=[0,e];for(c=0,p=h.up.length;c<p;c++)o[h.up[c]]=[0,-1*e]},_setZoomDelta:function(e){var o=this._zoomKeys={},h=this.keyCodes,c,p;for(c=0,p=h.zoomIn.length;c<p;c++)o[h.zoomIn[c]]=e;for(c=0,p=h.zoomOut.length;c<p;c++)o[h.zoomOut[c]]=-e},_addHooks:function(){J(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){F(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var o=e.keyCode,h=this._map,c;if(o in this._panKeys)(!h._panAnim||!h._panAnim._inProgress)&&(c=this._panKeys[o],e.shiftKey&&(c=R(c).multiplyBy(3)),h.panBy(c),h.options.maxBounds&&h.panInsideBounds(h.options.maxBounds));else if(o in this._zoomKeys)h.setZoom(h.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;de(e)}}});lt.addInitHook("addHandler","keyboard",_o),lt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var po=ge.extend({addHooks:function(){J(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){F(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var o=Vn(e),h=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var c=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(N(this._performZoom,this),c),de(e)},_performZoom:function(){var e=this._map,o=e.getZoom(),h=this._map.options.zoomSnap||0;e._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,y=h?Math.ceil(p/h)*h:p,t=e._limitZoom(o+(this._delta>0?y:-y))-o;this._delta=0,this._startTime=null,t&&(e.options.scrollWheelZoom==="center"?e.setZoom(o+t):e.setZoomAround(this._lastMousePos,o+t))}});lt.addInitHook("addHandler","scrollWheelZoom",po);var Qo=600;lt.mergeOptions({tapHold:U.touchNative&&U.safari&&U.mobile,tapTolerance:15});var mo=ge.extend({addHooks:function(){J(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){F(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var o=e.touches[0];this._startPos=this._newPos=new z(o.clientX,o.clientY),this._holdTimeout=setTimeout(N(function(){this._cancel(),this._isTapValid()&&(J(document,"touchend",At),J(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),Qo),J(document,"touchend touchcancel contextmenu",this._cancel,this),J(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){F(document,"touchend",At),F(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),F(document,"touchend touchcancel contextmenu",this._cancel,this),F(document,"touchmove",this._onMove,this)},_onMove:function(e){var o=e.touches[0];this._newPos=new z(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,o){var h=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});h._simulated=!0,o.target.dispatchEvent(h)}});lt.addInitHook("addHandler","tapHold",mo),lt.mergeOptions({touchZoom:U.touch,bounceAtZoomLimits:!0});var vo=ge.extend({addHooks:function(){$(this._map._container,"leaflet-touch-zoom"),J(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),F(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var o=this._map;if(!(!e.touches||e.touches.length!==2||o._animatingZoom||this._zooming)){var h=o.mouseEventToContainerPoint(e.touches[0]),c=o.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(h.add(c)._divideBy(2))),this._startDist=h.distanceTo(c),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),J(document,"touchmove",this._onTouchMove,this),J(document,"touchend touchcancel",this._onTouchEnd,this),At(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var o=this._map,h=o.mouseEventToContainerPoint(e.touches[0]),c=o.mouseEventToContainerPoint(e.touches[1]),p=h.distanceTo(c)/this._startDist;if(this._zoom=o.getScaleZoom(p,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&p<1||this._zoom>o.getMaxZoom()&&p>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var y=h._add(c)._divideBy(2)._subtract(this._centerPoint);if(p===1&&y.x===0&&y.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),_t(this._animRequest);var t=N(o._move,o,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=dt(t,this,!0),At(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,_t(this._animRequest),F(document,"touchmove",this._onTouchMove,this),F(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});lt.addInitHook("addHandler","touchZoom",vo),lt.BoxZoom=zo,lt.DoubleClickZoom=nn,lt.Drag=gi,lt.Keyboard=_o,lt.ScrollWheelZoom=po,lt.TapHold=mo,lt.TouchZoom=vo,P.Bounds=Q,P.Browser=U,P.CRS=bt,P.Canvas=ko,P.Circle=_n,P.CircleMarker=dn,P.Class=It,P.Control=oe,P.DivIcon=Bo,P.DivOverlay=jt,P.DomEvent=Yo,P.DomUtil=Mt,P.Draggable=Zt,P.Evented=he,P.FeatureGroup=_i,P.GeoJSON=me,P.GridLayer=Xe,P.Handler=ge,P.Icon=pi,P.ImageOverlay=ri,P.LatLng=V,P.LatLngBounds=ut,P.Layer=Jt,P.LayerGroup=Ze,P.LineUtil=bo,P.Map=lt,P.Marker=re,P.Mixin=jn,P.Path=Kt,P.Point=z,P.PolyUtil=oi,P.Polygon=Ie,P.Polyline=Ce,P.Popup=mn,P.PosAnimation=Jn,P.Projection=se,P.Rectangle=co,P.Renderer=$t,P.SVG=Qt,P.SVGOverlay=lo,P.TileLayer=Ee,P.Tooltip=vn,P.Transformation=He,P.Util=Tn,P.VideoOverlay=tn,P.bind=N,P.bounds=Pt,P.canvas=ai,P.circle=pn,P.circleMarker=Ki,P.control=rt,P.divIcon=xe,P.extend=E,P.featureGroup=Eo,P.geoJSON=Qi,P.geoJson=ao,P.gridLayer=jo,P.icon=pe,P.imageOverlay=mi,P.latLng=q,P.latLngBounds=st,P.layerGroup=Go,P.map=Fo,P.marker=Vo,P.point=R,P.polygon=Jo,P.polyline=Re,P.popup=Oo,P.rectangle=en,P.setOptions=K,P.stamp=O,P.svg=fo,P.svgOverlay=Ko,P.tileLayer=No,P.tooltip=Ao,P.transformation=le,P.version=Z,P.videoOverlay=ho;var Zo=window.L;P.noConflict=function(){return window.L=Zo,this},window.L=P})})(ls,ls.exports);var nr=ls.exports;const vt=_s(nr);var bs={exports:{}};(function(T){var l={},P=!1;T.exports?(T.exports=l,P=!0):typeof document<"u"?window.ClipperLib=l:self.ClipperLib=l;var Z;if(P){var E="chrome";Z="Netscape"}else{var E=navigator.userAgent.toString().toLowerCase();Z=navigator.appName}var D={};E.indexOf("chrome")!=-1&&E.indexOf("chromium")==-1?D.chrome=1:D.chrome=0,E.indexOf("chromium")!=-1?D.chromium=1:D.chromium=0,E.indexOf("safari")!=-1&&E.indexOf("chrome")==-1&&E.indexOf("chromium")==-1?D.safari=1:D.safari=0,E.indexOf("firefox")!=-1?D.firefox=1:D.firefox=0,E.indexOf("firefox/17")!=-1?D.firefox17=1:D.firefox17=0,E.indexOf("firefox/15")!=-1?D.firefox15=1:D.firefox15=0,E.indexOf("firefox/3")!=-1?D.firefox3=1:D.firefox3=0,E.indexOf("opera")!=-1?D.opera=1:D.opera=0,E.indexOf("msie 10")!=-1?D.msie10=1:D.msie10=0,E.indexOf("msie 9")!=-1?D.msie9=1:D.msie9=0,E.indexOf("msie 8")!=-1?D.msie8=1:D.msie8=0,E.indexOf("msie 7")!=-1?D.msie7=1:D.msie7=0,E.indexOf("msie ")!=-1?D.msie=1:D.msie=0,l.biginteger_used=null;var N;function M(i,s,a){l.biginteger_used=1,i!=null&&(typeof i=="number"&&typeof s>"u"?this.fromInt(i):typeof i=="number"?this.fromNumber(i,s,a):s==null&&typeof i!="string"?this.fromString(i,256):this.fromString(i,s))}function O(){return new M(null)}function Ut(i,s,a,f,d,m){for(;--m>=0;){var g=s*this[i++]+a[f]+d;d=Math.floor(g/67108864),a[f++]=g&67108863}return d}function kt(i,s,a,f,d,m){for(var g=s&32767,w=s>>15;--m>=0;){var C=this[i]&32767,b=this[i++]>>15,A=w*C+b*g;C=g*C+((A&32767)<<15)+a[f]+(d&1073741823),d=(C>>>30)+(A>>>15)+w*b+(d>>>30),a[f++]=C&1073741823}return d}function et(i,s,a,f,d,m){for(var g=s&16383,w=s>>14;--m>=0;){var C=this[i]&16383,b=this[i++]>>14,A=w*C+b*g;C=g*C+((A&16383)<<14)+a[f]+d,d=(C>>28)+(A>>14)+w*b,a[f++]=C&268435455}return d}Z=="Microsoft Internet Explorer"?(M.prototype.am=kt,N=30):Z!="Netscape"?(M.prototype.am=Ut,N=26):(M.prototype.am=et,N=28),M.prototype.DB=N,M.prototype.DM=(1<<N)-1,M.prototype.DV=1<<N;var gt=52;M.prototype.FV=Math.pow(2,gt),M.prototype.F1=gt-N,M.prototype.F2=2*N-gt;var Dt="0123456789abcdefghijklmnopqrstuvwxyz",Et=new Array,K,Rt;for(K="0".charCodeAt(0),Rt=0;Rt<=9;++Rt)Et[K++]=Rt;for(K="a".charCodeAt(0),Rt=10;Rt<36;++Rt)Et[K++]=Rt;for(K="A".charCodeAt(0),Rt=10;Rt<36;++Rt)Et[K++]=Rt;function sn(i){return Dt.charAt(i)}function fi(i,s){var a=Et[i.charCodeAt(s)];return a??-1}function Lt(i){for(var s=this.t-1;s>=0;--s)i[s]=this[s];i.t=this.t,i.s=this.s}function Ye(i){this.t=1,this.s=i<0?-1:0,i>0?this[0]=i:i<-1?this[0]=i+this.DV:this.t=0}function Xt(i){var s=O();return s.fromInt(i),s}function Fe(i,s){var a;if(s==16)a=4;else if(s==8)a=3;else if(s==256)a=8;else if(s==2)a=1;else if(s==32)a=5;else if(s==4)a=2;else{this.fromRadix(i,s);return}this.t=0,this.s=0;for(var f=i.length,d=!1,m=0;--f>=0;){var g=a==8?i[f]&255:fi(i,f);if(g<0){i.charAt(f)=="-"&&(d=!0);continue}d=!1,m==0?this[this.t++]=g:m+a>this.DB?(this[this.t-1]|=(g&(1<<this.DB-m)-1)<<m,this[this.t++]=g>>this.DB-m):this[this.t-1]|=g<<m,m+=a,m>=this.DB&&(m-=this.DB)}a==8&&i[0]&128&&(this.s=-1,m>0&&(this[this.t-1]|=(1<<this.DB-m)-1<<m)),this.clamp(),d&&M.ZERO.subTo(this,this)}function Li(){for(var i=this.s&this.DM;this.t>0&&this[this.t-1]==i;)--this.t}function Ti(i){if(this.s<0)return"-"+this.negate().toString(i);var s;if(i==16)s=4;else if(i==8)s=3;else if(i==2)s=1;else if(i==32)s=5;else if(i==4)s=2;else return this.toRadix(i);var a=(1<<s)-1,f,d=!1,m="",g=this.t,w=this.DB-g*this.DB%s;if(g-- >0)for(w<this.DB&&(f=this[g]>>w)>0&&(d=!0,m=sn(f));g>=0;)w<s?(f=(this[g]&(1<<w)-1)<<s-w,f|=this[--g]>>(w+=this.DB-s)):(f=this[g]>>(w-=s)&a,w<=0&&(w+=this.DB,--g)),f>0&&(d=!0),d&&(m+=sn(f));return d?m:"0"}function We(){var i=O();return M.ZERO.subTo(this,i),i}function Ci(){return this.s<0?this.negate():this}function dt(i){var s=this.s-i.s;if(s!=0)return s;var a=this.t;if(s=a-i.t,s!=0)return this.s<0?-s:s;for(;--a>=0;)if((s=this[a]-i[a])!=0)return s;return 0}function _t(i){var s=1,a;return(a=i>>>16)!=0&&(i=a,s+=16),(a=i>>8)!=0&&(i=a,s+=8),(a=i>>4)!=0&&(i=a,s+=4),(a=i>>2)!=0&&(i=a,s+=2),(a=i>>1)!=0&&(i=a,s+=1),s}function Tn(){return this.t<=0?0:this.DB*(this.t-1)+_t(this[this.t-1]^this.s&this.DM)}function It(i,s){var a;for(a=this.t-1;a>=0;--a)s[a+i]=this[a];for(a=i-1;a>=0;--a)s[a]=0;s.t=this.t+i,s.s=this.s}function Cn(i,s){for(var a=i;a<this.t;++a)s[a-i]=this[a];s.t=Math.max(this.t-i,0),s.s=this.s}function yt(i,s){var a=i%this.DB,f=this.DB-a,d=(1<<f)-1,m=Math.floor(i/this.DB),g=this.s<<a&this.DM,w;for(w=this.t-1;w>=0;--w)s[w+m+1]=this[w]>>f|g,g=(this[w]&d)<<a;for(w=m-1;w>=0;--w)s[w]=0;s[m]=g,s.t=this.t+m+1,s.s=this.s,s.clamp()}function he(i,s){s.s=this.s;var a=Math.floor(i/this.DB);if(a>=this.t){s.t=0;return}var f=i%this.DB,d=this.DB-f,m=(1<<f)-1;s[0]=this[a]>>f;for(var g=a+1;g<this.t;++g)s[g-a-1]|=(this[g]&m)<<d,s[g-a]=this[g]>>f;f>0&&(s[this.t-a-1]|=(this.s&m)<<d),s.t=this.t-a,s.clamp()}function z(i,s){for(var a=0,f=0,d=Math.min(i.t,this.t);a<d;)f+=this[a]-i[a],s[a++]=f&this.DM,f>>=this.DB;if(i.t<this.t){for(f-=i.s;a<this.t;)f+=this[a],s[a++]=f&this.DM,f>>=this.DB;f+=this.s}else{for(f+=this.s;a<i.t;)f-=i[a],s[a++]=f&this.DM,f>>=this.DB;f-=i.s}s.s=f<0?-1:0,f<-1?s[a++]=this.DV+f:f>0&&(s[a++]=f),s.t=a,s.clamp()}function Ii(i,s){var a=this.abs(),f=i.abs(),d=a.t;for(s.t=d+f.t;--d>=0;)s[d]=0;for(d=0;d<f.t;++d)s[d+a.t]=a.am(0,f[d],s,d,0,a.t);s.s=0,s.clamp(),this.s!=i.s&&M.ZERO.subTo(s,s)}function R(i){for(var s=this.abs(),a=i.t=2*s.t;--a>=0;)i[a]=0;for(a=0;a<s.t-1;++a){var f=s.am(a,s[a],i,2*a,0,1);(i[a+s.t]+=s.am(a+1,2*s[a],i,2*a+1,f,s.t-a-1))>=s.DV&&(i[a+s.t]-=s.DV,i[a+s.t+1]=1)}i.t>0&&(i[i.t-1]+=s.am(a,s[a],i,2*a,0,1)),i.s=0,i.clamp()}function Q(i,s,a){var f=i.abs();if(!(f.t<=0)){var d=this.abs();if(d.t<f.t){s!=null&&s.fromInt(0),a!=null&&this.copyTo(a);return}a==null&&(a=O());var m=O(),g=this.s,w=i.s,C=this.DB-_t(f[f.t-1]);C>0?(f.lShiftTo(C,m),d.lShiftTo(C,a)):(f.copyTo(m),d.copyTo(a));var b=m.t,A=m[b-1];if(A!=0){var k=A*(1<<this.F1)+(b>1?m[b-2]>>this.F2:0),Y=this.FV/k,G=(1<<this.F1)/k,H=1<<this.F2,ot=a.t,pt=ot-b,Mt=s??O();for(m.dlShiftTo(pt,Mt),a.compareTo(Mt)>=0&&(a[a.t++]=1,a.subTo(Mt,a)),M.ONE.dlShiftTo(b,Mt),Mt.subTo(m,m);m.t<b;)m[m.t++]=0;for(;--pt>=0;){var J=a[--ot]==A?this.DM:Math.floor(a[ot]*Y+(a[ot-1]+H)*G);if((a[ot]+=m.am(0,J,a,pt,0,b))<J)for(m.dlShiftTo(pt,Mt),a.subTo(Mt,a);a[ot]<--J;)a.subTo(Mt,a)}s!=null&&(a.drShiftTo(b,s),g!=w&&M.ZERO.subTo(s,s)),a.t=b,a.clamp(),C>0&&a.rShiftTo(C,a),g<0&&M.ZERO.subTo(a,a)}}}function Pt(i){var s=O();return this.abs().divRemTo(i,null,s),this.s<0&&s.compareTo(M.ZERO)>0&&i.subTo(s,s),s}function ut(i){this.m=i}function st(i){return i.s<0||i.compareTo(this.m)>=0?i.mod(this.m):i}function V(i){return i}function q(i){i.divRemTo(this.m,null,i)}function bt(i,s,a){i.multiplyTo(s,a),this.reduce(a)}function zt(i,s){i.squareTo(s),this.reduce(s)}ut.prototype.convert=st,ut.prototype.revert=V,ut.prototype.reduce=q,ut.prototype.mulTo=bt,ut.prototype.sqrTo=zt;function bi(){if(this.t<1)return 0;var i=this[0];if(!(i&1))return 0;var s=i&3;return s=s*(2-(i&15)*s)&15,s=s*(2-(i&255)*s)&255,s=s*(2-((i&65535)*s&65535))&65535,s=s*(2-i*s%this.DV)%this.DV,s>0?this.DV-s:-s}function Gt(i){this.m=i,this.mp=i.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<i.DB-15)-1,this.mt2=2*i.t}function He(i){var s=O();return i.abs().dlShiftTo(this.m.t,s),s.divRemTo(this.m,null,s),i.s<0&&s.compareTo(M.ZERO)>0&&this.m.subTo(s,s),s}function le(i){var s=O();return i.copyTo(s),this.reduce(s),s}function qe(i){for(;i.t<=this.mt2;)i[i.t++]=0;for(var s=0;s<this.m.t;++s){var a=i[s]&32767,f=a*this.mpl+((a*this.mph+(i[s]>>15)*this.mpl&this.um)<<15)&i.DM;for(a=s+this.m.t,i[a]+=this.m.am(0,f,i,s,0,this.m.t);i[a]>=i.DV;)i[a]-=i.DV,i[++a]++}i.clamp(),i.drShiftTo(this.m.t,i),i.compareTo(this.m)>=0&&i.subTo(this.m,i)}function In(i,s){i.squareTo(s),this.reduce(s)}function Si(i,s,a){i.multiplyTo(s,a),this.reduce(a)}Gt.prototype.convert=He,Gt.prototype.revert=le,Gt.prototype.reduce=qe,Gt.prototype.mulTo=Si,Gt.prototype.sqrTo=In;function Ei(){return(this.t>0?this[0]&1:this.s)==0}function Ue(i,s){if(i>4294967295||i<1)return M.ONE;var a=O(),f=O(),d=s.convert(this),m=_t(i)-1;for(d.copyTo(a);--m>=0;)if(s.sqrTo(a,f),(i&1<<m)>0)s.mulTo(f,d,a);else{var g=a;a=f,f=g}return s.revert(a)}function we(i,s){var a;return i<256||s.isEven()?a=new ut(s):a=new Gt(s),this.exp(i,a)}M.prototype.copyTo=Lt,M.prototype.fromInt=Ye,M.prototype.fromString=Fe,M.prototype.clamp=Li,M.prototype.dlShiftTo=It,M.prototype.drShiftTo=Cn,M.prototype.lShiftTo=yt,M.prototype.rShiftTo=he,M.prototype.subTo=z,M.prototype.multiplyTo=Ii,M.prototype.squareTo=R,M.prototype.divRemTo=Q,M.prototype.invDigit=bi,M.prototype.isEven=Ei,M.prototype.exp=Ue,M.prototype.toString=Ti,M.prototype.negate=We,M.prototype.abs=Ci,M.prototype.compareTo=dt,M.prototype.bitLength=Tn,M.prototype.mod=Pt,M.prototype.modPowInt=we,M.ZERO=Xt(0),M.ONE=Xt(1);function bn(){var i=O();return this.copyTo(i),i}function Mi(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Ge(){return this.t==0?this.s:this[0]<<24>>24}function Oi(){return this.t==0?this.s:this[0]<<16>>16}function Ai(i){return Math.floor(Math.LN2*this.DB/Math.log(i))}function Sn(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function En(i){if(i==null&&(i=10),this.signum()==0||i<2||i>36)return"0";var s=this.chunkSize(i),a=Math.pow(i,s),f=Xt(a),d=O(),m=O(),g="";for(this.divRemTo(f,d,m);d.signum()>0;)g=(a+m.intValue()).toString(i).substr(1)+g,d.divRemTo(f,d,m);return m.intValue().toString(i)+g}function Ve(i,s){this.fromInt(0),s==null&&(s=10);for(var a=this.chunkSize(s),f=Math.pow(s,a),d=!1,m=0,g=0,w=0;w<i.length;++w){var C=fi(i,w);if(C<0){i.charAt(w)=="-"&&this.signum()==0&&(d=!0);continue}g=s*g+C,++m>=a&&(this.dMultiply(f),this.dAddOffset(g,0),m=0,g=0)}m>0&&(this.dMultiply(Math.pow(s,m)),this.dAddOffset(g,0)),d&&M.ZERO.subTo(this,this)}function Bi(i,s,a){if(typeof s=="number")if(i<2)this.fromInt(1);else for(this.fromNumber(i,a),this.testBit(i-1)||this.bitwiseTo(M.ONE.shiftLeft(i-1),Ke,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(s);)this.dAddOffset(2,0),this.bitLength()>i&&this.subTo(M.ONE.shiftLeft(i-1),this);else{var f=new Array,d=i&7;f.length=(i>>3)+1,s.nextBytes(f),d>0?f[0]&=(1<<d)-1:f[0]=0,this.fromString(f,256)}}function Ni(){var i=this.t,s=new Array;s[0]=this.s;var a=this.DB-i*this.DB%8,f,d=0;if(i-- >0)for(a<this.DB&&(f=this[i]>>a)!=(this.s&this.DM)>>a&&(s[d++]=f|this.s<<this.DB-a);i>=0;)a<8?(f=(this[i]&(1<<a)-1)<<8-a,f|=this[--i]>>(a+=this.DB-8)):(f=this[i]>>(a-=8)&255,a<=0&&(a+=this.DB,--i)),f&128&&(f|=-256),d==0&&(this.s&128)!=(f&128)&&++d,(d>0||f!=this.s)&&(s[d++]=f);return s}function Mn(i){return this.compareTo(i)==0}function ki(i){return this.compareTo(i)<0?this:i}function Di(i){return this.compareTo(i)>0?this:i}function On(i,s,a){var f,d,m=Math.min(i.t,this.t);for(f=0;f<m;++f)a[f]=s(this[f],i[f]);if(i.t<this.t){for(d=i.s&this.DM,f=m;f<this.t;++f)a[f]=s(this[f],d);a.t=this.t}else{for(d=this.s&this.DM,f=m;f<i.t;++f)a[f]=s(d,i[f]);a.t=i.t}a.s=s(this.s,i.s),a.clamp()}function zi(i,s){return i&s}function Je(i){var s=O();return this.bitwiseTo(i,zi,s),s}function Ke(i,s){return i|s}function An(i){var s=O();return this.bitwiseTo(i,Ke,s),s}function ee(i,s){return i^s}function Bn(i){var s=O();return this.bitwiseTo(i,ee,s),s}function rn(i,s){return i&~s}function Zi(i){var s=O();return this.bitwiseTo(i,rn,s),s}function Ri(){for(var i=O(),s=0;s<this.t;++s)i[s]=this.DM&~this[s];return i.t=this.t,i.s=~this.s,i}function Xi(i){var s=O();return i<0?this.rShiftTo(-i,s):this.lShiftTo(i,s),s}function Nn(i){var s=O();return i<0?this.lShiftTo(-i,s):this.rShiftTo(i,s),s}function kn(i){if(i==0)return-1;var s=0;return i&65535||(i>>=16,s+=16),i&255||(i>>=8,s+=8),i&15||(i>>=4,s+=4),i&3||(i>>=2,s+=2),i&1||++s,s}function Dn(){for(var i=0;i<this.t;++i)if(this[i]!=0)return i*this.DB+kn(this[i]);return this.s<0?this.t*this.DB:-1}function zn(i){for(var s=0;i!=0;)i&=i-1,++s;return s}function Zn(){for(var i=0,s=this.s&this.DM,a=0;a<this.t;++a)i+=zn(this[a]^s);return i}function Rn(i){var s=Math.floor(i/this.DB);return s>=this.t?this.s!=0:(this[s]&1<<i%this.DB)!=0}function je(i,s){var a=M.ONE.shiftLeft(i);return this.bitwiseTo(a,s,a),a}function Xn(i){return this.changeBit(i,Ke)}function Yn(i){return this.changeBit(i,rn)}function ie(i){return this.changeBit(i,ee)}function U(i,s){for(var a=0,f=0,d=Math.min(i.t,this.t);a<d;)f+=this[a]+i[a],s[a++]=f&this.DM,f>>=this.DB;if(i.t<this.t){for(f+=i.s;a<this.t;)f+=this[a],s[a++]=f&this.DM,f>>=this.DB;f+=this.s}else{for(f+=this.s;a<i.t;)f+=i[a],s[a++]=f&this.DM,f>>=this.DB;f+=i.s}s.s=f<0?-1:0,f>0?s[a++]=f:f<-1&&(s[a++]=this.DV+f),s.t=a,s.clamp()}function Vt(i){var s=O();return this.addTo(i,s),s}function W(i){var s=O();return this.subTo(i,s),s}function Yi(i){var s=O();return this.multiplyTo(i,s),s}function Fi(){var i=O();return this.squareTo(i),i}function ci(i){var s=O();return this.divRemTo(i,s,null),s}function Wi(i){var s=O();return this.divRemTo(i,null,s),s}function ve(i){var s=O(),a=O();return this.divRemTo(i,s,a),new Array(s,a)}function Hi(i){this[this.t]=this.am(0,i-1,this,0,0,this.t),++this.t,this.clamp()}function Be(i,s){if(i!=0){for(;this.t<=s;)this[this.t++]=0;for(this[s]+=i;this[s]>=this.DV;)this[s]-=this.DV,++s>=this.t&&(this[this.t++]=0),++this[s]}}function Ne(){}function an(i){return i}function Fn(i,s,a){i.multiplyTo(s,a)}function hn(i,s){i.squareTo(s)}Ne.prototype.convert=an,Ne.prototype.revert=an,Ne.prototype.mulTo=Fn,Ne.prototype.sqrTo=hn;function Wn(i){return this.exp(i,new Ne)}function $e(i,s,a){var f=Math.min(this.t+i.t,s);for(a.s=0,a.t=f;f>0;)a[--f]=0;var d;for(d=a.t-this.t;f<d;++f)a[f+this.t]=this.am(0,i[f],a,f,0,this.t);for(d=Math.min(i.t,s);f<d;++f)this.am(0,i[f],a,f,0,s-f);a.clamp()}function Hn(i,s,a){--s;var f=a.t=this.t+i.t-s;for(a.s=0;--f>=0;)a[f]=0;for(f=Math.max(s-this.t,0);f<i.t;++f)a[this.t+f-s]=this.am(s-f,i[f],a,0,0,this.t+f-s);a.clamp(),a.drShiftTo(1,a)}function ue(i){this.r2=O(),this.q3=O(),M.ONE.dlShiftTo(2*i.t,this.r2),this.mu=this.r2.divide(i),this.m=i}function qn(i){if(i.s<0||i.t>2*this.m.t)return i.mod(this.m);if(i.compareTo(this.m)<0)return i;var s=O();return i.copyTo(s),this.reduce(s),s}function Un(i){return i}function Gn(i){for(i.drShiftTo(this.m.t-1,this.r2),i.t>this.m.t+1&&(i.t=this.m.t+1,i.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);i.compareTo(this.r2)<0;)i.dAddOffset(1,this.m.t+1);for(i.subTo(this.r2,i);i.compareTo(this.m)>=0;)i.subTo(this.m,i)}function qi(i,s){i.squareTo(s),this.reduce(s)}function Qe(i,s,a){i.multiplyTo(s,a),this.reduce(a)}ue.prototype.convert=qn,ue.prototype.revert=Un,ue.prototype.reduce=Gn,ue.prototype.mulTo=Qe,ue.prototype.sqrTo=qi;function di(i,s){var a=i.bitLength(),f,d=Xt(1),m;if(a<=0)return d;a<18?f=1:a<48?f=3:a<144?f=4:a<768?f=5:f=6,a<8?m=new ut(s):s.isEven()?m=new ue(s):m=new Gt(s);var g=new Array,w=3,C=f-1,b=(1<<f)-1;if(g[1]=m.convert(this),f>1){var A=O();for(m.sqrTo(g[1],A);w<=b;)g[w]=O(),m.mulTo(A,g[w-2],g[w]),w+=2}var k=i.t-1,Y,G=!0,H=O(),ot;for(a=_t(i[k])-1;k>=0;){for(a>=C?Y=i[k]>>a-C&b:(Y=(i[k]&(1<<a+1)-1)<<C-a,k>0&&(Y|=i[k-1]>>this.DB+a-C)),w=f;!(Y&1);)Y>>=1,--w;if((a-=w)<0&&(a+=this.DB,--k),G)g[Y].copyTo(d),G=!1;else{for(;w>1;)m.sqrTo(d,H),m.sqrTo(H,d),w-=2;w>0?m.sqrTo(d,H):(ot=d,d=H,H=ot),m.mulTo(H,g[Y],d)}for(;k>=0&&!(i[k]&1<<a);)m.sqrTo(d,H),ot=d,d=H,H=ot,--a<0&&(a=this.DB-1,--k)}return m.revert(d)}function ke(i){var s=this.s<0?this.negate():this.clone(),a=i.s<0?i.negate():i.clone();if(s.compareTo(a)<0){var f=s;s=a,a=f}var d=s.getLowestSetBit(),m=a.getLowestSetBit();if(m<0)return s;for(d<m&&(m=d),m>0&&(s.rShiftTo(m,s),a.rShiftTo(m,a));s.signum()>0;)(d=s.getLowestSetBit())>0&&s.rShiftTo(d,s),(d=a.getLowestSetBit())>0&&a.rShiftTo(d,a),s.compareTo(a)>=0?(s.subTo(a,s),s.rShiftTo(1,s)):(a.subTo(s,a),a.rShiftTo(1,a));return m>0&&a.lShiftTo(m,a),a}function De(i){if(i<=0)return 0;var s=this.DV%i,a=this.s<0?i-1:0;if(this.t>0)if(s==0)a=this[0]%i;else for(var f=this.t-1;f>=0;--f)a=(s*a+this[f])%i;return a}function ft(i){var s=i.isEven();if(this.isEven()&&s||i.signum()==0)return M.ZERO;for(var a=i.clone(),f=this.clone(),d=Xt(1),m=Xt(0),g=Xt(0),w=Xt(1);a.signum()!=0;){for(;a.isEven();)a.rShiftTo(1,a),s?((!d.isEven()||!m.isEven())&&(d.addTo(this,d),m.subTo(i,m)),d.rShiftTo(1,d)):m.isEven()||m.subTo(i,m),m.rShiftTo(1,m);for(;f.isEven();)f.rShiftTo(1,f),s?((!g.isEven()||!w.isEven())&&(g.addTo(this,g),w.subTo(i,w)),g.rShiftTo(1,g)):w.isEven()||w.subTo(i,w),w.rShiftTo(1,w);a.compareTo(f)>=0?(a.subTo(f,a),s&&d.subTo(g,d),m.subTo(w,m)):(f.subTo(a,f),s&&g.subTo(d,g),w.subTo(m,w))}if(f.compareTo(M.ONE)!=0)return M.ZERO;if(w.compareTo(i)>=0)return w.subtract(i);if(w.signum()<0)w.addTo(i,w);else return w;return w.signum()<0?w.add(i):w}var nt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ht=(1<<26)/nt[nt.length-1];function ct(i){var s,a=this.abs();if(a.t==1&&a[0]<=nt[nt.length-1]){for(s=0;s<nt.length;++s)if(a[0]==nt[s])return!0;return!1}if(a.isEven())return!1;for(s=1;s<nt.length;){for(var f=nt[s],d=s+1;d<nt.length&&f<ht;)f*=nt[d++];for(f=a.modInt(f);s<d;)if(f%nt[s++]==0)return!1}return a.millerRabin(i)}function fe(i){var s=this.subtract(M.ONE),a=s.getLowestSetBit();if(a<=0)return!1;var f=s.shiftRight(a);i=i+1>>1,i>nt.length&&(i=nt.length);for(var d=O(),m=0;m<i;++m){d.fromInt(nt[Math.floor(Math.random()*nt.length)]);var g=d.modPow(f,this);if(g.compareTo(M.ONE)!=0&&g.compareTo(s)!=0){for(var w=1;w++<a&&g.compareTo(s)!=0;)if(g=g.modPowInt(2,this),g.compareTo(M.ONE)==0)return!1;if(g.compareTo(s)!=0)return!1}}return!0}M.prototype.chunkSize=Ai,M.prototype.toRadix=En,M.prototype.fromRadix=Ve,M.prototype.fromNumber=Bi,M.prototype.bitwiseTo=On,M.prototype.changeBit=je,M.prototype.addTo=U,M.prototype.dMultiply=Hi,M.prototype.dAddOffset=Be,M.prototype.multiplyLowerTo=$e,M.prototype.multiplyUpperTo=Hn,M.prototype.modInt=De,M.prototype.millerRabin=fe,M.prototype.clone=bn,M.prototype.intValue=Mi,M.prototype.byteValue=Ge,M.prototype.shortValue=Oi,M.prototype.signum=Sn,M.prototype.toByteArray=Ni,M.prototype.equals=Mn,M.prototype.min=ki,M.prototype.max=Di,M.prototype.and=Je,M.prototype.or=An,M.prototype.xor=Bn,M.prototype.andNot=Zi,M.prototype.not=Ri,M.prototype.shiftLeft=Xi,M.prototype.shiftRight=Nn,M.prototype.getLowestSetBit=Dn,M.prototype.bitCount=Zn,M.prototype.testBit=Rn,M.prototype.setBit=Xn,M.prototype.clearBit=Yn,M.prototype.flipBit=ie,M.prototype.add=Vt,M.prototype.subtract=W,M.prototype.multiply=Yi,M.prototype.divide=ci,M.prototype.remainder=Wi,M.prototype.divideAndRemainder=ve,M.prototype.modPow=di,M.prototype.modInverse=ft,M.prototype.pow=Wn,M.prototype.gcd=ke,M.prototype.isProbablePrime=ct,M.prototype.square=Fi;var tt=M;if(tt.prototype.IsNegative=function(){return this.compareTo(tt.ZERO)==-1},tt.op_Equality=function(i,s){return i.compareTo(s)==0},tt.op_Inequality=function(i,s){return i.compareTo(s)!=0},tt.op_GreaterThan=function(i,s){return i.compareTo(s)>0},tt.op_LessThan=function(i,s){return i.compareTo(s)<0},tt.op_Addition=function(i,s){return new tt(i).add(new tt(s))},tt.op_Subtraction=function(i,s){return new tt(i).subtract(new tt(s))},tt.Int128Mul=function(i,s){return new tt(i).multiply(new tt(s))},tt.op_Division=function(i,s){return i.divide(s)},tt.prototype.ToDouble=function(){return parseFloat(this.toString())},typeof $>"u")var $=function(i,s){var a;if(typeof Object.getOwnPropertyNames>"u"){for(a in s.prototype)(typeof i.prototype[a]>"u"||i.prototype[a]==Object.prototype[a])&&(i.prototype[a]=s.prototype[a]);for(a in s)typeof i[a]>"u"&&(i[a]=s[a]);i.$baseCtor=s}else{for(var f=Object.getOwnPropertyNames(s.prototype),d=0;d<f.length;d++)typeof Object.getOwnPropertyDescriptor(i.prototype,f[d])>"u"&&Object.defineProperty(i.prototype,f[d],Object.getOwnPropertyDescriptor(s.prototype,f[d]));for(a in s)typeof i[a]>"u"&&(i[a]=s[a]);i.$baseCtor=s}};l.Path=function(){return[]},l.Paths=function(){return[]},l.DoublePoint=function(){var i=arguments;this.X=0,this.Y=0,i.length==1?(this.X=i[0].X,this.Y=i[0].Y):i.length==2&&(this.X=i[0],this.Y=i[1])},l.DoublePoint0=function(){this.X=0,this.Y=0},l.DoublePoint1=function(i){this.X=i.X,this.Y=i.Y},l.DoublePoint2=function(i,s){this.X=i,this.Y=s},l.PolyNode=function(){this.m_Parent=null,this.m_polygon=new l.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},l.PolyNode.prototype.IsHoleNode=function(){for(var i=!0,s=this.m_Parent;s!==null;)i=!i,s=s.m_Parent;return i},l.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},l.PolyNode.prototype.Contour=function(){return this.m_polygon},l.PolyNode.prototype.AddChild=function(i){var s=this.m_Childs.length;this.m_Childs.push(i),i.m_Parent=this,i.m_Index=s},l.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},l.PolyNode.prototype.GetNextSiblingUp=function(){return this.m_Parent===null?null:this.m_Index==this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},l.PolyNode.prototype.Childs=function(){return this.m_Childs},l.PolyNode.prototype.Parent=function(){return this.m_Parent},l.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},l.PolyTree=function(){this.m_AllPolys=[],l.PolyNode.call(this)},l.PolyTree.prototype.Clear=function(){for(var i=0,s=this.m_AllPolys.length;i<s;i++)this.m_AllPolys[i]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},l.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},l.PolyTree.prototype.Total=function(){return this.m_AllPolys.length},$(l.PolyTree,l.PolyNode),l.Math_Abs_Int64=l.Math_Abs_Int32=l.Math_Abs_Double=function(i){return Math.abs(i)},l.Math_Max_Int32_Int32=function(i,s){return Math.max(i,s)},D.msie||D.opera||D.safari?l.Cast_Int32=function(i){return i|0}:l.Cast_Int32=function(i){return~~i},D.chrome?l.Cast_Int64=function(i){return i<-2147483648||i>2147483647?i<0?Math.ceil(i):Math.floor(i):~~i}:D.firefox&&typeof Number.toInteger=="function"?l.Cast_Int64=function(i){return Number.toInteger(i)}:D.msie7||D.msie8?l.Cast_Int64=function(i){return parseInt(i,10)}:D.msie?l.Cast_Int64=function(i){return i<-2147483648||i>2147483647?i<0?Math.ceil(i):Math.floor(i):i|0}:l.Cast_Int64=function(i){return i<0?Math.ceil(i):Math.floor(i)},l.Clear=function(i){i.length=0},l.PI=3.141592653589793,l.PI2=2*3.141592653589793,l.IntPoint=function(){var i=arguments,s=i.length;this.X=0,this.Y=0;var a,f;if(s==2)this.X=i[0],this.Y=i[1];else if(s==1)if(i[0]instanceof l.DoublePoint){var a=i[0];this.X=l.Clipper.Round(a.X),this.Y=l.Clipper.Round(a.Y)}else{var f=i[0];this.X=f.X,this.Y=f.Y}else this.X=0,this.Y=0},l.IntPoint.op_Equality=function(i,s){return i.X==s.X&&i.Y==s.Y},l.IntPoint.op_Inequality=function(i,s){return i.X!=s.X||i.Y!=s.Y},l.IntPoint0=function(){this.X=0,this.Y=0},l.IntPoint1=function(i){this.X=i.X,this.Y=i.Y},l.IntPoint1dp=function(i){this.X=l.Clipper.Round(i.X),this.Y=l.Clipper.Round(i.Y)},l.IntPoint2=function(i,s){this.X=i,this.Y=s},l.IntRect=function(){var i=arguments,s=i.length;s==4?(this.left=i[0],this.top=i[1],this.right=i[2],this.bottom=i[3]):s==1?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)},l.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},l.IntRect1=function(i){this.left=i.left,this.top=i.top,this.right=i.right,this.bottom=i.bottom},l.IntRect4=function(i,s,a,f){this.left=i,this.top=s,this.right=a,this.bottom=f},l.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},l.PolyType={ptSubject:0,ptClip:1},l.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},l.JoinType={jtSquare:0,jtRound:1,jtMiter:2},l.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},l.EdgeSide={esLeft:0,esRight:1},l.Direction={dRightToLeft:0,dLeftToRight:1},l.TEdge=function(){this.Bot=new l.IntPoint,this.Curr=new l.IntPoint,this.Top=new l.IntPoint,this.Delta=new l.IntPoint,this.Dx=0,this.PolyTyp=l.PolyType.ptSubject,this.Side=l.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},l.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new l.IntPoint},l.MyIntersectNodeSort=function(){},l.MyIntersectNodeSort.Compare=function(i,s){return s.Pt.Y-i.Pt.Y},l.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},l.Scanbeam=function(){this.Y=0,this.Next=null},l.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},l.OutPt=function(){this.Idx=0,this.Pt=new l.IntPoint,this.Next=null,this.Prev=null},l.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new l.IntPoint},l.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},l.ClipperBase.horizontal=-9007199254740992,l.ClipperBase.Skip=-2,l.ClipperBase.Unassigned=-1,l.ClipperBase.tolerance=1e-20,l.ClipperBase.loRange=47453132,l.ClipperBase.hiRange=0xfffffffffffff,l.ClipperBase.near_zero=function(i){return i>-l.ClipperBase.tolerance&&i<l.ClipperBase.tolerance},l.ClipperBase.IsHorizontal=function(i){return i.Delta.Y===0},l.ClipperBase.prototype.PointIsVertex=function(i,s){var a=s;do{if(l.IntPoint.op_Equality(a.Pt,i))return!0;a=a.Next}while(a!=s);return!1},l.ClipperBase.prototype.PointOnLineSegment=function(i,s,a,f){return f?i.X==s.X&&i.Y==s.Y||i.X==a.X&&i.Y==a.Y||i.X>s.X==i.X<a.X&&i.Y>s.Y==i.Y<a.Y&&tt.op_Equality(tt.Int128Mul(i.X-s.X,a.Y-s.Y),tt.Int128Mul(a.X-s.X,i.Y-s.Y)):i.X==s.X&&i.Y==s.Y||i.X==a.X&&i.Y==a.Y||i.X>s.X==i.X<a.X&&i.Y>s.Y==i.Y<a.Y&&(i.X-s.X)*(a.Y-s.Y)==(a.X-s.X)*(i.Y-s.Y)},l.ClipperBase.prototype.PointOnPolygon=function(i,s,a){for(var f=s;;){if(this.PointOnLineSegment(i,f.Pt,f.Next.Pt,a))return!0;if(f=f.Next,f==s)break}return!1},l.ClipperBase.prototype.SlopesEqual=l.ClipperBase.SlopesEqual=function(){var i=arguments,s=i.length,a,f,d,m,g,w,C;return s==3?(a=i[0],f=i[1],C=i[2],C?tt.op_Equality(tt.Int128Mul(a.Delta.Y,f.Delta.X),tt.Int128Mul(a.Delta.X,f.Delta.Y)):l.Cast_Int64(a.Delta.Y*f.Delta.X)==l.Cast_Int64(a.Delta.X*f.Delta.Y)):s==4?(d=i[0],m=i[1],g=i[2],C=i[3],C?tt.op_Equality(tt.Int128Mul(d.Y-m.Y,m.X-g.X),tt.Int128Mul(d.X-m.X,m.Y-g.Y)):l.Cast_Int64((d.Y-m.Y)*(m.X-g.X))-l.Cast_Int64((d.X-m.X)*(m.Y-g.Y))===0):(d=i[0],m=i[1],g=i[2],w=i[3],C=i[4],C?tt.op_Equality(tt.Int128Mul(d.Y-m.Y,g.X-w.X),tt.Int128Mul(d.X-m.X,g.Y-w.Y)):l.Cast_Int64((d.Y-m.Y)*(g.X-w.X))-l.Cast_Int64((d.X-m.X)*(g.Y-w.Y))===0)},l.ClipperBase.SlopesEqual3=function(i,s,a){return a?tt.op_Equality(tt.Int128Mul(i.Delta.Y,s.Delta.X),tt.Int128Mul(i.Delta.X,s.Delta.Y)):l.Cast_Int64(i.Delta.Y*s.Delta.X)==l.Cast_Int64(i.Delta.X*s.Delta.Y)},l.ClipperBase.SlopesEqual4=function(i,s,a,f){return f?tt.op_Equality(tt.Int128Mul(i.Y-s.Y,s.X-a.X),tt.Int128Mul(i.X-s.X,s.Y-a.Y)):l.Cast_Int64((i.Y-s.Y)*(s.X-a.X))-l.Cast_Int64((i.X-s.X)*(s.Y-a.Y))===0},l.ClipperBase.SlopesEqual5=function(i,s,a,f,d){return d?tt.op_Equality(tt.Int128Mul(i.Y-s.Y,a.X-f.X),tt.Int128Mul(i.X-s.X,a.Y-f.Y)):l.Cast_Int64((i.Y-s.Y)*(a.X-f.X))-l.Cast_Int64((i.X-s.X)*(a.Y-f.Y))===0},l.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var i=0,s=this.m_edges.length;i<s;++i){for(var a=0,f=this.m_edges[i].length;a<f;++a)this.m_edges[i][a]=null;l.Clear(this.m_edges[i])}l.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},l.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;this.m_MinimaList!==null;){var i=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=i}this.m_CurrentLM=null},l.ClipperBase.prototype.RangeTest=function(i,s){s.Value?(i.X>l.ClipperBase.hiRange||i.Y>l.ClipperBase.hiRange||-i.X>l.ClipperBase.hiRange||-i.Y>l.ClipperBase.hiRange)&&l.Error("Coordinate outside allowed range in RangeTest()."):(i.X>l.ClipperBase.loRange||i.Y>l.ClipperBase.loRange||-i.X>l.ClipperBase.loRange||-i.Y>l.ClipperBase.loRange)&&(s.Value=!0,this.RangeTest(i,s))},l.ClipperBase.prototype.InitEdge=function(i,s,a,f){i.Next=s,i.Prev=a,i.Curr.X=f.X,i.Curr.Y=f.Y,i.OutIdx=-1},l.ClipperBase.prototype.InitEdge2=function(i,s){i.Curr.Y>=i.Next.Curr.Y?(i.Bot.X=i.Curr.X,i.Bot.Y=i.Curr.Y,i.Top.X=i.Next.Curr.X,i.Top.Y=i.Next.Curr.Y):(i.Top.X=i.Curr.X,i.Top.Y=i.Curr.Y,i.Bot.X=i.Next.Curr.X,i.Bot.Y=i.Next.Curr.Y),this.SetDx(i),i.PolyTyp=s},l.ClipperBase.prototype.FindNextLocMin=function(i){for(var s;;){for(;l.IntPoint.op_Inequality(i.Bot,i.Prev.Bot)||l.IntPoint.op_Equality(i.Curr,i.Top);)i=i.Next;if(i.Dx!=l.ClipperBase.horizontal&&i.Prev.Dx!=l.ClipperBase.horizontal)break;for(;i.Prev.Dx==l.ClipperBase.horizontal;)i=i.Prev;for(s=i;i.Dx==l.ClipperBase.horizontal;)i=i.Next;if(i.Top.Y!=i.Prev.Bot.Y){s.Prev.Bot.X<i.Bot.X&&(i=s);break}}return i},l.ClipperBase.prototype.ProcessBound=function(i,s){var a=i,f=i,d,m;if(i.Dx==l.ClipperBase.horizontal&&(s?m=i.Prev.Bot.X:m=i.Next.Bot.X,i.Bot.X!=m&&this.ReverseHorizontal(i)),f.OutIdx!=l.ClipperBase.Skip)if(s){for(;f.Top.Y==f.Next.Bot.Y&&f.Next.OutIdx!=l.ClipperBase.Skip;)f=f.Next;if(f.Dx==l.ClipperBase.horizontal&&f.Next.OutIdx!=l.ClipperBase.Skip){for(d=f;d.Prev.Dx==l.ClipperBase.horizontal;)d=d.Prev;d.Prev.Top.X==f.Next.Top.X?s||(f=d.Prev):d.Prev.Top.X>f.Next.Top.X&&(f=d.Prev)}for(;i!=f;)i.NextInLML=i.Next,i.Dx==l.ClipperBase.horizontal&&i!=a&&i.Bot.X!=i.Prev.Top.X&&this.ReverseHorizontal(i),i=i.Next;i.Dx==l.ClipperBase.horizontal&&i!=a&&i.Bot.X!=i.Prev.Top.X&&this.ReverseHorizontal(i),f=f.Next}else{for(;f.Top.Y==f.Prev.Bot.Y&&f.Prev.OutIdx!=l.ClipperBase.Skip;)f=f.Prev;if(f.Dx==l.ClipperBase.horizontal&&f.Prev.OutIdx!=l.ClipperBase.Skip){for(d=f;d.Next.Dx==l.ClipperBase.horizontal;)d=d.Next;d.Next.Top.X==f.Prev.Top.X?s||(f=d.Next):d.Next.Top.X>f.Prev.Top.X&&(f=d.Next)}for(;i!=f;)i.NextInLML=i.Prev,i.Dx==l.ClipperBase.horizontal&&i!=a&&i.Bot.X!=i.Next.Top.X&&this.ReverseHorizontal(i),i=i.Prev;i.Dx==l.ClipperBase.horizontal&&i!=a&&i.Bot.X!=i.Next.Top.X&&this.ReverseHorizontal(i),f=f.Prev}if(f.OutIdx==l.ClipperBase.Skip){if(i=f,s){for(;i.Top.Y==i.Next.Bot.Y;)i=i.Next;for(;i!=f&&i.Dx==l.ClipperBase.horizontal;)i=i.Prev}else{for(;i.Top.Y==i.Prev.Bot.Y;)i=i.Prev;for(;i!=f&&i.Dx==l.ClipperBase.horizontal;)i=i.Next}if(i==f)s?f=i.Next:f=i.Prev;else{s?i=f.Next:i=f.Prev;var g=new l.LocalMinima;g.Next=null,g.Y=i.Bot.Y,g.LeftBound=null,g.RightBound=i,g.RightBound.WindDelta=0,f=this.ProcessBound(g.RightBound,s),this.InsertLocalMinima(g)}}return f},l.ClipperBase.prototype.AddPath=function(i,s,a){!a&&s==l.PolyType.ptClip&&l.Error("AddPath: Open paths must be subject.");var f=i.length-1;if(a)for(;f>0&&l.IntPoint.op_Equality(i[f],i[0]);)--f;for(;f>0&&l.IntPoint.op_Equality(i[f],i[f-1]);)--f;if(a&&f<2||!a&&f<1)return!1;for(var d=new Array,m=0;m<=f;m++)d.push(new l.TEdge);var g=!0;d[1].Curr.X=i[1].X,d[1].Curr.Y=i[1].Y;var w={Value:this.m_UseFullRange};this.RangeTest(i[0],w),this.m_UseFullRange=w.Value,w.Value=this.m_UseFullRange,this.RangeTest(i[f],w),this.m_UseFullRange=w.Value,this.InitEdge(d[0],d[1],d[f],i[0]),this.InitEdge(d[f],d[0],d[f-1],i[f]);for(var m=f-1;m>=1;--m)w.Value=this.m_UseFullRange,this.RangeTest(i[m],w),this.m_UseFullRange=w.Value,this.InitEdge(d[m],d[m+1],d[m-1],i[m]);for(var C=d[0],b=C,A=C;;){if(l.IntPoint.op_Equality(b.Curr,b.Next.Curr)){if(b==b.Next)break;b==C&&(C=b.Next),b=this.RemoveEdge(b),A=b;continue}if(b.Prev==b.Next)break;if(a&&l.ClipperBase.SlopesEqual(b.Prev.Curr,b.Curr,b.Next.Curr,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(b.Prev.Curr,b.Curr,b.Next.Curr))){b==C&&(C=b.Next),b=this.RemoveEdge(b),b=b.Prev,A=b;continue}if(b=b.Next,b==A)break}if(!a&&b==b.Next||a&&b.Prev==b.Next)return!1;a||(this.m_HasOpenPaths=!0,C.Prev.OutIdx=l.ClipperBase.Skip),b=C;do this.InitEdge2(b,s),b=b.Next,g&&b.Curr.Y!=C.Curr.Y&&(g=!1);while(b!=C);if(g){if(a)return!1;b.Prev.OutIdx=l.ClipperBase.Skip,b.Prev.Bot.X<b.Prev.Top.X&&this.ReverseHorizontal(b.Prev);var k=new l.LocalMinima;for(k.Next=null,k.Y=b.Bot.Y,k.LeftBound=null,k.RightBound=b,k.RightBound.Side=l.EdgeSide.esRight,k.RightBound.WindDelta=0;b.Next.OutIdx!=l.ClipperBase.Skip;)b.NextInLML=b.Next,b.Bot.X!=b.Prev.Top.X&&this.ReverseHorizontal(b),b=b.Next;return this.InsertLocalMinima(k),this.m_edges.push(d),!0}this.m_edges.push(d);for(var Y,G=null;b=this.FindNextLocMin(b),b!=G;){G==null&&(G=b);var k=new l.LocalMinima;k.Next=null,k.Y=b.Bot.Y,b.Dx<b.Prev.Dx?(k.LeftBound=b.Prev,k.RightBound=b,Y=!1):(k.LeftBound=b,k.RightBound=b.Prev,Y=!0),k.LeftBound.Side=l.EdgeSide.esLeft,k.RightBound.Side=l.EdgeSide.esRight,a?k.LeftBound.Next==k.RightBound?k.LeftBound.WindDelta=-1:k.LeftBound.WindDelta=1:k.LeftBound.WindDelta=0,k.RightBound.WindDelta=-k.LeftBound.WindDelta,b=this.ProcessBound(k.LeftBound,Y);var H=this.ProcessBound(k.RightBound,!Y);k.LeftBound.OutIdx==l.ClipperBase.Skip?k.LeftBound=null:k.RightBound.OutIdx==l.ClipperBase.Skip&&(k.RightBound=null),this.InsertLocalMinima(k),Y||(b=H)}return!0},l.ClipperBase.prototype.AddPaths=function(i,s,a){for(var f=!1,d=0,m=i.length;d<m;++d)this.AddPath(i[d],s,a)&&(f=!0);return f},l.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(i,s,a){return l.IntPoint.op_Equality(i,a)||l.IntPoint.op_Equality(i,s)||l.IntPoint.op_Equality(a,s)?!1:i.X!=a.X?s.X>i.X==s.X<a.X:s.Y>i.Y==s.Y<a.Y},l.ClipperBase.prototype.RemoveEdge=function(i){i.Prev.Next=i.Next,i.Next.Prev=i.Prev;var s=i.Next;return i.Prev=null,s},l.ClipperBase.prototype.SetDx=function(i){i.Delta.X=i.Top.X-i.Bot.X,i.Delta.Y=i.Top.Y-i.Bot.Y,i.Delta.Y===0?i.Dx=l.ClipperBase.horizontal:i.Dx=i.Delta.X/i.Delta.Y},l.ClipperBase.prototype.InsertLocalMinima=function(i){if(this.m_MinimaList===null)this.m_MinimaList=i;else if(i.Y>=this.m_MinimaList.Y)i.Next=this.m_MinimaList,this.m_MinimaList=i;else{for(var s=this.m_MinimaList;s.Next!==null&&i.Y<s.Next.Y;)s=s.Next;i.Next=s.Next,s.Next=i}},l.ClipperBase.prototype.PopLocalMinima=function(){this.m_CurrentLM!==null&&(this.m_CurrentLM=this.m_CurrentLM.Next)},l.ClipperBase.prototype.ReverseHorizontal=function(i){var s=i.Top.X;i.Top.X=i.Bot.X,i.Bot.X=s},l.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,this.m_CurrentLM!=null)for(var i=this.m_MinimaList;i!=null;){var s=i.LeftBound;s!=null&&(s.Curr.X=s.Bot.X,s.Curr.Y=s.Bot.Y,s.Side=l.EdgeSide.esLeft,s.OutIdx=l.ClipperBase.Unassigned),s=i.RightBound,s!=null&&(s.Curr.X=s.Bot.X,s.Curr.Y=s.Bot.Y,s.Side=l.EdgeSide.esRight,s.OutIdx=l.ClipperBase.Unassigned),i=i.Next}},l.Clipper=function(i){typeof i>"u"&&(i=0),this.m_PolyOuts=null,this.m_ClipType=l.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=l.PolyFillType.pftEvenOdd,this.m_SubjFillType=l.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,l.ClipperBase.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=l.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=(1&i)!==0,this.StrictlySimple=(2&i)!==0,this.PreserveCollinear=(4&i)!==0},l.Clipper.ioReverseSolution=1,l.Clipper.ioStrictlySimple=2,l.Clipper.ioPreserveCollinear=4,l.Clipper.prototype.Clear=function(){this.m_edges.length!==0&&(this.DisposeAllPolyPts(),l.ClipperBase.prototype.Clear.call(this))},l.Clipper.prototype.DisposeScanbeamList=function(){for(;this.m_Scanbeam!==null;){var i=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=i}},l.Clipper.prototype.Reset=function(){l.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var i=this.m_MinimaList;i!==null;)this.InsertScanbeam(i.Y),i=i.Next},l.Clipper.prototype.InsertScanbeam=function(i){if(this.m_Scanbeam===null)this.m_Scanbeam=new l.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=i;else if(i>this.m_Scanbeam.Y){var s=new l.Scanbeam;s.Y=i,s.Next=this.m_Scanbeam,this.m_Scanbeam=s}else{for(var a=this.m_Scanbeam;a.Next!==null&&i<=a.Next.Y;)a=a.Next;if(i==a.Y)return;var s=new l.Scanbeam;s.Y=i,s.Next=a.Next,a.Next=s}},l.Clipper.prototype.Execute=function(){var i=arguments,s=i.length,a=i[1]instanceof l.PolyTree;if(s==4&&!a){var f=i[0],d=i[1],m=i[2],g=i[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&l.Error("Error: PolyTree struct is need for open path clipping."),this.m_ExecuteLocked=!0,l.Clear(d),this.m_SubjFillType=m,this.m_ClipFillType=g,this.m_ClipType=f,this.m_UsingPolyTree=!1;try{var w=this.ExecuteInternal();w&&this.BuildResult(d)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return w}else if(s==4&&a){var f=i[0],C=i[1],m=i[2],g=i[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=m,this.m_ClipFillType=g,this.m_ClipType=f,this.m_UsingPolyTree=!0;try{var w=this.ExecuteInternal();w&&this.BuildResult2(C)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return w}else if(s==2&&!a){var f=i[0],d=i[1];return this.Execute(f,d,l.PolyFillType.pftEvenOdd,l.PolyFillType.pftEvenOdd)}else if(s==2&&a){var f=i[0],C=i[1];return this.Execute(f,C,l.PolyFillType.pftEvenOdd,l.PolyFillType.pftEvenOdd)}},l.Clipper.prototype.FixHoleLinkage=function(i){if(!(i.FirstLeft===null||i.IsHole!=i.FirstLeft.IsHole&&i.FirstLeft.Pts!==null)){for(var s=i.FirstLeft;s!==null&&(s.IsHole==i.IsHole||s.Pts===null);)s=s.FirstLeft;i.FirstLeft=s}},l.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),this.m_CurrentLM===null)return!1;var i=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(i),l.Clear(this.m_GhostJoins),this.ProcessHorizontals(!1),this.m_Scanbeam===null)break;var s=this.PopScanbeam();if(!this.ProcessIntersections(i,s))return!1;this.ProcessEdgesAtTopOfScanbeam(s),i=s}while(this.m_Scanbeam!==null||this.m_CurrentLM!==null);for(var a=0,f=this.m_PolyOuts.length;a<f;a++){var d=this.m_PolyOuts[a];d.Pts===null||d.IsOpen||(d.IsHole^this.ReverseSolution)==this.Area(d)>0&&this.ReversePolyPtLinks(d.Pts)}this.JoinCommonEdges();for(var a=0,f=this.m_PolyOuts.length;a<f;a++){var d=this.m_PolyOuts[a];d.Pts!==null&&!d.IsOpen&&this.FixupOutPolygon(d)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{l.Clear(this.m_Joins),l.Clear(this.m_GhostJoins)}},l.Clipper.prototype.PopScanbeam=function(){var i=this.m_Scanbeam.Y;return this.m_Scanbeam,this.m_Scanbeam=this.m_Scanbeam.Next,i},l.Clipper.prototype.DisposeAllPolyPts=function(){for(var i=0,s=this.m_PolyOuts.length;i<s;++i)this.DisposeOutRec(i);l.Clear(this.m_PolyOuts)},l.Clipper.prototype.DisposeOutRec=function(i){var s=this.m_PolyOuts[i];s.Pts!==null&&this.DisposeOutPts(s.Pts),s=null,this.m_PolyOuts[i]=null},l.Clipper.prototype.DisposeOutPts=function(i){if(i!==null)for(i.Prev.Next=null;i!==null;)i=i.Next},l.Clipper.prototype.AddJoin=function(i,s,a){var f=new l.Join;f.OutPt1=i,f.OutPt2=s,f.OffPt.X=a.X,f.OffPt.Y=a.Y,this.m_Joins.push(f)},l.Clipper.prototype.AddGhostJoin=function(i,s){var a=new l.Join;a.OutPt1=i,a.OffPt.X=s.X,a.OffPt.Y=s.Y,this.m_GhostJoins.push(a)},l.Clipper.prototype.InsertLocalMinimaIntoAEL=function(i){for(;this.m_CurrentLM!==null&&this.m_CurrentLM.Y==i;){var s=this.m_CurrentLM.LeftBound,a=this.m_CurrentLM.RightBound;this.PopLocalMinima();var f=null;if(s===null?(this.InsertEdgeIntoAEL(a,null),this.SetWindingCount(a),this.IsContributing(a)&&(f=this.AddOutPt(a,a.Bot))):a==null?(this.InsertEdgeIntoAEL(s,null),this.SetWindingCount(s),this.IsContributing(s)&&(f=this.AddOutPt(s,s.Bot)),this.InsertScanbeam(s.Top.Y)):(this.InsertEdgeIntoAEL(s,null),this.InsertEdgeIntoAEL(a,s),this.SetWindingCount(s),a.WindCnt=s.WindCnt,a.WindCnt2=s.WindCnt2,this.IsContributing(s)&&(f=this.AddLocalMinPoly(s,a,s.Bot)),this.InsertScanbeam(s.Top.Y)),a!=null&&(l.ClipperBase.IsHorizontal(a)?this.AddEdgeToSEL(a):this.InsertScanbeam(a.Top.Y)),!(s==null||a==null)){if(f!==null&&l.ClipperBase.IsHorizontal(a)&&this.m_GhostJoins.length>0&&a.WindDelta!==0)for(var d=0,m=this.m_GhostJoins.length;d<m;d++){var g=this.m_GhostJoins[d];this.HorzSegmentsOverlap(g.OutPt1.Pt,g.OffPt,a.Bot,a.Top)&&this.AddJoin(g.OutPt1,f,g.OffPt)}if(s.OutIdx>=0&&s.PrevInAEL!==null&&s.PrevInAEL.Curr.X==s.Bot.X&&s.PrevInAEL.OutIdx>=0&&l.ClipperBase.SlopesEqual(s.PrevInAEL,s,this.m_UseFullRange)&&s.WindDelta!==0&&s.PrevInAEL.WindDelta!==0){var w=this.AddOutPt(s.PrevInAEL,s.Bot);this.AddJoin(f,w,s.Top)}if(s.NextInAEL!=a){if(a.OutIdx>=0&&a.PrevInAEL.OutIdx>=0&&l.ClipperBase.SlopesEqual(a.PrevInAEL,a,this.m_UseFullRange)&&a.WindDelta!==0&&a.PrevInAEL.WindDelta!==0){var w=this.AddOutPt(a.PrevInAEL,a.Bot);this.AddJoin(f,w,a.Top)}var C=s.NextInAEL;if(C!==null)for(;C!=a;)this.IntersectEdges(a,C,s.Curr,!1),C=C.NextInAEL}}}},l.Clipper.prototype.InsertEdgeIntoAEL=function(i,s){if(this.m_ActiveEdges===null)i.PrevInAEL=null,i.NextInAEL=null,this.m_ActiveEdges=i;else if(s===null&&this.E2InsertsBeforeE1(this.m_ActiveEdges,i))i.PrevInAEL=null,i.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=i,this.m_ActiveEdges=i;else{for(s===null&&(s=this.m_ActiveEdges);s.NextInAEL!==null&&!this.E2InsertsBeforeE1(s.NextInAEL,i);)s=s.NextInAEL;i.NextInAEL=s.NextInAEL,s.NextInAEL!==null&&(s.NextInAEL.PrevInAEL=i),i.PrevInAEL=s,s.NextInAEL=i}},l.Clipper.prototype.E2InsertsBeforeE1=function(i,s){return s.Curr.X==i.Curr.X?s.Top.Y>i.Top.Y?s.Top.X<l.Clipper.TopX(i,s.Top.Y):i.Top.X>l.Clipper.TopX(s,i.Top.Y):s.Curr.X<i.Curr.X},l.Clipper.prototype.IsEvenOddFillType=function(i){return i.PolyTyp==l.PolyType.ptSubject?this.m_SubjFillType==l.PolyFillType.pftEvenOdd:this.m_ClipFillType==l.PolyFillType.pftEvenOdd},l.Clipper.prototype.IsEvenOddAltFillType=function(i){return i.PolyTyp==l.PolyType.ptSubject?this.m_ClipFillType==l.PolyFillType.pftEvenOdd:this.m_SubjFillType==l.PolyFillType.pftEvenOdd},l.Clipper.prototype.IsContributing=function(i){var s,a;switch(i.PolyTyp==l.PolyType.ptSubject?(s=this.m_SubjFillType,a=this.m_ClipFillType):(s=this.m_ClipFillType,a=this.m_SubjFillType),s){case l.PolyFillType.pftEvenOdd:if(i.WindDelta===0&&i.WindCnt!=1)return!1;break;case l.PolyFillType.pftNonZero:if(Math.abs(i.WindCnt)!=1)return!1;break;case l.PolyFillType.pftPositive:if(i.WindCnt!=1)return!1;break;default:if(i.WindCnt!=-1)return!1;break}switch(this.m_ClipType){case l.ClipType.ctIntersection:switch(a){case l.PolyFillType.pftEvenOdd:case l.PolyFillType.pftNonZero:return i.WindCnt2!==0;case l.PolyFillType.pftPositive:return i.WindCnt2>0;default:return i.WindCnt2<0}case l.ClipType.ctUnion:switch(a){case l.PolyFillType.pftEvenOdd:case l.PolyFillType.pftNonZero:return i.WindCnt2===0;case l.PolyFillType.pftPositive:return i.WindCnt2<=0;default:return i.WindCnt2>=0}case l.ClipType.ctDifference:if(i.PolyTyp==l.PolyType.ptSubject)switch(a){case l.PolyFillType.pftEvenOdd:case l.PolyFillType.pftNonZero:return i.WindCnt2===0;case l.PolyFillType.pftPositive:return i.WindCnt2<=0;default:return i.WindCnt2>=0}else switch(a){case l.PolyFillType.pftEvenOdd:case l.PolyFillType.pftNonZero:return i.WindCnt2!==0;case l.PolyFillType.pftPositive:return i.WindCnt2>0;default:return i.WindCnt2<0}case l.ClipType.ctXor:if(i.WindDelta===0)switch(a){case l.PolyFillType.pftEvenOdd:case l.PolyFillType.pftNonZero:return i.WindCnt2===0;case l.PolyFillType.pftPositive:return i.WindCnt2<=0;default:return i.WindCnt2>=0}else return!0}return!0},l.Clipper.prototype.SetWindingCount=function(i){for(var s=i.PrevInAEL;s!==null&&(s.PolyTyp!=i.PolyTyp||s.WindDelta===0);)s=s.PrevInAEL;if(s===null)i.WindCnt=i.WindDelta===0?1:i.WindDelta,i.WindCnt2=0,s=this.m_ActiveEdges;else if(i.WindDelta===0&&this.m_ClipType!=l.ClipType.ctUnion)i.WindCnt=1,i.WindCnt2=s.WindCnt2,s=s.NextInAEL;else if(this.IsEvenOddFillType(i)){if(i.WindDelta===0){for(var a=!0,f=s.PrevInAEL;f!==null;)f.PolyTyp==s.PolyTyp&&f.WindDelta!==0&&(a=!a),f=f.PrevInAEL;i.WindCnt=a?0:1}else i.WindCnt=i.WindDelta;i.WindCnt2=s.WindCnt2,s=s.NextInAEL}else s.WindCnt*s.WindDelta<0?Math.abs(s.WindCnt)>1?s.WindDelta*i.WindDelta<0?i.WindCnt=s.WindCnt:i.WindCnt=s.WindCnt+i.WindDelta:i.WindCnt=i.WindDelta===0?1:i.WindDelta:i.WindDelta===0?i.WindCnt=s.WindCnt<0?s.WindCnt-1:s.WindCnt+1:s.WindDelta*i.WindDelta<0?i.WindCnt=s.WindCnt:i.WindCnt=s.WindCnt+i.WindDelta,i.WindCnt2=s.WindCnt2,s=s.NextInAEL;if(this.IsEvenOddAltFillType(i))for(;s!=i;)s.WindDelta!==0&&(i.WindCnt2=i.WindCnt2===0?1:0),s=s.NextInAEL;else for(;s!=i;)i.WindCnt2+=s.WindDelta,s=s.NextInAEL},l.Clipper.prototype.AddEdgeToSEL=function(i){this.m_SortedEdges===null?(this.m_SortedEdges=i,i.PrevInSEL=null,i.NextInSEL=null):(i.NextInSEL=this.m_SortedEdges,i.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=i,this.m_SortedEdges=i)},l.Clipper.prototype.CopyAELToSEL=function(){var i=this.m_ActiveEdges;for(this.m_SortedEdges=i;i!==null;)i.PrevInSEL=i.PrevInAEL,i.NextInSEL=i.NextInAEL,i=i.NextInAEL},l.Clipper.prototype.SwapPositionsInAEL=function(i,s){if(!(i.NextInAEL==i.PrevInAEL||s.NextInAEL==s.PrevInAEL)){if(i.NextInAEL==s){var a=s.NextInAEL;a!==null&&(a.PrevInAEL=i);var f=i.PrevInAEL;f!==null&&(f.NextInAEL=s),s.PrevInAEL=f,s.NextInAEL=i,i.PrevInAEL=s,i.NextInAEL=a}else if(s.NextInAEL==i){var a=i.NextInAEL;a!==null&&(a.PrevInAEL=s);var f=s.PrevInAEL;f!==null&&(f.NextInAEL=i),i.PrevInAEL=f,i.NextInAEL=s,s.PrevInAEL=i,s.NextInAEL=a}else{var a=i.NextInAEL,f=i.PrevInAEL;i.NextInAEL=s.NextInAEL,i.NextInAEL!==null&&(i.NextInAEL.PrevInAEL=i),i.PrevInAEL=s.PrevInAEL,i.PrevInAEL!==null&&(i.PrevInAEL.NextInAEL=i),s.NextInAEL=a,s.NextInAEL!==null&&(s.NextInAEL.PrevInAEL=s),s.PrevInAEL=f,s.PrevInAEL!==null&&(s.PrevInAEL.NextInAEL=s)}i.PrevInAEL===null?this.m_ActiveEdges=i:s.PrevInAEL===null&&(this.m_ActiveEdges=s)}},l.Clipper.prototype.SwapPositionsInSEL=function(i,s){if(!(i.NextInSEL===null&&i.PrevInSEL===null)&&!(s.NextInSEL===null&&s.PrevInSEL===null)){if(i.NextInSEL==s){var a=s.NextInSEL;a!==null&&(a.PrevInSEL=i);var f=i.PrevInSEL;f!==null&&(f.NextInSEL=s),s.PrevInSEL=f,s.NextInSEL=i,i.PrevInSEL=s,i.NextInSEL=a}else if(s.NextInSEL==i){var a=i.NextInSEL;a!==null&&(a.PrevInSEL=s);var f=s.PrevInSEL;f!==null&&(f.NextInSEL=i),i.PrevInSEL=f,i.NextInSEL=s,s.PrevInSEL=i,s.NextInSEL=a}else{var a=i.NextInSEL,f=i.PrevInSEL;i.NextInSEL=s.NextInSEL,i.NextInSEL!==null&&(i.NextInSEL.PrevInSEL=i),i.PrevInSEL=s.PrevInSEL,i.PrevInSEL!==null&&(i.PrevInSEL.NextInSEL=i),s.NextInSEL=a,s.NextInSEL!==null&&(s.NextInSEL.PrevInSEL=s),s.PrevInSEL=f,s.PrevInSEL!==null&&(s.PrevInSEL.NextInSEL=s)}i.PrevInSEL===null?this.m_SortedEdges=i:s.PrevInSEL===null&&(this.m_SortedEdges=s)}},l.Clipper.prototype.AddLocalMaxPoly=function(i,s,a){this.AddOutPt(i,a),s.WindDelta==0&&this.AddOutPt(s,a),i.OutIdx==s.OutIdx?(i.OutIdx=-1,s.OutIdx=-1):i.OutIdx<s.OutIdx?this.AppendPolygon(i,s):this.AppendPolygon(s,i)},l.Clipper.prototype.AddLocalMinPoly=function(i,s,a){var f,d,m;if(l.ClipperBase.IsHorizontal(s)||i.Dx>s.Dx?(f=this.AddOutPt(i,a),s.OutIdx=i.OutIdx,i.Side=l.EdgeSide.esLeft,s.Side=l.EdgeSide.esRight,d=i,d.PrevInAEL==s?m=s.PrevInAEL:m=d.PrevInAEL):(f=this.AddOutPt(s,a),i.OutIdx=s.OutIdx,i.Side=l.EdgeSide.esRight,s.Side=l.EdgeSide.esLeft,d=s,d.PrevInAEL==i?m=i.PrevInAEL:m=d.PrevInAEL),m!==null&&m.OutIdx>=0&&l.Clipper.TopX(m,a.Y)==l.Clipper.TopX(d,a.Y)&&l.ClipperBase.SlopesEqual(d,m,this.m_UseFullRange)&&d.WindDelta!==0&&m.WindDelta!==0){var g=this.AddOutPt(m,a);this.AddJoin(f,g,d.Top)}return f},l.Clipper.prototype.CreateOutRec=function(){var i=new l.OutRec;return i.Idx=-1,i.IsHole=!1,i.IsOpen=!1,i.FirstLeft=null,i.Pts=null,i.BottomPt=null,i.PolyNode=null,this.m_PolyOuts.push(i),i.Idx=this.m_PolyOuts.length-1,i},l.Clipper.prototype.AddOutPt=function(i,s){var a=i.Side==l.EdgeSide.esLeft;if(i.OutIdx<0){var f=this.CreateOutRec();f.IsOpen=i.WindDelta===0;var d=new l.OutPt;return f.Pts=d,d.Idx=f.Idx,d.Pt.X=s.X,d.Pt.Y=s.Y,d.Next=d,d.Prev=d,f.IsOpen||this.SetHoleState(i,f),i.OutIdx=f.Idx,d}else{var f=this.m_PolyOuts[i.OutIdx],m=f.Pts;if(a&&l.IntPoint.op_Equality(s,m.Pt))return m;if(!a&&l.IntPoint.op_Equality(s,m.Prev.Pt))return m.Prev;var d=new l.OutPt;return d.Idx=f.Idx,d.Pt.X=s.X,d.Pt.Y=s.Y,d.Next=m,d.Prev=m.Prev,d.Prev.Next=d,m.Prev=d,a&&(f.Pts=d),d}},l.Clipper.prototype.SwapPoints=function(i,s){var a=new l.IntPoint(i.Value);i.Value.X=s.Value.X,i.Value.Y=s.Value.Y,s.Value.X=a.X,s.Value.Y=a.Y},l.Clipper.prototype.HorzSegmentsOverlap=function(i,s,a,f){return i.X>a.X==i.X<f.X||s.X>a.X==s.X<f.X||a.X>i.X==a.X<s.X||f.X>i.X==f.X<s.X||i.X==a.X&&s.X==f.X?!0:i.X==f.X&&s.X==a.X},l.Clipper.prototype.InsertPolyPtBetween=function(i,s,a){var f=new l.OutPt;return f.Pt.X=a.X,f.Pt.Y=a.Y,s==i.Next?(i.Next=f,s.Prev=f,f.Next=s,f.Prev=i):(s.Next=f,i.Prev=f,f.Next=i,f.Prev=s),f},l.Clipper.prototype.SetHoleState=function(i,s){for(var a=!1,f=i.PrevInAEL;f!==null;)f.OutIdx>=0&&f.WindDelta!=0&&(a=!a,s.FirstLeft===null&&(s.FirstLeft=this.m_PolyOuts[f.OutIdx])),f=f.PrevInAEL;a&&(s.IsHole=!0)},l.Clipper.prototype.GetDx=function(i,s){return i.Y==s.Y?l.ClipperBase.horizontal:(s.X-i.X)/(s.Y-i.Y)},l.Clipper.prototype.FirstIsBottomPt=function(i,s){for(var a=i.Prev;l.IntPoint.op_Equality(a.Pt,i.Pt)&&a!=i;)a=a.Prev;var f=Math.abs(this.GetDx(i.Pt,a.Pt));for(a=i.Next;l.IntPoint.op_Equality(a.Pt,i.Pt)&&a!=i;)a=a.Next;var d=Math.abs(this.GetDx(i.Pt,a.Pt));for(a=s.Prev;l.IntPoint.op_Equality(a.Pt,s.Pt)&&a!=s;)a=a.Prev;var m=Math.abs(this.GetDx(s.Pt,a.Pt));for(a=s.Next;l.IntPoint.op_Equality(a.Pt,s.Pt)&&a!=s;)a=a.Next;var g=Math.abs(this.GetDx(s.Pt,a.Pt));return f>=m&&f>=g||d>=m&&d>=g},l.Clipper.prototype.GetBottomPt=function(i){for(var s=null,a=i.Next;a!=i;)a.Pt.Y>i.Pt.Y?(i=a,s=null):a.Pt.Y==i.Pt.Y&&a.Pt.X<=i.Pt.X&&(a.Pt.X<i.Pt.X?(s=null,i=a):a.Next!=i&&a.Prev!=i&&(s=a)),a=a.Next;if(s!==null)for(;s!=a;)for(this.FirstIsBottomPt(a,s)||(i=s),s=s.Next;l.IntPoint.op_Inequality(s.Pt,i.Pt);)s=s.Next;return i},l.Clipper.prototype.GetLowermostRec=function(i,s){i.BottomPt===null&&(i.BottomPt=this.GetBottomPt(i.Pts)),s.BottomPt===null&&(s.BottomPt=this.GetBottomPt(s.Pts));var a=i.BottomPt,f=s.BottomPt;return a.Pt.Y>f.Pt.Y?i:a.Pt.Y<f.Pt.Y?s:a.Pt.X<f.Pt.X?i:a.Pt.X>f.Pt.X||a.Next==a?s:f.Next==f||this.FirstIsBottomPt(a,f)?i:s},l.Clipper.prototype.Param1RightOfParam2=function(i,s){do if(i=i.FirstLeft,i==s)return!0;while(i!==null);return!1},l.Clipper.prototype.GetOutRec=function(i){for(var s=this.m_PolyOuts[i];s!=this.m_PolyOuts[s.Idx];)s=this.m_PolyOuts[s.Idx];return s},l.Clipper.prototype.AppendPolygon=function(i,s){var a=this.m_PolyOuts[i.OutIdx],f=this.m_PolyOuts[s.OutIdx],d;this.Param1RightOfParam2(a,f)?d=f:this.Param1RightOfParam2(f,a)?d=a:d=this.GetLowermostRec(a,f);var m=a.Pts,g=m.Prev,w=f.Pts,C=w.Prev,b;i.Side==l.EdgeSide.esLeft?(s.Side==l.EdgeSide.esLeft?(this.ReversePolyPtLinks(w),w.Next=m,m.Prev=w,g.Next=C,C.Prev=g,a.Pts=C):(C.Next=m,m.Prev=C,w.Prev=g,g.Next=w,a.Pts=w),b=l.EdgeSide.esLeft):(s.Side==l.EdgeSide.esRight?(this.ReversePolyPtLinks(w),g.Next=C,C.Prev=g,w.Next=m,m.Prev=w):(g.Next=w,w.Prev=g,m.Prev=C,C.Next=m),b=l.EdgeSide.esRight),a.BottomPt=null,d==f&&(f.FirstLeft!=a&&(a.FirstLeft=f.FirstLeft),a.IsHole=f.IsHole),f.Pts=null,f.BottomPt=null,f.FirstLeft=a;var A=i.OutIdx,k=s.OutIdx;i.OutIdx=-1,s.OutIdx=-1;for(var Y=this.m_ActiveEdges;Y!==null;){if(Y.OutIdx==k){Y.OutIdx=A,Y.Side=b;break}Y=Y.NextInAEL}f.Idx=a.Idx},l.Clipper.prototype.ReversePolyPtLinks=function(i){if(i!==null){var s,a;s=i;do a=s.Next,s.Next=s.Prev,s.Prev=a,s=a;while(s!=i)}},l.Clipper.SwapSides=function(i,s){var a=i.Side;i.Side=s.Side,s.Side=a},l.Clipper.SwapPolyIndexes=function(i,s){var a=i.OutIdx;i.OutIdx=s.OutIdx,s.OutIdx=a},l.Clipper.prototype.IntersectEdges=function(i,s,a,f){var d=!f&&i.NextInLML===null&&i.Top.X==a.X&&i.Top.Y==a.Y,m=!f&&s.NextInLML===null&&s.Top.X==a.X&&s.Top.Y==a.Y,g=i.OutIdx>=0,w=s.OutIdx>=0;if(i.WindDelta===0||s.WindDelta===0){i.WindDelta===0&&s.WindDelta===0?(d||m)&&g&&w&&this.AddLocalMaxPoly(i,s,a):i.PolyTyp==s.PolyTyp&&i.WindDelta!=s.WindDelta&&this.m_ClipType==l.ClipType.ctUnion?i.WindDelta===0?w&&(this.AddOutPt(i,a),g&&(i.OutIdx=-1)):g&&(this.AddOutPt(s,a),w&&(s.OutIdx=-1)):i.PolyTyp!=s.PolyTyp&&(i.WindDelta===0&&Math.abs(s.WindCnt)==1&&(this.m_ClipType!=l.ClipType.ctUnion||s.WindCnt2===0)?(this.AddOutPt(i,a),g&&(i.OutIdx=-1)):s.WindDelta===0&&Math.abs(i.WindCnt)==1&&(this.m_ClipType!=l.ClipType.ctUnion||i.WindCnt2===0)&&(this.AddOutPt(s,a),w&&(s.OutIdx=-1))),d&&(i.OutIdx<0?this.DeleteFromAEL(i):l.Error("Error intersecting polylines")),m&&(s.OutIdx<0?this.DeleteFromAEL(s):l.Error("Error intersecting polylines"));return}if(i.PolyTyp==s.PolyTyp)if(this.IsEvenOddFillType(i)){var C=i.WindCnt;i.WindCnt=s.WindCnt,s.WindCnt=C}else i.WindCnt+s.WindDelta===0?i.WindCnt=-i.WindCnt:i.WindCnt+=s.WindDelta,s.WindCnt-i.WindDelta===0?s.WindCnt=-s.WindCnt:s.WindCnt-=i.WindDelta;else this.IsEvenOddFillType(s)?i.WindCnt2=i.WindCnt2===0?1:0:i.WindCnt2+=s.WindDelta,this.IsEvenOddFillType(i)?s.WindCnt2=s.WindCnt2===0?1:0:s.WindCnt2-=i.WindDelta;var b,A,k,Y;i.PolyTyp==l.PolyType.ptSubject?(b=this.m_SubjFillType,k=this.m_ClipFillType):(b=this.m_ClipFillType,k=this.m_SubjFillType),s.PolyTyp==l.PolyType.ptSubject?(A=this.m_SubjFillType,Y=this.m_ClipFillType):(A=this.m_ClipFillType,Y=this.m_SubjFillType);var G,H;switch(b){case l.PolyFillType.pftPositive:G=i.WindCnt;break;case l.PolyFillType.pftNegative:G=-i.WindCnt;break;default:G=Math.abs(i.WindCnt);break}switch(A){case l.PolyFillType.pftPositive:H=s.WindCnt;break;case l.PolyFillType.pftNegative:H=-s.WindCnt;break;default:H=Math.abs(s.WindCnt);break}if(g&&w)d||m||G!==0&&G!=1||H!==0&&H!=1||i.PolyTyp!=s.PolyTyp&&this.m_ClipType!=l.ClipType.ctXor?this.AddLocalMaxPoly(i,s,a):(this.AddOutPt(i,a),this.AddOutPt(s,a),l.Clipper.SwapSides(i,s),l.Clipper.SwapPolyIndexes(i,s));else if(g)(H===0||H==1)&&(this.AddOutPt(i,a),l.Clipper.SwapSides(i,s),l.Clipper.SwapPolyIndexes(i,s));else if(w)(G===0||G==1)&&(this.AddOutPt(s,a),l.Clipper.SwapSides(i,s),l.Clipper.SwapPolyIndexes(i,s));else if((G===0||G==1)&&(H===0||H==1)&&!d&&!m){var ot,pt;switch(k){case l.PolyFillType.pftPositive:ot=i.WindCnt2;break;case l.PolyFillType.pftNegative:ot=-i.WindCnt2;break;default:ot=Math.abs(i.WindCnt2);break}switch(Y){case l.PolyFillType.pftPositive:pt=s.WindCnt2;break;case l.PolyFillType.pftNegative:pt=-s.WindCnt2;break;default:pt=Math.abs(s.WindCnt2);break}if(i.PolyTyp!=s.PolyTyp)this.AddLocalMinPoly(i,s,a);else if(G==1&&H==1)switch(this.m_ClipType){case l.ClipType.ctIntersection:ot>0&&pt>0&&this.AddLocalMinPoly(i,s,a);break;case l.ClipType.ctUnion:ot<=0&&pt<=0&&this.AddLocalMinPoly(i,s,a);break;case l.ClipType.ctDifference:(i.PolyTyp==l.PolyType.ptClip&&ot>0&&pt>0||i.PolyTyp==l.PolyType.ptSubject&&ot<=0&&pt<=0)&&this.AddLocalMinPoly(i,s,a);break;case l.ClipType.ctXor:this.AddLocalMinPoly(i,s,a);break}else l.Clipper.SwapSides(i,s)}d!=m&&(d&&i.OutIdx>=0||m&&s.OutIdx>=0)&&(l.Clipper.SwapSides(i,s),l.Clipper.SwapPolyIndexes(i,s)),d&&this.DeleteFromAEL(i),m&&this.DeleteFromAEL(s)},l.Clipper.prototype.DeleteFromAEL=function(i){var s=i.PrevInAEL,a=i.NextInAEL;s===null&&a===null&&i!=this.m_ActiveEdges||(s!==null?s.NextInAEL=a:this.m_ActiveEdges=a,a!==null&&(a.PrevInAEL=s),i.NextInAEL=null,i.PrevInAEL=null)},l.Clipper.prototype.DeleteFromSEL=function(i){var s=i.PrevInSEL,a=i.NextInSEL;s===null&&a===null&&i!=this.m_SortedEdges||(s!==null?s.NextInSEL=a:this.m_SortedEdges=a,a!==null&&(a.PrevInSEL=s),i.NextInSEL=null,i.PrevInSEL=null)},l.Clipper.prototype.UpdateEdgeIntoAEL=function(i){i.NextInLML===null&&l.Error("UpdateEdgeIntoAEL: invalid call");var s=i.PrevInAEL,a=i.NextInAEL;return i.NextInLML.OutIdx=i.OutIdx,s!==null?s.NextInAEL=i.NextInLML:this.m_ActiveEdges=i.NextInLML,a!==null&&(a.PrevInAEL=i.NextInLML),i.NextInLML.Side=i.Side,i.NextInLML.WindDelta=i.WindDelta,i.NextInLML.WindCnt=i.WindCnt,i.NextInLML.WindCnt2=i.WindCnt2,i=i.NextInLML,i.Curr.X=i.Bot.X,i.Curr.Y=i.Bot.Y,i.PrevInAEL=s,i.NextInAEL=a,l.ClipperBase.IsHorizontal(i)||this.InsertScanbeam(i.Top.Y),i},l.Clipper.prototype.ProcessHorizontals=function(i){for(var s=this.m_SortedEdges;s!==null;)this.DeleteFromSEL(s),this.ProcessHorizontal(s,i),s=this.m_SortedEdges},l.Clipper.prototype.GetHorzDirection=function(i,s){i.Bot.X<i.Top.X?(s.Left=i.Bot.X,s.Right=i.Top.X,s.Dir=l.Direction.dLeftToRight):(s.Left=i.Top.X,s.Right=i.Bot.X,s.Dir=l.Direction.dRightToLeft)},l.Clipper.prototype.PrepareHorzJoins=function(i,s){var a=this.m_PolyOuts[i.OutIdx].Pts;i.Side!=l.EdgeSide.esLeft&&(a=a.Prev),s&&(l.IntPoint.op_Equality(a.Pt,i.Top)?this.AddGhostJoin(a,i.Bot):this.AddGhostJoin(a,i.Top))},l.Clipper.prototype.ProcessHorizontal=function(i,s){var a={Dir:null,Left:null,Right:null};this.GetHorzDirection(i,a);for(var f=a.Dir,d=a.Left,m=a.Right,g=i,w=null;g.NextInLML!==null&&l.ClipperBase.IsHorizontal(g.NextInLML);)g=g.NextInLML;for(g.NextInLML===null&&(w=this.GetMaximaPair(g));;){for(var C=i==g,b=this.GetNextInAEL(i,f);b!==null&&!(b.Curr.X==i.Top.X&&i.NextInLML!==null&&b.Dx<i.NextInLML.Dx);){var A=this.GetNextInAEL(b,f);if(f==l.Direction.dLeftToRight&&b.Curr.X<=m||f==l.Direction.dRightToLeft&&b.Curr.X>=d){if(i.OutIdx>=0&&i.WindDelta!=0&&this.PrepareHorzJoins(i,s),b==w&&C){f==l.Direction.dLeftToRight?this.IntersectEdges(i,b,b.Top,!1):this.IntersectEdges(b,i,b.Top,!1),w.OutIdx>=0&&l.Error("ProcessHorizontal error");return}else if(f==l.Direction.dLeftToRight){var k=new l.IntPoint(b.Curr.X,i.Curr.Y);this.IntersectEdges(i,b,k,!0)}else{var k=new l.IntPoint(b.Curr.X,i.Curr.Y);this.IntersectEdges(b,i,k,!0)}this.SwapPositionsInAEL(i,b)}else if(f==l.Direction.dLeftToRight&&b.Curr.X>=m||f==l.Direction.dRightToLeft&&b.Curr.X<=d)break;b=A}if(i.OutIdx>=0&&i.WindDelta!==0&&this.PrepareHorzJoins(i,s),i.NextInLML!==null&&l.ClipperBase.IsHorizontal(i.NextInLML)){i=this.UpdateEdgeIntoAEL(i),i.OutIdx>=0&&this.AddOutPt(i,i.Bot);var a={Dir:f,Left:d,Right:m};this.GetHorzDirection(i,a),f=a.Dir,d=a.Left,m=a.Right}else break}if(i.NextInLML!==null)if(i.OutIdx>=0){var Y=this.AddOutPt(i,i.Top);if(i=this.UpdateEdgeIntoAEL(i),i.WindDelta===0)return;var G=i.PrevInAEL,A=i.NextInAEL;if(G!==null&&G.Curr.X==i.Bot.X&&G.Curr.Y==i.Bot.Y&&G.WindDelta!==0&&G.OutIdx>=0&&G.Curr.Y>G.Top.Y&&l.ClipperBase.SlopesEqual(i,G,this.m_UseFullRange)){var H=this.AddOutPt(G,i.Bot);this.AddJoin(Y,H,i.Top)}else if(A!==null&&A.Curr.X==i.Bot.X&&A.Curr.Y==i.Bot.Y&&A.WindDelta!==0&&A.OutIdx>=0&&A.Curr.Y>A.Top.Y&&l.ClipperBase.SlopesEqual(i,A,this.m_UseFullRange)){var H=this.AddOutPt(A,i.Bot);this.AddJoin(Y,H,i.Top)}}else i=this.UpdateEdgeIntoAEL(i);else w!==null?w.OutIdx>=0?(f==l.Direction.dLeftToRight?this.IntersectEdges(i,w,i.Top,!1):this.IntersectEdges(w,i,i.Top,!1),w.OutIdx>=0&&l.Error("ProcessHorizontal error")):(this.DeleteFromAEL(i),this.DeleteFromAEL(w)):(i.OutIdx>=0&&this.AddOutPt(i,i.Top),this.DeleteFromAEL(i))},l.Clipper.prototype.GetNextInAEL=function(i,s){return s==l.Direction.dLeftToRight?i.NextInAEL:i.PrevInAEL},l.Clipper.prototype.IsMinima=function(i){return i!==null&&i.Prev.NextInLML!=i&&i.Next.NextInLML!=i},l.Clipper.prototype.IsMaxima=function(i,s){return i!==null&&i.Top.Y==s&&i.NextInLML===null},l.Clipper.prototype.IsIntermediate=function(i,s){return i.Top.Y==s&&i.NextInLML!==null},l.Clipper.prototype.GetMaximaPair=function(i){var s=null;return l.IntPoint.op_Equality(i.Next.Top,i.Top)&&i.Next.NextInLML===null?s=i.Next:l.IntPoint.op_Equality(i.Prev.Top,i.Top)&&i.Prev.NextInLML===null&&(s=i.Prev),s!==null&&(s.OutIdx==-2||s.NextInAEL==s.PrevInAEL&&!l.ClipperBase.IsHorizontal(s))?null:s},l.Clipper.prototype.ProcessIntersections=function(i,s){if(this.m_ActiveEdges==null)return!0;try{if(this.BuildIntersectList(i,s),this.m_IntersectList.length==0)return!0;if(this.m_IntersectList.length==1||this.FixupIntersectionOrder())this.ProcessIntersectList();else return!1}catch{this.m_SortedEdges=null,this.m_IntersectList.length=0,l.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},l.Clipper.prototype.BuildIntersectList=function(i,s){if(this.m_ActiveEdges!==null){var a=this.m_ActiveEdges;for(this.m_SortedEdges=a;a!==null;)a.PrevInSEL=a.PrevInAEL,a.NextInSEL=a.NextInAEL,a.Curr.X=l.Clipper.TopX(a,s),a=a.NextInAEL;for(var f=!0;f&&this.m_SortedEdges!==null;){for(f=!1,a=this.m_SortedEdges;a.NextInSEL!==null;){var d=a.NextInSEL,m=new l.IntPoint;if(a.Curr.X>d.Curr.X){!this.IntersectPoint(a,d,m)&&a.Curr.X>d.Curr.X+1&&l.Error("Intersection error"),m.Y>i&&(m.Y=i,Math.abs(a.Dx)>Math.abs(d.Dx)?m.X=l.Clipper.TopX(d,i):m.X=l.Clipper.TopX(a,i));var g=new l.IntersectNode;g.Edge1=a,g.Edge2=d,g.Pt.X=m.X,g.Pt.Y=m.Y,this.m_IntersectList.push(g),this.SwapPositionsInSEL(a,d),f=!0}else a=d}if(a.PrevInSEL!==null)a.PrevInSEL.NextInSEL=null;else break}this.m_SortedEdges=null}},l.Clipper.prototype.EdgesAdjacent=function(i){return i.Edge1.NextInSEL==i.Edge2||i.Edge1.PrevInSEL==i.Edge2},l.Clipper.IntersectNodeSort=function(i,s){return s.Pt.Y-i.Pt.Y},l.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var i=this.m_IntersectList.length,s=0;s<i;s++){if(!this.EdgesAdjacent(this.m_IntersectList[s])){for(var a=s+1;a<i&&!this.EdgesAdjacent(this.m_IntersectList[a]);)a++;if(a==i)return!1;var f=this.m_IntersectList[s];this.m_IntersectList[s]=this.m_IntersectList[a],this.m_IntersectList[a]=f}this.SwapPositionsInSEL(this.m_IntersectList[s].Edge1,this.m_IntersectList[s].Edge2)}return!0},l.Clipper.prototype.ProcessIntersectList=function(){for(var i=0,s=this.m_IntersectList.length;i<s;i++){var a=this.m_IntersectList[i];this.IntersectEdges(a.Edge1,a.Edge2,a.Pt,!0),this.SwapPositionsInAEL(a.Edge1,a.Edge2)}this.m_IntersectList.length=0};var wt=function(i){return i<0?Math.ceil(i-.5):Math.round(i)},it=function(i){return i<0?Math.ceil(i-.5):Math.floor(i+.5)},xt=function(i){return i<0?-Math.round(Math.abs(i)):Math.round(i)},Yt=function(i){return i<0?(i-=.5,i<-2147483648?Math.ceil(i):i|0):(i+=.5,i>2147483647?Math.floor(i):i|0)};D.msie?l.Clipper.Round=wt:D.chromium?l.Clipper.Round=xt:D.safari?l.Clipper.Round=Yt:l.Clipper.Round=it,l.Clipper.TopX=function(i,s){return s==i.Top.Y?i.Top.X:i.Bot.X+l.Clipper.Round(i.Dx*(s-i.Bot.Y))},l.Clipper.prototype.IntersectPoint=function(i,s,a){a.X=0,a.Y=0;var f,d;if(l.ClipperBase.SlopesEqual(i,s,this.m_UseFullRange)||i.Dx==s.Dx)return s.Bot.Y>i.Bot.Y?(a.X=s.Bot.X,a.Y=s.Bot.Y):(a.X=i.Bot.X,a.Y=i.Bot.Y),!1;if(i.Delta.X===0)a.X=i.Bot.X,l.ClipperBase.IsHorizontal(s)?a.Y=s.Bot.Y:(d=s.Bot.Y-s.Bot.X/s.Dx,a.Y=l.Clipper.Round(a.X/s.Dx+d));else if(s.Delta.X===0)a.X=s.Bot.X,l.ClipperBase.IsHorizontal(i)?a.Y=i.Bot.Y:(f=i.Bot.Y-i.Bot.X/i.Dx,a.Y=l.Clipper.Round(a.X/i.Dx+f));else{f=i.Bot.X-i.Bot.Y*i.Dx,d=s.Bot.X-s.Bot.Y*s.Dx;var m=(d-f)/(i.Dx-s.Dx);a.Y=l.Clipper.Round(m),Math.abs(i.Dx)<Math.abs(s.Dx)?a.X=l.Clipper.Round(i.Dx*m+f):a.X=l.Clipper.Round(s.Dx*m+d)}if(a.Y<i.Top.Y||a.Y<s.Top.Y){if(i.Top.Y>s.Top.Y)return a.Y=i.Top.Y,a.X=l.Clipper.TopX(s,i.Top.Y),a.X<i.Top.X;a.Y=s.Top.Y,Math.abs(i.Dx)<Math.abs(s.Dx)?a.X=l.Clipper.TopX(i,a.Y):a.X=l.Clipper.TopX(s,a.Y)}return!0},l.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(i){for(var s=this.m_ActiveEdges;s!==null;){var a=this.IsMaxima(s,i);if(a){var f=this.GetMaximaPair(s);a=f===null||!l.ClipperBase.IsHorizontal(f)}if(a){var d=s.PrevInAEL;this.DoMaxima(s),d===null?s=this.m_ActiveEdges:s=d.NextInAEL}else{if(this.IsIntermediate(s,i)&&l.ClipperBase.IsHorizontal(s.NextInLML)?(s=this.UpdateEdgeIntoAEL(s),s.OutIdx>=0&&this.AddOutPt(s,s.Bot),this.AddEdgeToSEL(s)):(s.Curr.X=l.Clipper.TopX(s,i),s.Curr.Y=i),this.StrictlySimple){var d=s.PrevInAEL;if(s.OutIdx>=0&&s.WindDelta!==0&&d!==null&&d.OutIdx>=0&&d.Curr.X==s.Curr.X&&d.WindDelta!==0){var m=this.AddOutPt(d,s.Curr),g=this.AddOutPt(s,s.Curr);this.AddJoin(m,g,s.Curr)}}s=s.NextInAEL}}for(this.ProcessHorizontals(!0),s=this.m_ActiveEdges;s!==null;){if(this.IsIntermediate(s,i)){var m=null;s.OutIdx>=0&&(m=this.AddOutPt(s,s.Top)),s=this.UpdateEdgeIntoAEL(s);var d=s.PrevInAEL,w=s.NextInAEL;if(d!==null&&d.Curr.X==s.Bot.X&&d.Curr.Y==s.Bot.Y&&m!==null&&d.OutIdx>=0&&d.Curr.Y>d.Top.Y&&l.ClipperBase.SlopesEqual(s,d,this.m_UseFullRange)&&s.WindDelta!==0&&d.WindDelta!==0){var g=this.AddOutPt(d,s.Bot);this.AddJoin(m,g,s.Top)}else if(w!==null&&w.Curr.X==s.Bot.X&&w.Curr.Y==s.Bot.Y&&m!==null&&w.OutIdx>=0&&w.Curr.Y>w.Top.Y&&l.ClipperBase.SlopesEqual(s,w,this.m_UseFullRange)&&s.WindDelta!==0&&w.WindDelta!==0){var g=this.AddOutPt(w,s.Bot);this.AddJoin(m,g,s.Top)}}s=s.NextInAEL}},l.Clipper.prototype.DoMaxima=function(i){var s=this.GetMaximaPair(i);if(s===null){i.OutIdx>=0&&this.AddOutPt(i,i.Top),this.DeleteFromAEL(i);return}for(var a=i.NextInAEL;a!==null&&a!=s;)this.IntersectEdges(i,a,i.Top,!0),this.SwapPositionsInAEL(i,a),a=i.NextInAEL;i.OutIdx==-1&&s.OutIdx==-1?(this.DeleteFromAEL(i),this.DeleteFromAEL(s)):i.OutIdx>=0&&s.OutIdx>=0?this.IntersectEdges(i,s,i.Top,!1):i.WindDelta===0?(i.OutIdx>=0&&(this.AddOutPt(i,i.Top),i.OutIdx=-1),this.DeleteFromAEL(i),s.OutIdx>=0&&(this.AddOutPt(s,i.Top),s.OutIdx=-1),this.DeleteFromAEL(s)):l.Error("DoMaxima error")},l.Clipper.ReversePaths=function(i){for(var s=0,a=i.length;s<a;s++)i[s].reverse()},l.Clipper.Orientation=function(i){return l.Clipper.Area(i)>=0},l.Clipper.prototype.PointCount=function(i){if(i===null)return 0;var s=0,a=i;do s++,a=a.Next;while(a!=i);return s},l.Clipper.prototype.BuildResult=function(i){l.Clear(i);for(var s=0,a=this.m_PolyOuts.length;s<a;s++){var f=this.m_PolyOuts[s];if(f.Pts!==null){var d=f.Pts.Prev,m=this.PointCount(d);if(!(m<2)){for(var g=new Array(m),w=0;w<m;w++)g[w]=d.Pt,d=d.Prev;i.push(g)}}}},l.Clipper.prototype.BuildResult2=function(i){i.Clear();for(var s=0,a=this.m_PolyOuts.length;s<a;s++){var f=this.m_PolyOuts[s],d=this.PointCount(f.Pts);if(!(f.IsOpen&&d<2||!f.IsOpen&&d<3)){this.FixHoleLinkage(f);var m=new l.PolyNode;i.m_AllPolys.push(m),f.PolyNode=m,m.m_polygon.length=d;for(var g=f.Pts.Prev,w=0;w<d;w++)m.m_polygon[w]=g.Pt,g=g.Prev}}for(var s=0,a=this.m_PolyOuts.length;s<a;s++){var f=this.m_PolyOuts[s];f.PolyNode!==null&&(f.IsOpen?(f.PolyNode.IsOpen=!0,i.AddChild(f.PolyNode)):f.FirstLeft!==null&&f.FirstLeft.PolyNode!=null?f.FirstLeft.PolyNode.AddChild(f.PolyNode):i.AddChild(f.PolyNode))}},l.Clipper.prototype.FixupOutPolygon=function(i){var s=null;i.BottomPt=null;for(var a=i.Pts;;){if(a.Prev==a||a.Prev==a.Next){this.DisposeOutPts(a),i.Pts=null;return}if(l.IntPoint.op_Equality(a.Pt,a.Next.Pt)||l.IntPoint.op_Equality(a.Pt,a.Prev.Pt)||l.ClipperBase.SlopesEqual(a.Prev.Pt,a.Pt,a.Next.Pt,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(a.Prev.Pt,a.Pt,a.Next.Pt)))s=null,a.Prev.Next=a.Next,a.Next.Prev=a.Prev,a=a.Prev;else{if(a==s)break;s===null&&(s=a),a=a.Next}}i.Pts=a},l.Clipper.prototype.DupOutPt=function(i,s){var a=new l.OutPt;return a.Pt.X=i.Pt.X,a.Pt.Y=i.Pt.Y,a.Idx=i.Idx,s?(a.Next=i.Next,a.Prev=i,i.Next.Prev=a,i.Next=a):(a.Prev=i.Prev,a.Next=i,i.Prev.Next=a,i.Prev=a),a},l.Clipper.prototype.GetOverlap=function(i,s,a,f,d){return i<s?a<f?(d.Left=Math.max(i,a),d.Right=Math.min(s,f)):(d.Left=Math.max(i,f),d.Right=Math.min(s,a)):a<f?(d.Left=Math.max(s,a),d.Right=Math.min(i,f)):(d.Left=Math.max(s,f),d.Right=Math.min(i,a)),d.Left<d.Right},l.Clipper.prototype.JoinHorz=function(i,s,a,f,d,m){var g=i.Pt.X>s.Pt.X?l.Direction.dRightToLeft:l.Direction.dLeftToRight,w=a.Pt.X>f.Pt.X?l.Direction.dRightToLeft:l.Direction.dLeftToRight;if(g==w)return!1;if(g==l.Direction.dLeftToRight){for(;i.Next.Pt.X<=d.X&&i.Next.Pt.X>=i.Pt.X&&i.Next.Pt.Y==d.Y;)i=i.Next;m&&i.Pt.X!=d.X&&(i=i.Next),s=this.DupOutPt(i,!m),l.IntPoint.op_Inequality(s.Pt,d)&&(i=s,i.Pt.X=d.X,i.Pt.Y=d.Y,s=this.DupOutPt(i,!m))}else{for(;i.Next.Pt.X>=d.X&&i.Next.Pt.X<=i.Pt.X&&i.Next.Pt.Y==d.Y;)i=i.Next;!m&&i.Pt.X!=d.X&&(i=i.Next),s=this.DupOutPt(i,m),l.IntPoint.op_Inequality(s.Pt,d)&&(i=s,i.Pt.X=d.X,i.Pt.Y=d.Y,s=this.DupOutPt(i,m))}if(w==l.Direction.dLeftToRight){for(;a.Next.Pt.X<=d.X&&a.Next.Pt.X>=a.Pt.X&&a.Next.Pt.Y==d.Y;)a=a.Next;m&&a.Pt.X!=d.X&&(a=a.Next),f=this.DupOutPt(a,!m),l.IntPoint.op_Inequality(f.Pt,d)&&(a=f,a.Pt.X=d.X,a.Pt.Y=d.Y,f=this.DupOutPt(a,!m))}else{for(;a.Next.Pt.X>=d.X&&a.Next.Pt.X<=a.Pt.X&&a.Next.Pt.Y==d.Y;)a=a.Next;!m&&a.Pt.X!=d.X&&(a=a.Next),f=this.DupOutPt(a,m),l.IntPoint.op_Inequality(f.Pt,d)&&(a=f,a.Pt.X=d.X,a.Pt.Y=d.Y,f=this.DupOutPt(a,m))}return g==l.Direction.dLeftToRight==m?(i.Prev=a,a.Next=i,s.Next=f,f.Prev=s):(i.Next=a,a.Prev=i,s.Prev=f,f.Next=s),!0},l.Clipper.prototype.JoinPoints=function(i,s,a){var f=i.OutPt1,d=new l.OutPt,m=i.OutPt2,g=new l.OutPt,w=i.OutPt1.Pt.Y==i.OffPt.Y;if(w&&l.IntPoint.op_Equality(i.OffPt,i.OutPt1.Pt)&&l.IntPoint.op_Equality(i.OffPt,i.OutPt2.Pt)){for(d=i.OutPt1.Next;d!=f&&l.IntPoint.op_Equality(d.Pt,i.OffPt);)d=d.Next;var C=d.Pt.Y>i.OffPt.Y;for(g=i.OutPt2.Next;g!=m&&l.IntPoint.op_Equality(g.Pt,i.OffPt);)g=g.Next;var b=g.Pt.Y>i.OffPt.Y;return C==b?!1:C?(d=this.DupOutPt(f,!1),g=this.DupOutPt(m,!0),f.Prev=m,m.Next=f,d.Next=g,g.Prev=d,i.OutPt1=f,i.OutPt2=d,!0):(d=this.DupOutPt(f,!0),g=this.DupOutPt(m,!1),f.Next=m,m.Prev=f,d.Prev=g,g.Next=d,i.OutPt1=f,i.OutPt2=d,!0)}else if(w){for(d=f;f.Prev.Pt.Y==f.Pt.Y&&f.Prev!=d&&f.Prev!=m;)f=f.Prev;for(;d.Next.Pt.Y==d.Pt.Y&&d.Next!=f&&d.Next!=m;)d=d.Next;if(d.Next==f||d.Next==m)return!1;for(g=m;m.Prev.Pt.Y==m.Pt.Y&&m.Prev!=g&&m.Prev!=d;)m=m.Prev;for(;g.Next.Pt.Y==g.Pt.Y&&g.Next!=m&&g.Next!=f;)g=g.Next;if(g.Next==m||g.Next==f)return!1;var A={Left:null,Right:null};if(!this.GetOverlap(f.Pt.X,d.Pt.X,m.Pt.X,g.Pt.X,A))return!1;var k=A.Left,Y=A.Right,G=new l.IntPoint,H;return f.Pt.X>=k&&f.Pt.X<=Y?(G.X=f.Pt.X,G.Y=f.Pt.Y,H=f.Pt.X>d.Pt.X):m.Pt.X>=k&&m.Pt.X<=Y?(G.X=m.Pt.X,G.Y=m.Pt.Y,H=m.Pt.X>g.Pt.X):d.Pt.X>=k&&d.Pt.X<=Y?(G.X=d.Pt.X,G.Y=d.Pt.Y,H=d.Pt.X>f.Pt.X):(G.X=g.Pt.X,G.Y=g.Pt.Y,H=g.Pt.X>m.Pt.X),i.OutPt1=f,i.OutPt2=m,this.JoinHorz(f,d,m,g,G,H)}else{for(d=f.Next;l.IntPoint.op_Equality(d.Pt,f.Pt)&&d!=f;)d=d.Next;var ot=d.Pt.Y>f.Pt.Y||!l.ClipperBase.SlopesEqual(f.Pt,d.Pt,i.OffPt,this.m_UseFullRange);if(ot){for(d=f.Prev;l.IntPoint.op_Equality(d.Pt,f.Pt)&&d!=f;)d=d.Prev;if(d.Pt.Y>f.Pt.Y||!l.ClipperBase.SlopesEqual(f.Pt,d.Pt,i.OffPt,this.m_UseFullRange))return!1}for(g=m.Next;l.IntPoint.op_Equality(g.Pt,m.Pt)&&g!=m;)g=g.Next;var pt=g.Pt.Y>m.Pt.Y||!l.ClipperBase.SlopesEqual(m.Pt,g.Pt,i.OffPt,this.m_UseFullRange);if(pt){for(g=m.Prev;l.IntPoint.op_Equality(g.Pt,m.Pt)&&g!=m;)g=g.Prev;if(g.Pt.Y>m.Pt.Y||!l.ClipperBase.SlopesEqual(m.Pt,g.Pt,i.OffPt,this.m_UseFullRange))return!1}return d==f||g==m||d==g||s==a&&ot==pt?!1:ot?(d=this.DupOutPt(f,!1),g=this.DupOutPt(m,!0),f.Prev=m,m.Next=f,d.Next=g,g.Prev=d,i.OutPt1=f,i.OutPt2=d,!0):(d=this.DupOutPt(f,!0),g=this.DupOutPt(m,!1),f.Next=m,m.Prev=f,d.Prev=g,g.Next=d,i.OutPt1=f,i.OutPt2=d,!0)}},l.Clipper.GetBounds=function(i){for(var s=0,a=i.length;s<a&&i[s].length==0;)s++;if(s==a)return new l.IntRect(0,0,0,0);var f=new l.IntRect;for(f.left=i[s][0].X,f.right=f.left,f.top=i[s][0].Y,f.bottom=f.top;s<a;s++)for(var d=0,m=i[s].length;d<m;d++)i[s][d].X<f.left?f.left=i[s][d].X:i[s][d].X>f.right&&(f.right=i[s][d].X),i[s][d].Y<f.top?f.top=i[s][d].Y:i[s][d].Y>f.bottom&&(f.bottom=i[s][d].Y);return f},l.Clipper.prototype.GetBounds2=function(i){var s=i,a=new l.IntRect;for(a.left=i.Pt.X,a.right=i.Pt.X,a.top=i.Pt.Y,a.bottom=i.Pt.Y,i=i.Next;i!=s;)i.Pt.X<a.left&&(a.left=i.Pt.X),i.Pt.X>a.right&&(a.right=i.Pt.X),i.Pt.Y<a.top&&(a.top=i.Pt.Y),i.Pt.Y>a.bottom&&(a.bottom=i.Pt.Y),i=i.Next;return a},l.Clipper.PointInPolygon=function(i,s){var a=0,f=s.length;if(f<3)return 0;for(var d=s[0],m=1;m<=f;++m){var g=m==f?s[0]:s[m];if(g.Y==i.Y&&(g.X==i.X||d.Y==i.Y&&g.X>i.X==d.X<i.X))return-1;if(d.Y<i.Y!=g.Y<i.Y){if(d.X>=i.X)if(g.X>i.X)a=1-a;else{var w=(d.X-i.X)*(g.Y-i.Y)-(g.X-i.X)*(d.Y-i.Y);if(w==0)return-1;w>0==g.Y>d.Y&&(a=1-a)}else if(g.X>i.X){var w=(d.X-i.X)*(g.Y-i.Y)-(g.X-i.X)*(d.Y-i.Y);if(w==0)return-1;w>0==g.Y>d.Y&&(a=1-a)}}d=g}return a},l.Clipper.prototype.PointInPolygon=function(i,s){for(var a=0,f=s;;){var d=s.Pt.X,m=s.Pt.Y,g=s.Next.Pt.X,w=s.Next.Pt.Y;if(w==i.Y&&(g==i.X||m==i.Y&&g>i.X==d<i.X))return-1;if(m<i.Y!=w<i.Y){if(d>=i.X)if(g>i.X)a=1-a;else{var C=(d-i.X)*(w-i.Y)-(g-i.X)*(m-i.Y);if(C==0)return-1;C>0==w>m&&(a=1-a)}else if(g>i.X){var C=(d-i.X)*(w-i.Y)-(g-i.X)*(m-i.Y);if(C==0)return-1;C>0==w>m&&(a=1-a)}}if(s=s.Next,f==s)break}return a},l.Clipper.prototype.Poly2ContainsPoly1=function(i,s){var a=i;do{var f=this.PointInPolygon(a.Pt,s);if(f>=0)return f!=0;a=a.Next}while(a!=i);return!0},l.Clipper.prototype.FixupFirstLefts1=function(i,s){for(var a=0,f=this.m_PolyOuts.length;a<f;a++){var d=this.m_PolyOuts[a];d.Pts!==null&&d.FirstLeft==i&&this.Poly2ContainsPoly1(d.Pts,s.Pts)&&(d.FirstLeft=s)}},l.Clipper.prototype.FixupFirstLefts2=function(i,s){for(var a=0,f=this.m_PolyOuts,d=f.length,m=f[a];a<d;a++,m=f[a])m.FirstLeft==i&&(m.FirstLeft=s)},l.Clipper.ParseFirstLeft=function(i){for(;i!=null&&i.Pts==null;)i=i.FirstLeft;return i},l.Clipper.prototype.JoinCommonEdges=function(){for(var i=0,s=this.m_Joins.length;i<s;i++){var a=this.m_Joins[i],f=this.GetOutRec(a.OutPt1.Idx),d=this.GetOutRec(a.OutPt2.Idx);if(!(f.Pts==null||d.Pts==null)){var m;if(f==d?m=f:this.Param1RightOfParam2(f,d)?m=d:this.Param1RightOfParam2(d,f)?m=f:m=this.GetLowermostRec(f,d),!!this.JoinPoints(a,f,d))if(f==d){if(f.Pts=a.OutPt1,f.BottomPt=null,d=this.CreateOutRec(),d.Pts=a.OutPt2,this.UpdateOutPtIdxs(d),this.m_UsingPolyTree)for(var g=0,w=this.m_PolyOuts.length;g<w-1;g++){var C=this.m_PolyOuts[g];C.Pts==null||l.Clipper.ParseFirstLeft(C.FirstLeft)!=f||C.IsHole==f.IsHole||this.Poly2ContainsPoly1(C.Pts,a.OutPt2)&&(C.FirstLeft=d)}this.Poly2ContainsPoly1(d.Pts,f.Pts)?(d.IsHole=!f.IsHole,d.FirstLeft=f,this.m_UsingPolyTree&&this.FixupFirstLefts2(d,f),(d.IsHole^this.ReverseSolution)==this.Area(d)>0&&this.ReversePolyPtLinks(d.Pts)):this.Poly2ContainsPoly1(f.Pts,d.Pts)?(d.IsHole=f.IsHole,f.IsHole=!d.IsHole,d.FirstLeft=f.FirstLeft,f.FirstLeft=d,this.m_UsingPolyTree&&this.FixupFirstLefts2(f,d),(f.IsHole^this.ReverseSolution)==this.Area(f)>0&&this.ReversePolyPtLinks(f.Pts)):(d.IsHole=f.IsHole,d.FirstLeft=f.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(f,d))}else d.Pts=null,d.BottomPt=null,d.Idx=f.Idx,f.IsHole=m.IsHole,m==d&&(f.FirstLeft=d.FirstLeft),d.FirstLeft=f,this.m_UsingPolyTree&&this.FixupFirstLefts2(d,f)}}},l.Clipper.prototype.UpdateOutPtIdxs=function(i){var s=i.Pts;do s.Idx=i.Idx,s=s.Prev;while(s!=i.Pts)},l.Clipper.prototype.DoSimplePolygons=function(){for(var i=0;i<this.m_PolyOuts.length;){var s=this.m_PolyOuts[i++],a=s.Pts;if(a!==null)do{for(var f=a.Next;f!=s.Pts;){if(l.IntPoint.op_Equality(a.Pt,f.Pt)&&f.Next!=a&&f.Prev!=a){var d=a.Prev,m=f.Prev;a.Prev=m,m.Next=a,f.Prev=d,d.Next=f,s.Pts=a;var g=this.CreateOutRec();g.Pts=f,this.UpdateOutPtIdxs(g),this.Poly2ContainsPoly1(g.Pts,s.Pts)?(g.IsHole=!s.IsHole,g.FirstLeft=s):this.Poly2ContainsPoly1(s.Pts,g.Pts)?(g.IsHole=s.IsHole,s.IsHole=!g.IsHole,g.FirstLeft=s.FirstLeft,s.FirstLeft=g):(g.IsHole=s.IsHole,g.FirstLeft=s.FirstLeft),f=a}f=f.Next}a=a.Next}while(a!=s.Pts)}},l.Clipper.Area=function(i){var s=i.length;if(s<3)return 0;for(var a=0,f=0,d=s-1;f<s;++f)a+=(i[d].X+i[f].X)*(i[d].Y-i[f].Y),d=f;return-a*.5},l.Clipper.prototype.Area=function(i){var s=i.Pts;if(s==null)return 0;var a=0;do a=a+(s.Prev.Pt.X+s.Pt.X)*(s.Prev.Pt.Y-s.Pt.Y),s=s.Next;while(s!=i.Pts);return a*.5},l.Clipper.SimplifyPolygon=function(i,s){var a=new Array,f=new l.Clipper(0);return f.StrictlySimple=!0,f.AddPath(i,l.PolyType.ptSubject,!0),f.Execute(l.ClipType.ctUnion,a,s,s),a},l.Clipper.SimplifyPolygons=function(i,s){typeof s>"u"&&(s=l.PolyFillType.pftEvenOdd);var a=new Array,f=new l.Clipper(0);return f.StrictlySimple=!0,f.AddPaths(i,l.PolyType.ptSubject,!0),f.Execute(l.ClipType.ctUnion,a,s,s),a},l.Clipper.DistanceSqrd=function(i,s){var a=i.X-s.X,f=i.Y-s.Y;return a*a+f*f},l.Clipper.DistanceFromLineSqrd=function(i,s,a){var f=s.Y-a.Y,d=a.X-s.X,m=f*s.X+d*s.Y;return m=f*i.X+d*i.Y-m,m*m/(f*f+d*d)},l.Clipper.SlopesNearCollinear=function(i,s,a,f){return l.Clipper.DistanceFromLineSqrd(s,i,a)<f},l.Clipper.PointsAreClose=function(i,s,a){var f=i.X-s.X,d=i.Y-s.Y;return f*f+d*d<=a},l.Clipper.ExcludeOp=function(i){var s=i.Prev;return s.Next=i.Next,i.Next.Prev=s,s.Idx=0,s},l.Clipper.CleanPolygon=function(i,s){typeof s>"u"&&(s=1.415);var a=i.length;if(a==0)return new Array;for(var f=new Array(a),d=0;d<a;++d)f[d]=new l.OutPt;for(var d=0;d<a;++d)f[d].Pt=i[d],f[d].Next=f[(d+1)%a],f[d].Next.Prev=f[d],f[d].Idx=0;for(var m=s*s,g=f[0];g.Idx==0&&g.Next!=g.Prev;)l.Clipper.PointsAreClose(g.Pt,g.Prev.Pt,m)?(g=l.Clipper.ExcludeOp(g),a--):l.Clipper.PointsAreClose(g.Prev.Pt,g.Next.Pt,m)?(l.Clipper.ExcludeOp(g.Next),g=l.Clipper.ExcludeOp(g),a-=2):l.Clipper.SlopesNearCollinear(g.Prev.Pt,g.Pt,g.Next.Pt,m)?(g=l.Clipper.ExcludeOp(g),a--):(g.Idx=1,g=g.Next);a<3&&(a=0);for(var w=new Array(a),d=0;d<a;++d)w[d]=new l.IntPoint(g.Pt),g=g.Next;return f=null,w},l.Clipper.CleanPolygons=function(i,s){for(var a=new Array(i.length),f=0,d=i.length;f<d;f++)a[f]=l.Clipper.CleanPolygon(i[f],s);return a},l.Clipper.Minkowski=function(i,s,a,f){var d=f?1:0,m=i.length,g=s.length,w=new Array;if(a)for(var C=0;C<g;C++){for(var b=new Array(m),A=0,k=i.length,Y=i[A];A<k;A++,Y=i[A])b[A]=new l.IntPoint(s[C].X+Y.X,s[C].Y+Y.Y);w.push(b)}else for(var C=0;C<g;C++){for(var b=new Array(m),A=0,k=i.length,Y=i[A];A<k;A++,Y=i[A])b[A]=new l.IntPoint(s[C].X-Y.X,s[C].Y-Y.Y);w.push(b)}for(var G=new Array,C=0;C<g-1+d;C++)for(var A=0;A<m;A++){var H=new Array;H.push(w[C%g][A%m]),H.push(w[(C+1)%g][A%m]),H.push(w[(C+1)%g][(A+1)%m]),H.push(w[C%g][(A+1)%m]),l.Clipper.Orientation(H)||H.reverse(),G.push(H)}var ot=new l.Clipper(0);return ot.AddPaths(G,l.PolyType.ptSubject,!0),ot.Execute(l.ClipType.ctUnion,w,l.PolyFillType.pftNonZero,l.PolyFillType.pftNonZero),w},l.Clipper.MinkowskiSum=function(){var i=arguments,s=i.length;if(s==3){var a=i[0],f=i[1],d=i[2];return l.Clipper.Minkowski(a,f,!0,d)}else if(s==4){for(var a=i[0],m=i[1],g=i[2],d=i[3],w=new l.Clipper,C,b=0,A=m.length;b<A;++b){var C=l.Clipper.Minkowski(a,m[b],!0,d);w.AddPaths(C,l.PolyType.ptSubject,!0)}d&&w.AddPaths(m,l.PolyType.ptClip,!0);var k=new l.Paths;return w.Execute(l.ClipType.ctUnion,k,g,g),k}},l.Clipper.MinkowskiDiff=function(i,s,a){return l.Clipper.Minkowski(i,s,!1,a)},l.Clipper.PolyTreeToPaths=function(i){var s=new Array;return l.Clipper.AddPolyNodeToPaths(i,l.Clipper.NodeType.ntAny,s),s},l.Clipper.AddPolyNodeToPaths=function(i,s,a){var f=!0;switch(s){case l.Clipper.NodeType.ntOpen:return;case l.Clipper.NodeType.ntClosed:f=!i.IsOpen;break}i.m_polygon.length>0&&f&&a.push(i.m_polygon);for(var d=0,m=i.Childs(),g=m.length,w=m[d];d<g;d++,w=m[d])l.Clipper.AddPolyNodeToPaths(w,s,a)},l.Clipper.OpenPathsFromPolyTree=function(i){for(var s=new l.Paths,a=0,f=i.ChildCount();a<f;a++)i.Childs()[a].IsOpen&&s.push(i.Childs()[a].m_polygon);return s},l.Clipper.ClosedPathsFromPolyTree=function(i){var s=new l.Paths;return l.Clipper.AddPolyNodeToPaths(i,l.Clipper.NodeType.ntClosed,s),s},$(l.Clipper,l.ClipperBase),l.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},l.ClipperOffset=function(i,s){typeof i>"u"&&(i=2),typeof s>"u"&&(s=l.ClipperOffset.def_arc_tolerance),this.m_destPolys=new l.Paths,this.m_srcPoly=new l.Path,this.m_destPoly=new l.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new l.IntPoint,this.m_polyNodes=new l.PolyNode,this.MiterLimit=i,this.ArcTolerance=s,this.m_lowest.X=-1},l.ClipperOffset.two_pi=6.28318530717959,l.ClipperOffset.def_arc_tolerance=.25,l.ClipperOffset.prototype.Clear=function(){l.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},l.ClipperOffset.Round=l.Clipper.Round,l.ClipperOffset.prototype.AddPath=function(i,s,a){var f=i.length-1;if(!(f<0)){var d=new l.PolyNode;if(d.m_jointype=s,d.m_endtype=a,a==l.EndType.etClosedLine||a==l.EndType.etClosedPolygon)for(;f>0&&l.IntPoint.op_Equality(i[0],i[f]);)f--;d.m_polygon.push(i[0]);for(var m=0,g=0,w=1;w<=f;w++)l.IntPoint.op_Inequality(d.m_polygon[m],i[w])&&(m++,d.m_polygon.push(i[w]),(i[w].Y>d.m_polygon[g].Y||i[w].Y==d.m_polygon[g].Y&&i[w].X<d.m_polygon[g].X)&&(g=m));if(!(a==l.EndType.etClosedPolygon&&m<2||a!=l.EndType.etClosedPolygon&&m<0)&&(this.m_polyNodes.AddChild(d),a==l.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new l.IntPoint(0,g);else{var C=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(d.m_polygon[g].Y>C.Y||d.m_polygon[g].Y==C.Y&&d.m_polygon[g].X<C.X)&&(this.m_lowest=new l.IntPoint(this.m_polyNodes.ChildCount()-1,g))}}},l.ClipperOffset.prototype.AddPaths=function(i,s,a){for(var f=0,d=i.length;f<d;f++)this.AddPath(i[f],s,a)},l.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!l.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var i=0;i<this.m_polyNodes.ChildCount();i++){var s=this.m_polyNodes.Childs()[i];(s.m_endtype==l.EndType.etClosedPolygon||s.m_endtype==l.EndType.etClosedLine&&l.Clipper.Orientation(s.m_polygon))&&s.m_polygon.reverse()}else for(var i=0;i<this.m_polyNodes.ChildCount();i++){var s=this.m_polyNodes.Childs()[i];s.m_endtype==l.EndType.etClosedLine&&!l.Clipper.Orientation(s.m_polygon)&&s.m_polygon.reverse()}},l.ClipperOffset.GetUnitNormal=function(i,s){var a=s.X-i.X,f=s.Y-i.Y;if(a==0&&f==0)return new l.DoublePoint(0,0);var d=1/Math.sqrt(a*a+f*f);return a*=d,f*=d,new l.DoublePoint(f,-a)},l.ClipperOffset.prototype.DoOffset=function(i){if(this.m_destPolys=new Array,this.m_delta=i,l.ClipperBase.near_zero(i)){for(var s=0;s<this.m_polyNodes.ChildCount();s++){var a=this.m_polyNodes.Childs()[s];a.m_endtype==l.EndType.etClosedPolygon&&this.m_destPolys.push(a.m_polygon)}return}this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5;var f;this.ArcTolerance<=0?f=l.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(i)*l.ClipperOffset.def_arc_tolerance?f=Math.abs(i)*l.ClipperOffset.def_arc_tolerance:f=this.ArcTolerance;var d=3.14159265358979/Math.acos(1-f/Math.abs(i));this.m_sin=Math.sin(l.ClipperOffset.two_pi/d),this.m_cos=Math.cos(l.ClipperOffset.two_pi/d),this.m_StepsPerRad=d/l.ClipperOffset.two_pi,i<0&&(this.m_sin=-this.m_sin);for(var s=0;s<this.m_polyNodes.ChildCount();s++){var a=this.m_polyNodes.Childs()[s];this.m_srcPoly=a.m_polygon;var m=this.m_srcPoly.length;if(!(m==0||i<=0&&(m<3||a.m_endtype!=l.EndType.etClosedPolygon))){if(this.m_destPoly=new Array,m==1){if(a.m_jointype==l.JoinType.jtRound)for(var g=1,w=0,C=1;C<=d;C++){this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[0].X+g*i),l.ClipperOffset.Round(this.m_srcPoly[0].Y+w*i)));var b=g;g=g*this.m_cos-this.m_sin*w,w=b*this.m_sin+w*this.m_cos}else for(var g=-1,w=-1,C=0;C<4;++C)this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[0].X+g*i),l.ClipperOffset.Round(this.m_srcPoly[0].Y+w*i))),g<0?g=1:w<0?w=1:g=-1;this.m_destPolys.push(this.m_destPoly);continue}this.m_normals.length=0;for(var C=0;C<m-1;C++)this.m_normals.push(l.ClipperOffset.GetUnitNormal(this.m_srcPoly[C],this.m_srcPoly[C+1]));if(a.m_endtype==l.EndType.etClosedLine||a.m_endtype==l.EndType.etClosedPolygon?this.m_normals.push(l.ClipperOffset.GetUnitNormal(this.m_srcPoly[m-1],this.m_srcPoly[0])):this.m_normals.push(new l.DoublePoint(this.m_normals[m-2])),a.m_endtype==l.EndType.etClosedPolygon){for(var A=m-1,C=0;C<m;C++)A=this.OffsetPoint(C,A,a.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(a.m_endtype==l.EndType.etClosedLine){for(var A=m-1,C=0;C<m;C++)A=this.OffsetPoint(C,A,a.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;for(var k=this.m_normals[m-1],C=m-1;C>0;C--)this.m_normals[C]=new l.DoublePoint(-this.m_normals[C-1].X,-this.m_normals[C-1].Y);this.m_normals[0]=new l.DoublePoint(-k.X,-k.Y),A=0;for(var C=m-1;C>=0;C--)A=this.OffsetPoint(C,A,a.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{for(var A=0,C=1;C<m-1;++C)A=this.OffsetPoint(C,A,a.m_jointype);var Y;if(a.m_endtype==l.EndType.etOpenButt){var C=m-1;Y=new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[C].X+this.m_normals[C].X*i),l.ClipperOffset.Round(this.m_srcPoly[C].Y+this.m_normals[C].Y*i)),this.m_destPoly.push(Y),Y=new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[C].X-this.m_normals[C].X*i),l.ClipperOffset.Round(this.m_srcPoly[C].Y-this.m_normals[C].Y*i)),this.m_destPoly.push(Y)}else{var C=m-1;A=m-2,this.m_sinA=0,this.m_normals[C]=new l.DoublePoint(-this.m_normals[C].X,-this.m_normals[C].Y),a.m_endtype==l.EndType.etOpenSquare?this.DoSquare(C,A):this.DoRound(C,A)}for(var C=m-1;C>0;C--)this.m_normals[C]=new l.DoublePoint(-this.m_normals[C-1].X,-this.m_normals[C-1].Y);this.m_normals[0]=new l.DoublePoint(-this.m_normals[1].X,-this.m_normals[1].Y),A=m-1;for(var C=A-1;C>0;--C)A=this.OffsetPoint(C,A,a.m_jointype);a.m_endtype==l.EndType.etOpenButt?(Y=new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*i),l.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*i)),this.m_destPoly.push(Y),Y=new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*i),l.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*i)),this.m_destPoly.push(Y)):(A=1,this.m_sinA=0,a.m_endtype==l.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}}},l.ClipperOffset.prototype.Execute=function(){var i=arguments,s=i[0]instanceof l.PolyTree;if(s){var a=i[0],f=i[1];a.Clear(),this.FixOrientations(),this.DoOffset(f);var d=new l.Clipper(0);if(d.AddPaths(this.m_destPolys,l.PolyType.ptSubject,!0),f>0)d.Execute(l.ClipType.ctUnion,a,l.PolyFillType.pftPositive,l.PolyFillType.pftPositive);else{var m=l.Clipper.GetBounds(this.m_destPolys),g=new l.Path;if(g.push(new l.IntPoint(m.left-10,m.bottom+10)),g.push(new l.IntPoint(m.right+10,m.bottom+10)),g.push(new l.IntPoint(m.right+10,m.top-10)),g.push(new l.IntPoint(m.left-10,m.top-10)),d.AddPath(g,l.PolyType.ptSubject,!0),d.ReverseSolution=!0,d.Execute(l.ClipType.ctUnion,a,l.PolyFillType.pftNegative,l.PolyFillType.pftNegative),a.ChildCount()==1&&a.Childs()[0].ChildCount()>0){var w=a.Childs()[0];a.Childs()[0]=w.Childs()[0];for(var C=1;C<w.ChildCount();C++)a.AddChild(w.Childs()[C])}else a.Clear()}}else{var a=i[0],f=i[1];l.Clear(a),this.FixOrientations(),this.DoOffset(f);var d=new l.Clipper(0);if(d.AddPaths(this.m_destPolys,l.PolyType.ptSubject,!0),f>0)d.Execute(l.ClipType.ctUnion,a,l.PolyFillType.pftPositive,l.PolyFillType.pftPositive);else{var m=l.Clipper.GetBounds(this.m_destPolys),g=new l.Path;g.push(new l.IntPoint(m.left-10,m.bottom+10)),g.push(new l.IntPoint(m.right+10,m.bottom+10)),g.push(new l.IntPoint(m.right+10,m.top-10)),g.push(new l.IntPoint(m.left-10,m.top-10)),d.AddPath(g,l.PolyType.ptSubject,!0),d.ReverseSolution=!0,d.Execute(l.ClipType.ctUnion,a,l.PolyFillType.pftNegative,l.PolyFillType.pftNegative),a.length>0&&a.splice(0,1)}}},l.ClipperOffset.prototype.OffsetPoint=function(i,s,a){if(this.m_sinA=this.m_normals[s].X*this.m_normals[i].Y-this.m_normals[i].X*this.m_normals[s].Y,this.m_sinA<5e-5&&this.m_sinA>-5e-5)return s;if(this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1),this.m_sinA*this.m_delta<0)this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[i].X+this.m_normals[s].X*this.m_delta),l.ClipperOffset.Round(this.m_srcPoly[i].Y+this.m_normals[s].Y*this.m_delta))),this.m_destPoly.push(new l.IntPoint(this.m_srcPoly[i])),this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[i].X+this.m_normals[i].X*this.m_delta),l.ClipperOffset.Round(this.m_srcPoly[i].Y+this.m_normals[i].Y*this.m_delta)));else switch(a){case l.JoinType.jtMiter:{var f=1+(this.m_normals[i].X*this.m_normals[s].X+this.m_normals[i].Y*this.m_normals[s].Y);f>=this.m_miterLim?this.DoMiter(i,s,f):this.DoSquare(i,s);break}case l.JoinType.jtSquare:this.DoSquare(i,s);break;case l.JoinType.jtRound:this.DoRound(i,s);break}return s=i,s},l.ClipperOffset.prototype.DoSquare=function(i,s){var a=Math.tan(Math.atan2(this.m_sinA,this.m_normals[s].X*this.m_normals[i].X+this.m_normals[s].Y*this.m_normals[i].Y)/4);this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[i].X+this.m_delta*(this.m_normals[s].X-this.m_normals[s].Y*a)),l.ClipperOffset.Round(this.m_srcPoly[i].Y+this.m_delta*(this.m_normals[s].Y+this.m_normals[s].X*a)))),this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[i].X+this.m_delta*(this.m_normals[i].X+this.m_normals[i].Y*a)),l.ClipperOffset.Round(this.m_srcPoly[i].Y+this.m_delta*(this.m_normals[i].Y-this.m_normals[i].X*a))))},l.ClipperOffset.prototype.DoMiter=function(i,s,a){var f=this.m_delta/a;this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[i].X+(this.m_normals[s].X+this.m_normals[i].X)*f),l.ClipperOffset.Round(this.m_srcPoly[i].Y+(this.m_normals[s].Y+this.m_normals[i].Y)*f)))},l.ClipperOffset.prototype.DoRound=function(i,s){for(var a=Math.atan2(this.m_sinA,this.m_normals[s].X*this.m_normals[i].X+this.m_normals[s].Y*this.m_normals[i].Y),f=l.Cast_Int32(l.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(a))),d=this.m_normals[s].X,m=this.m_normals[s].Y,g,w=0;w<f;++w)this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[i].X+d*this.m_delta),l.ClipperOffset.Round(this.m_srcPoly[i].Y+m*this.m_delta))),g=d,d=d*this.m_cos-this.m_sin*m,m=g*this.m_sin+m*this.m_cos;this.m_destPoly.push(new l.IntPoint(l.ClipperOffset.Round(this.m_srcPoly[i].X+this.m_normals[i].X*this.m_delta),l.ClipperOffset.Round(this.m_srcPoly[i].Y+this.m_normals[i].Y*this.m_delta)))},l.Error=function(i){try{throw new Error(i)}catch(s){alert(s.message)}},l.JS={},l.JS.AreaOfPolygon=function(i,s){return s||(s=1),l.Clipper.Area(i)/(s*s)},l.JS.AreaOfPolygons=function(i,s){s||(s=1);for(var a=0,f=0;f<i.length;f++)a+=l.Clipper.Area(i[f]);return a/(s*s)},l.JS.BoundsOfPath=function(i,s){return l.JS.BoundsOfPaths([i],s)},l.JS.BoundsOfPaths=function(i,s){s||(s=1);var a=l.Clipper.GetBounds(i);return a.left/=s,a.bottom/=s,a.right/=s,a.top/=s,a},l.JS.Clean=function(f,s){if(!(f instanceof Array))return[];var a=f[0]instanceof Array,f=l.JS.Clone(f);if(typeof s!="number"||s===null)return l.Error("Delta is not a number in Clean()."),f;if(f.length===0||f.length==1&&f[0].length===0||s<0)return f;a||(f=[f]);for(var d=f.length,m,g,w,C,b,A,k,Y=[],G=0;G<d;G++)if(g=f[G],m=g.length,m!==0){if(m<3){w=g,Y.push(w);continue}for(w=g,C=s*s,b=g[0],A=1,k=1;k<m;k++)(g[k].X-b.X)*(g[k].X-b.X)+(g[k].Y-b.Y)*(g[k].Y-b.Y)<=C||(w[A]=g[k],b=g[k],A++);b=g[A-1],(g[0].X-b.X)*(g[0].X-b.X)+(g[0].Y-b.Y)*(g[0].Y-b.Y)<=C&&A--,A<m&&w.splice(A,m-A),w.length&&Y.push(w)}return!a&&Y.length?Y=Y[0]:!a&&Y.length===0?Y=[]:a&&Y.length===0&&(Y=[[]]),Y},l.JS.Clone=function(i){if(!(i instanceof Array))return[];if(i.length===0)return[];if(i.length==1&&i[0].length===0)return[[]];var s=i[0]instanceof Array;s||(i=[i]);var a=i.length,f,d,m,g,w=new Array(a);for(d=0;d<a;d++){for(f=i[d].length,g=new Array(f),m=0;m<f;m++)g[m]={X:i[d][m].X,Y:i[d][m].Y};w[d]=g}return s||(w=w[0]),w},l.JS.Lighten=function(i,s){if(!(i instanceof Array))return[];if(typeof s!="number"||s===null)return l.Error("Tolerance is not a number in Lighten()."),l.JS.Clone(i);if(i.length===0||i.length==1&&i[0].length===0||s<0)return l.JS.Clone(i);i[0]instanceof Array||(i=[i]);var a,f,d,m,g,w,C,b,A,k,Y,G,H,ot,pt,Mt,J,ne=i.length,F=s*s,Ot=[];for(a=0;a<ne;a++)if(d=i[a],w=d.length,w!=0){for(m=0;m<1e6;m++){for(g=[],w=d.length,d[w-1].X!=d[0].X||d[w-1].Y!=d[0].Y?(G=1,d.push({X:d[0].X,Y:d[0].Y}),w=d.length):G=0,Y=[],f=0;f<w-2;f++)C=d[f],A=d[f+1],b=d[f+2],Mt=C.X,J=C.Y,H=b.X-Mt,ot=b.Y-J,(H!==0||ot!==0)&&(pt=((A.X-Mt)*H+(A.Y-J)*ot)/(H*H+ot*ot),pt>1?(Mt=b.X,J=b.Y):pt>0&&(Mt+=H*pt,J+=ot*pt)),H=A.X-Mt,ot=A.Y-J,k=H*H+ot*ot,k<=F&&(Y[f+1]=1,f++);for(g.push({X:d[0].X,Y:d[0].Y}),f=1;f<w-1;f++)Y[f]||g.push({X:d[f].X,Y:d[f].Y});if(g.push({X:d[w-1].X,Y:d[w-1].Y}),G&&d.pop(),Y.length)d=g;else break}w=g.length,g[w-1].X==g[0].X&&g[w-1].Y==g[0].Y&&g.pop(),g.length>2&&Ot.push(g)}return!i[0]instanceof Array&&(Ot=Ot[0]),typeof Ot>"u"&&(Ot=[[]]),Ot},l.JS.PerimeterOfPath=function(i,s,a){if(typeof i>"u")return 0;var f=Math.sqrt,d=0,m,g,w=0,C=0,b=0,A=0,k=i.length;if(k<2)return 0;for(s&&(i[k]=i[0],k++);--k;)m=i[k],w=m.X,C=m.Y,g=i[k-1],b=g.X,A=g.Y,d+=f((w-b)*(w-b)+(C-A)*(C-A));return s&&i.pop(),d/a},l.JS.PerimeterOfPaths=function(i,s,a){a||(a=1);for(var f=0,d=0;d<i.length;d++)f+=l.JS.PerimeterOfPath(i[d],s,a);return f},l.JS.ScaleDownPath=function(i,s){var a,f;for(s||(s=1),a=i.length;a--;)f=i[a],f.X=f.X/s,f.Y=f.Y/s},l.JS.ScaleDownPaths=function(i,s){var a,f,d;for(s||(s=1),a=i.length;a--;)for(f=i[a].length;f--;)d=i[a][f],d.X=d.X/s,d.Y=d.Y/s},l.JS.ScaleUpPath=function(i,s){var a,f,d=Math.round;for(s||(s=1),a=i.length;a--;)f=i[a],f.X=d(f.X*s),f.Y=d(f.Y*s)},l.JS.ScaleUpPaths=function(i,s){var a,f,d,m=Math.round;for(s||(s=1),a=i.length;a--;)for(f=i[a].length;f--;)d=i[a][f],d.X=m(d.X*s),d.Y=m(d.Y*s)},l.ExPolygons=function(){return[]},l.ExPolygon=function(){this.outer=null,this.holes=null},l.JS.AddOuterPolyNodeToExPolygons=function(i,s){var a=new l.ExPolygon;a.outer=i.Contour();var f=i.Childs(),d=f.length;a.holes=new Array(d);var m,g,w,C,b,A;for(w=0;w<d;w++)for(m=f[w],a.holes[w]=m.Contour(),C=0,b=m.Childs(),A=b.length;C<A;C++)g=b[C],l.JS.AddOuterPolyNodeToExPolygons(g,s);s.push(a)},l.JS.ExPolygonsToPaths=function(i){var s,a,f,d,m=new l.Paths;for(s=0,f=i.length;s<f;s++)for(m.push(i[s].outer),a=0,d=i[s].holes.length;a<d;a++)m.push(i[s].holes[a]);return m},l.JS.PolyTreeToExPolygons=function(i){var s=new l.ExPolygons,a,f,d,m;for(f=0,d=i.Childs(),m=d.length;f<m;f++)a=d[f],l.JS.AddOuterPolyNodeToExPolygons(a,s);return s},T.exports=l})(bs);var or=bs.exports;const yi=_s(or),sr=(T,l)=>l.some(P=>T instanceof P);let gs,ys;function rr(){return gs||(gs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ar(){return ys||(ys=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ss=new WeakMap,us=new WeakMap,Es=new WeakMap,ns=new WeakMap,ms=new WeakMap;function hr(T){const l=new Promise((P,Z)=>{const E=()=>{T.removeEventListener("success",D),T.removeEventListener("error",N)},D=()=>{P(xi(T.result)),E()},N=()=>{Z(T.error),E()};T.addEventListener("success",D),T.addEventListener("error",N)});return l.then(P=>{P instanceof IDBCursor&&Ss.set(P,T)}).catch(()=>{}),ms.set(l,T),l}function lr(T){if(us.has(T))return;const l=new Promise((P,Z)=>{const E=()=>{T.removeEventListener("complete",D),T.removeEventListener("error",N),T.removeEventListener("abort",N)},D=()=>{P(),E()},N=()=>{Z(T.error),E()};T.addEventListener("complete",D),T.addEventListener("error",N),T.addEventListener("abort",N)});us.set(T,l)}let fs={get(T,l,P){if(T instanceof IDBTransaction){if(l==="done")return us.get(T);if(l==="objectStoreNames")return T.objectStoreNames||Es.get(T);if(l==="store")return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return xi(T[l])},has(T,l){return T instanceof IDBTransaction&&(l==="done"||l==="store")?!0:l in T}};function ur(T){fs=T(fs)}function fr(T){return T===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(l,...P){const Z=T.call(os(this),l,...P);return Es.set(Z,l.sort?l.sort():[l]),xi(Z)}:ar().includes(T)?function(...l){return T.apply(os(this),l),xi(Ss.get(this))}:function(...l){return xi(T.apply(os(this),l))}}function cr(T){return typeof T=="function"?fr(T):(T instanceof IDBTransaction&&lr(T),sr(T,rr())?new Proxy(T,fs):T)}function xi(T){if(T instanceof IDBRequest)return hr(T);if(ns.has(T))return ns.get(T);const l=cr(T);return l!==T&&(ns.set(T,l),ms.set(l,T)),l}const os=T=>ms.get(T);function dr(T,l,{blocked:P,upgrade:Z,blocking:E}={}){const D=indexedDB.open(T,l),N=xi(D);return Z&&D.addEventListener("upgradeneeded",M=>{Z(xi(D.result),M.oldVersion,M.newVersion,xi(D.transaction))}),P&&D.addEventListener("blocked",()=>P()),E&&N.then(M=>M.addEventListener("versionchange",E)).catch(()=>{}),N}const _r=["get","getKey","getAll","getAllKeys","count"],pr=["put","add","delete","clear"],ss=new Map;function Ps(T,l){if(!(T instanceof IDBDatabase&&!(l in T)&&typeof l=="string"))return;if(ss.get(l))return ss.get(l);const P=l.replace(/FromIndex$/,""),Z=l!==P,E=pr.includes(P);if(!(P in(Z?IDBIndex:IDBObjectStore).prototype)||!(E||_r.includes(P)))return;const D=async function(N,...M){const O=this.transaction(N,E?"readwrite":"readonly");let Ut=O.store;Z&&(Ut=Ut.index(M.shift()));const kt=Ut[P](...M);return E&&await O.done,kt};return ss.set(l,D),D}ur(T=>({get:(l,P,Z)=>Ps(l,P)||T.get(l,P,Z),has:(l,P)=>!!Ps(l,P)||T.has(l,P)}));const mr=vt.Control.extend({options:{},_layers:{},initialize(T){vt.Util.setOptions(this,T),this._layers={}},_addLayer(T){let l=15;T.options.minZoom&&(l=T.options.minZoom),this._layers[T._leaflet_id]=l,this._updateBox(null)},_removeLayer(T){this._layers[T._leaflet_id]=null,this._updateBox(null)},_getMinZoomLevel(){let T=-1;for(const l in this._layers)this._layers[l]!==null&&this._layers[l]>T&&(T=this._layers[l]);return T},_updateBox(T){const l=this._getMinZoomLevel();T!==null&&vt.DomEvent.preventDefault(T),l==-1?this._container.innerHTML=this.options.minZoomMessageNoLayer:this._container.innerHTML=this.options.minZoomMessage.replace(/CURRENTZOOM/,this._map.getZoom()).replace(/MINZOOMLEVEL/,l),this._map.getZoom()>=l?this._container.style.display="none":this._container.style.display="block"},onAdd(T){return this._map=T,this._map.zoomIndicator=this,this._container=vt.DomUtil.create("div","leaflet-control-minZoomIndicator"),this._map.on("moveend",this._updateBox,this),this._updateBox(null),this._container},onRemove(T){T.off({moveend:this._updateBox},this)}});vt.Control.MinZoomIndicator=mr;const Ms=vt.FeatureGroup.extend({options:{debug:!1,minZoom:15,endPoint:"https://overpass-api.de/api/",query:"(node({{bbox}})[organic];node({{bbox}})[second_hand];);out qt;",loadedBounds:[],markerIcon:null,timeout:30*1e3,retryOnTimeout:!1,noInitialRequest:!1,cacheEnabled:!1,cacheTTL:1800,beforeRequest(){},afterRequest(){},onSuccess(T){for(let l=0;l<T.elements.length;l++){let P,Z;const E=T.elements[l];if(E.id in this._ids)continue;this._ids[E.id]=!0,E.type==="node"?P=vt.latLng(E.lat,E.lon):P=vt.latLng(E.center.lat,E.center.lon),this.options.markerIcon?Z=vt.marker(P,{icon:this.options.markerIcon}):Z=vt.circle(P,20,{stroke:!1,fillColor:"#E54041",fillOpacity:.9});const D=this._getPoiPopupHTML(E.tags,E.id),N=vt.popup().setContent(D);Z.bindPopup(N),this._markers.addLayer(Z)}},onError(){},onTimeout(){},minZoomIndicatorEnabled:!0,minZoomIndicatorOptions:{minZoomMessageNoLayer:"No layer assigned",minZoomMessage:"Current zoom Level: CURRENTZOOM. Data are visible at Level: MINZOOMLEVEL."}},initialize(T){vt.Util.setOptions(this,T),this._ids={},this._loadedBounds=T.loadedBounds||[],this._requestInProgress=!1,this.options.cacheEnabled&&this._initCacheDb()},async _initCacheDb(){this._cacheDb=await dr("leaflet-overpass-layer",1,{upgrade(l){l.createObjectStore("cache",{autoIncrement:!0})}}),!!this._map&&this._loadCachedItems()},_getPoiPopupHTML(T,l){let P;const Z=document.createElement("a"),E=document.createElement("table"),D=document.createElement("div");Z.href=`https://www.openstreetmap.org/edit?editor=id&node=${l}`,Z.appendChild(document.createTextNode("Edit this entry in iD")),E.style.borderSpacing="10px",E.style.borderCollapse="separate";for(const N in T)P=E.insertRow(0),P.insertCell(0).appendChild(document.createTextNode(N)),P.insertCell(1).appendChild(document.createTextNode(T[N]));return D.appendChild(Z),D.appendChild(E),D},_buildRequestBox(T){return vt.rectangle(T,{bounds:T,color:"#204a87",stroke:!1,fillOpacity:.1,clickable:!1})},_addRequestBox(T){return this._requestBoxes.addLayer(T)},_getRequestBoxes(){return this._requestBoxes.getLayers()},_removeRequestBox(T){this._requestBoxes.removeLayer(T)},_removeRequestBoxes(){return this._requestBoxes.clearLayers()},_addResponseBox(T){return this._responseBoxes.addLayer(T)},_addResponseBoxes(T){this._removeRequestBoxes(),T.forEach(l=>{l.setStyle({color:"black",weight:2}),this._addResponseBox(l)})},_isFullyLoadedBounds(T,l){if(l.length===0)return!1;const P=this._buildClipsFromBounds([T]),Z=this._buildClipsFromBounds(l),E=new yi.Clipper,D=new yi.PolyTree;return E.AddPaths(P,yi.PolyType.ptSubject,!0),E.AddPaths(Z,yi.PolyType.ptClip,!0),E.Execute(yi.ClipType.ctDifference,D,yi.PolyFillType.pftNonZero,yi.PolyFillType.pftNonZero),yi.JS.PolyTreeToExPolygons(D).length===0},_getLoadedBounds(){return this._loadedBounds},_addLoadedBounds(T){this._loadedBounds.push(T)},_buildClipsFromBounds(T){return T.map(l=>[{X:l._southWest.lng*1e6,Y:l._southWest.lat*1e6},{X:l._southWest.lng*1e6,Y:l._northEast.lat*1e6},{X:l._northEast.lng*1e6,Y:l._northEast.lat*1e6},{X:l._northEast.lng*1e6,Y:l._southWest.lat*1e6}])},_buildBoundsFromClips(T){return T.map(l=>vt.latLngBounds(vt.latLng(l[0].Y/1e6,l[0].X/1e6).wrap(),vt.latLng(l[2].Y/1e6,l[2].X/1e6).wrap()))},_buildOverpassQueryFromQueryAndBounds(T,l){const P=l._southWest,Z=l._northEast,E=[P.lat,P.lng,Z.lat,Z.lng].join(",");return T=T.replace(/(\/\/.*)/g,""),T=T.replace(/(\{\{bbox\}\})/g,E),T},_buildOverpassUrlFromEndPointAndQuery(T,l){return`${T}interpreter?data=[out:json];${l}`},_buildLargerBounds(T){const l=Math.abs(T._northEast.lng-T._southWest.lng),P=Math.abs(T._northEast.lat-T._southWest.lat),Z=l>P?l:P;return T._southWest.lat-=Z/2,T._southWest.lng-=Z/2,T._northEast.lat+=Z/2,T._northEast.lng+=Z/2,vt.latLngBounds(vt.latLng(T._southWest.lat,T._southWest.lng).wrap(),vt.latLng(T._northEast.lat,T._northEast.lng).wrap())},_setRequestInProgress(T){this._requestInProgress=T},_isRequestInProgress(){return this._requestInProgress},_hasNextRequest(){return!!this._nextRequest},_getNextRequest(){return this._nextRequest},_setNextRequest(T){this._nextRequest=T},_removeNextRequest(){this._nextRequest=null},_prepareRequest(){if(this._map.getZoom()<this.options.minZoom)return!1;const T=this._buildLargerBounds(this._map.getBounds()),l=this._sendRequest.bind(this,T);this._isRequestInProgress()?this._setNextRequest(l):(this._removeNextRequest(),l())},_sendRequest(T){const l=this._getLoadedBounds();if(this._isFullyLoadedBounds(T,l)){this._setRequestInProgress(!1);return}const P=this._buildLargerBounds(T),Z=this._buildOverpassUrlFromEndPointAndQuery(this.options.endPoint,this._buildOverpassQueryFromQueryAndBounds(this.options.query,P)),E=new XMLHttpRequest;if(this.options.beforeRequest.call(this)===!1){this.options.afterRequest.call(this);return}this._setRequestInProgress(!0),this.options.debug&&this._addRequestBox(this._buildRequestBox(P)),E.open("GET",Z,!0),E.timeout=this.options.timeout,E.ontimeout=()=>this._onRequestTimeout(E,Z,P),E.onload=()=>this._onRequestLoad(E,P),E.send()},_onRequestLoad(T,l){if(T.status>=200&&T.status<400){let P=JSON.parse(T.response);this.options.onSuccess.call(this,P);const Z=typeof this._cacheDb<"u";if(this.options.cacheEnabled&&Z){let E=new Date;E.setSeconds(E.getSeconds()+this.options.cacheTTL),this._getCachedItems().then(D=>{let N;D.forEach((M,O)=>{const Ut=M.query===this.options.query,kt=vt.latLng(M.bounds._northEast),et=vt.latLng(M.bounds._southWest),gt=vt.latLngBounds(kt,et);Ut&&l.equals(gt)&&(N=O)}),this._cacheDb.put("cache",{query:this.options.query,result:P,bounds:l,expires:E},N)})}this._onRequestLoadCallback(l)}else this._onRequestErrorCallback(l),this.options.onError.call(this,T);this._onRequestCompleteCallback(l)},_onRequestTimeout(T,l,P){this.options.onTimeout.call(this,T),this.options.retryOnTimeout?this._sendRequest(l):(this._onRequestErrorCallback(P),this._onRequestCompleteCallback(P))},_onRequestLoadCallback(T){this._addLoadedBounds(T),this.options.debug&&this._addResponseBoxes(this._getRequestBoxes())},_onRequestErrorCallback(T){this.options.debug&&this._removeRequestBox(this._buildRequestBox(T))},_onRequestCompleteCallback(){if(this.options.afterRequest.call(this),this._hasNextRequest()){const T=this._getNextRequest();this._removeNextRequest(),T()}else this._setRequestInProgress(!1)},async _getCachedItems(){if(!(typeof this._cacheDb<"u"))return;const l=await this._cacheDb.getAllKeys("cache"),P=await this._cacheDb.getAll("cache"),Z=new Map;return P.forEach((E,D)=>{const N=l[D];Z.set(N,E)}),Z},async _loadCachedItems(){if(!(typeof this._cacheDb<"u")||!this._map)return;(await this._getCachedItems()).forEach((P,Z)=>{new Date>P.expires?this._cacheDb.delete("cache",Z):P.query===this.options.query&&(this.options.onSuccess.call(this,P.result),this._onRequestLoadCallback(P.bounds))})},onAdd(T){this._map=T,this.options.minZoomIndicatorEnabled===!0&&(this._map.zoomIndicator?(this._zoomControl=this._map.zoomIndicator,this._zoomControl._addLayer(this)):(this._zoomControl=new vt.Control.MinZoomIndicator(this.options.minZoomIndicatorOptions),this._map.addControl(this._zoomControl),this._zoomControl._addLayer(this))),this.options.debug&&(this._requestBoxes=vt.featureGroup().addTo(this._map),this._responseBoxes=vt.featureGroup().addTo(this._map)),this._markers=vt.featureGroup().addTo(this._map),this.options.cacheEnabled&&typeof this._cacheDb<"u"&&this._loadCachedItems(),this.options.noInitialRequest||this._prepareRequest(),this._map.on("moveend",this._prepareRequest,this)},onRemove(T){vt.LayerGroup.prototype.onRemove.call(this,T),this.options.minZoomIndicatorEnabled===!0&&this._map.zoomIndicator&&(this._zoomControl._removeLayer(this),this._map.removeControl(this._zoomControl),this._zoomControl=null,this._map.zoomIndicator=null),this.options.debug&&(this._map.removeLayer(this._requestBoxes),this._map.removeLayer(this._responseBoxes)),this._resetData(),this._map.removeLayer(this._markers),this._map.off("moveend",this._prepareRequest,this)},setQuery(T){this.options.query=T,this._resetData(),this._prepareRequest()},_resetData(){this._ids={},this._loadedBounds=[],this._requestInProgress=!1,this._markers.clearLayers(),this.options.debug&&(this._requestBoxes.clearLayers(),this._responseBoxes.clearLayers())},getData(){return this._data}});vt.OverPassLayer=Ms;vt.overpassLayer=T=>new vt.OverPassLayer(T);function vr(){const T=li([]),l=li(!0),P=`
    (
      node({{bbox}})[amenity~"^(fire_station|hospital)$"];
      node({{bbox}})[amenity~"^(hospital)$"];
      relation({{bbox}})[amenity~"^(hospital)$"];
      node({{bbox}})[healthcare~"^(hospital|clinic)$"];
      relation({{bbox}})[healthcare~"^(hospital|clinic)$"];
    );
    out;
  `,Z=(D={})=>(D.minZoom=13,D.query=P,D.onSuccess=function(N){for(const M of N.elements){if(T.value.includes(M.id))continue;if(T.value.push(M.id),M.type!=="node")throw new Error("None node found, what shall we do?");const O=go.circle(go.latLng(M.lat,M.lon),20,{stroke:!0,color:"#0f57b4",weight:2,fillColor:"#e3e823"});O.bindPopup(go.popup().setContent(`
            <div><strong>${M.tags.name}</strong></div>
            <div>${M.tags.amenity}</div>
          `)),this._markers.addLayer(O)}l.value=!1},new Ms(D));return{init:D=>D&&D.addLayer(Z()),loading:l}}function gr(){const T=navigator.geolocation||null;let l=N=>N,P=N=>N;return{init:()=>{T==null||T.getCurrentPosition(l,P)},onAllowed:N=>{l=N},onDenied:N=>{P=N}}}const yr={key:0},Pr={key:1},xr={key:2},wr=Ae({__name:"TheMap",setup(T){const l=li(null),P=li(null),Z=li(""),{t:E}=wn(),{init:D,map:N}=$s(),{init:M,loading:O}=vr(),{init:Ut,onAllowed:kt,onDenied:et}=gr(),gt=async Dt=>{if(await zs(),D(l.value,Dt),!N.value)throw new Error("Your map was not initialized.");M(N.value)};return kt(Dt=>{P.value=!0,gt([Dt.coords.latitude,Dt.coords.longitude])}),et(Dt=>{Dt.code===1&&(Z.value="Access to geo location not granted."),Dt.code===2&&(Z.value="Could not retrieve your current location."),Dt.code===3&&(Z.value="Timout"),P.value=!1}),ks(()=>Ut()),(Dt,Et)=>P.value===null?(St(),qt("div",yr,"Waiting for geo location...")):P.value?(St(),qt("div",xr,[Wt(O)?(St(),yo(er,{key:0,class:"the-info",label:`${Wt(E)("loading_safe_places")}...`},null,8,["label"])):Xo("",!0),Me(ps,null,{default:Pi(()=>[on(Oe(Wt(E)("index.safe_places_intro")),1)]),_:1}),ui("div",{class:Ds({transparent:Wt(O)})},[ui("div",{id:"the-map",ref_key:"mapTag",ref:l},null,512)],2)])):(St(),qt("div",Pr,Oe(Z.value),1))}});const Lr=wi(wr,[["__scopeId","data-v-f5b43ac5"]]);function Tr(){const{t:T}=wn();return{safeLink:P=>{window.confirm(T("index.safe_link_note"))&&(self.location.href=P)}}}const Cr=Ae({__name:"TheActionButton",props:{label:{},color:{}},setup(T){const l=T,{getColor:P}=Zs(),Z=P(l.color||"black"),E=li({"--color":Z});return(D,N)=>(St(),qt("a",{class:"the-action-button",style:ws(E.value)},[ui("div",null,[ds(D.$slots,"default",{},void 0,!0),on(" "+Oe(l.label||""),1)])],4))}});const rs=wi(Cr,[["__scopeId","data-v-5acb347f"]]),Ir=T=>(Ts("data-v-3fcc4173"),T=T(),Cs(),T),br={class:"the-modules"},Sr=Ir(()=>ui("br",null,null,-1)),Er={class:"the-underline"},Mr=Ae({__name:"TheModules",setup(T){const{t:l}=wn(),{configuration:P}=Ln(),{safeLink:Z}=Tr(),E=as(()=>P.value.getInstitution()),D=()=>{P.value.setActiveModule({component:Lr})};return(N,M)=>(St(),qt("div",br,[Me(rs,{color:"red",href:`tel:${E.value.getPhone()}`},{default:Pi(()=>[on(Oe(Wt(l)("call_institution",{institution:E.value.getName()})),1),Sr,ui("span",Er,Oe(E.value.getPhone()),1)]),_:1},8,["href"]),Me(rs,{color:"violet",onClick:M[0]||(M[0]=O=>D())},{default:Pi(()=>[on(Oe(Wt(l)("find_a_safe_help_resource")),1)]),_:1}),E.value.hasChat()?(St(),yo(rs,{key:0,color:"dark-rosa",onClick:M[1]||(M[1]=O=>Wt(Z)(E.value.getChat()))},{default:Pi(()=>[on(Oe(Wt(l)("go_to_live_chat")),1)]),_:1})):Xo("",!0)]))}});const Or=wi(Mr,[["__scopeId","data-v-3fcc4173"]]),Ar=["innerHTML"],Br=Ae({__name:"TheContentPage",props:{contentPage:{}},setup(T){const l=T;return(P,Z)=>(St(),qt(Is,null,[Me(Hs,null,{default:Pi(()=>[on(Oe(l.contentPage.title),1)]),_:1}),Me(ps,null,{default:Pi(()=>[ui("div",{innerHTML:l.contentPage.content},null,8,Ar)]),_:1})],64))}}),cs=li(""),xs=document.getElementById("vida-script");cs.value=xs instanceof HTMLScriptElement?xs.src.split("/").slice(0,-1).join("/")+"/":"/";function Nr(){return{baseUrl:cs,replacePublicPaths:l=>l.replaceAll("__public/",cs.value)}}function kr(){const{configuration:T}=Ln(),{replacePublicPaths:l}=Nr(),{t:P}=wn();if(!T.value)throw new Error("Content pages can not be provided before initializing configuration");const Z=as(()=>[{title:P("content_page.universal_hand_signal.title"),content:P("content_page.universal_hand_signal.content")},{title:P("content_page.what_can_you_do.title"),content:P("content_page.what_can_you_do.content")},{title:`Information about ${T.value.getInstitution().getName()}`,content:`${T.value.getInstitution().getInformation()}`},{title:P("content_page.about_this_widget.title"),content:P("content_page.about_this_widget.content")}]);return{contentPages:as(()=>Z.value.map(D=>({title:D.title,content:l(D.content)})))}}const Dr={class:"the-content-pages"},zr=["onClick"],Zr=Ae({__name:"TheContentPages",setup(T){const{configuration:l}=Ln(),{contentPages:P}=kr(),Z=E=>{if(!l.value)throw new Error("Must initialize widget before setting active module");l.value.setActiveModule({component:Br,props:{contentPage:E}})};return(E,D)=>(St(),qt("div",Dr,[(St(!0),qt(Is,null,Rs(Wt(P),N=>(St(),qt("div",{key:N.title},[ui("a",{href:"#",onClick:Xs(M=>Z(N),["prevent"])},Oe(N.title),9,zr)]))),128))]))}});const Rr=wi(Zr,[["__scopeId","data-v-8bd04f52"]]),Xr=Ae({__name:"TheBackButton",setup(T){const{t:l}=wn(),{configuration:P}=Ln(),Z=()=>P.value.setActiveModule(null);return(E,D)=>(St(),qt("div",{class:"the-back",onClick:Z},"< "+Oe(Wt(l)("back")),1))}});const Yr=wi(Xr,[["__scopeId","data-v-66f25105"]]),Fr=T=>(Ts("data-v-83421f20"),T=T(),Cs(),T),Wr=Fr(()=>ui("div",{class:"the-trigger"},null,-1)),Hr=[Wr],qr=Ae({__name:"TheX",setup(T){const{configuration:l}=Ln();return(P,Z)=>(St(),qt("div",{class:"the-x",onClick:Z[0]||(Z[0]=E=>Wt(l).close())},Hr))}});const Ur=wi(qr,[["__scopeId","data-v-83421f20"]]),Gr={key:0,class:"the-help-center"},Vr={key:0},Jr={key:1},Kr=Ae({__name:"TheHelpCenter",setup(T){const{configuration:l}=Ln();return(P,Z)=>Wt(l)?(St(),qt("div",Gr,[Me(Ur),Me(qs),Wt(l).hasActiveModule()?(St(),yo(Yr,{key:0})):Xo("",!0),Me(Us,null,{default:Pi(()=>[Wt(l).hasActiveModule()?(St(),qt("div",Jr,[(St(),yo(Ws(Wt(l).getActiveModule().component),Ys(Fs(Wt(l).getActiveModule().props)),null,16))])):(St(),qt("div",Vr,[Me(Vs),Me(Or),Me(Rr)]))]),_:1})])):Xo("",!0)}});const ea=wi(Kr,[["__scopeId","data-v-3313d36b"]]);export{ea as default};
