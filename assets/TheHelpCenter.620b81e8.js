import{d as he,r as re,o as It,c as Zt,a as vo,n as ll,b as sa,_ as Ve,u as vi,e as un,w as Ai,f as ye,g as bt,h as zi,i as go,j as yo,t as ge,k as ul,l as We,m as fl,p as cl,q as dl,F as ra,s as _l,v as pl,x as ml,y as vl,z as gl}from"../index.js";const yl=he({__name:"TheScrollArea",props:{maxHeight:null},setup(t){const r=re({maxHeight:t.maxHeight||"calc(100vh - 220px)"});return(l,c)=>(It(),Zt("div",{class:"the-scroll-area",style:ll(r.value)},[vo(l.$slots,"default")],4))}});const Pl=he({__name:"TheTextContent",props:{important:{type:Boolean,default:!1},centered:{type:Boolean,default:!1},small:{type:Boolean,default:!1}},setup(t){const e=t;return(r,l)=>(It(),Zt("div",{class:sa(["the-text-content",{important:e.important,centered:e.centered,small:e.small}])},[vo(r.$slots,"default",{},void 0,!0)],2))}});const Ns=Ve(Pl,[["__scopeId","data-v-c8828af0"]]),xl=["innerHTML"],wl=he({__name:"TheIntro",setup(t){const{t:e}=vi();return(r,l)=>(It(),un(Ns,{small:!0},{default:Ai(()=>[ye("div",{innerHTML:bt(e)("index.widget_description")},null,8,xl)]),_:1}))}});const Ll={},Tl={class:"the-headline"};function Cl(t,e){return It(),Zt("div",Tl,[vo(t.$slots,"default",{},void 0,!0)])}const aa=Ve(Ll,[["render",Cl],["__scopeId","data-v-3506516f"]]),Il=["innerHTML"],bl=he({__name:"TheEmergencyHeader",setup(t){var c;const{t:e}=vi(),{configuration:r}=zi(),l=re((c=r.value)==null?void 0:c.emergencyNumber);return(p,y)=>l.value?(It(),un(aa,{key:0},{default:Ai(()=>[ye("div",{innerHTML:bt(e)("index.emergency_header",{emergencyNumber:l.value})},null,8,Il)]),_:1})):go("",!0)}});/* @preserve
 * Leaflet 1.9.0+main.a7e1bbc, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Sl="1.9.0+main.a7e1bbcb";function ft(t){var e,r,l,c;for(r=1,l=arguments.length;r<l;r++){c=arguments[r];for(e in c)t[e]=c[e]}return t}var uo=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function Pt(t,e){var r=Array.prototype.slice;if(t.bind)return t.bind.apply(t,r.call(arguments,1));var l=r.call(arguments,2);return function(){return t.apply(e,l.length?l.concat(r.call(arguments)):arguments)}}var ha=0;function rt(t){return"_leaflet_id"in t||(t._leaflet_id=++ha),t._leaflet_id}function la(t,e,r){var l,c,p,y;return y=function(){l=!1,c&&(p.apply(r,c),c=!1)},p=function(){l?c=arguments:(t.apply(r,arguments),setTimeout(y,e),l=!0)},p}function fn(t,e,r){var l=e[1],c=e[0],p=l-c;return t===l&&r?t:((t-c)%p+p)%p+c}function At(){return!1}function pe(t,e){if(e===!1)return t;var r=Math.pow(10,e===void 0?6:e);return Math.round(t*r)/r}function ks(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function li(t){return ks(t).split(/\s+/)}function xt(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?uo(t.options):{});for(var r in e)t.options[r]=e[r];return t.options}function ua(t,e,r){var l=[];for(var c in t)l.push(encodeURIComponent(r?c.toUpperCase():c)+"="+encodeURIComponent(t[c]));return(!e||e.indexOf("?")===-1?"?":"&")+l.join("&")}var El=/\{ *([\w_ -]+) *\}/g;function fa(t,e){return t.replace(El,function(r,l){var c=e[l];if(c===void 0)throw new Error("No value provided for variable "+r);return typeof c=="function"&&(c=c(e)),c})}var le=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function Ds(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1}var ro="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ps(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Hr=0;function ca(t){var e=+new Date,r=Math.max(0,16-(e-Hr));return Hr=e+r,window.setTimeout(t,r)}var xs=window.requestAnimationFrame||Ps("RequestAnimationFrame")||ca,da=window.cancelAnimationFrame||Ps("CancelAnimationFrame")||Ps("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Gt(t,e,r){if(r&&xs===ca)t.call(e);else return xs.call(window,Pt(t,e))}function te(t){t&&da.call(window,t)}var Ml={__proto__:null,extend:ft,create:uo,bind:Pt,get lastId(){return ha},stamp:rt,throttle:la,wrapNum:fn,falseFn:At,formatNum:pe,trim:ks,splitWords:li,setOptions:xt,getParamString:ua,template:fa,isArray:le,indexOf:Ds,emptyImageUrl:ro,requestFn:xs,cancelFn:da,requestAnimFrame:Gt,cancelAnimFrame:te};function Me(){}Me.extend=function(t){var e=function(){xt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,l=uo(r);l.constructor=e,e.prototype=l;for(var c in this)Object.prototype.hasOwnProperty.call(this,c)&&c!=="prototype"&&c!=="__super__"&&(e[c]=this[c]);return t.statics&&ft(e,t.statics),t.includes&&(Ol(t.includes),ft.apply(null,[l].concat(t.includes))),ft(l,t),delete l.statics,delete l.includes,l.options&&(l.options=r.options?uo(r.options):{},ft(l.options,t.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var p=0,y=l._initHooks.length;p<y;p++)l._initHooks[p].call(this)}},e};Me.include=function(t){var e=this.prototype.options;return ft(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this};Me.mergeOptions=function(t){return ft(this.prototype.options,t),this};Me.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),r=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function Ol(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=le(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Kt={on:function(t,e,r){if(typeof t=="object")for(var l in t)this._on(l,t[l],e);else{t=li(t);for(var c=0,p=t.length;c<p;c++)this._on(t[c],e,r)}return this},off:function(t,e,r){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var l in t)this._off(l,t[l],e);else{t=li(t);for(var c=arguments.length===1,p=0,y=t.length;p<y;p++)c?this._off(t[p]):this._off(t[p],e,r)}return this},_on:function(t,e,r,l){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,r)===!1){r===this&&(r=void 0);var c={fn:e,ctx:r};l&&(c.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(c)}},_off:function(t,e,r){var l,c,p;if(!!this._events&&(l=this._events[t],!!l)){if(arguments.length===1){if(this._firingCount)for(c=0,p=l.length;c<p;c++)l[c].fn=At;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var y=this._listens(t,e,r);if(y!==!1){var P=l[y];this._firingCount&&(P.fn=At,this._events[t]=l=l.slice()),l.splice(y,1)}}},fire:function(t,e,r){if(!this.listens(t,r))return this;var l=ft({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var c=this._events[t];if(c){this._firingCount=this._firingCount+1||1;for(var p=0,y=c.length;p<y;p++){var P=c[p],T=P.fn;P.once&&this.off(t,T,P.ctx),T.call(P.ctx||this,l)}this._firingCount--}}return r&&this._propagateEvent(l),this},listens:function(t,e,r,l){typeof t!="string"&&console.warn('"string" type argument expected'),typeof e!="function"&&(l=!!e,e=void 0,r=void 0);var c=this._events&&this._events[t];if(c&&c.length&&this._listens(t,e,r)!==!1)return!0;if(l){for(var p in this._eventParents)if(this._eventParents[p].listens(t,e,r,l))return!0}return!1},_listens:function(t,e,r){if(!this._events)return!1;var l=this._events[t]||[];if(!e)return!!l.length;r===this&&(r=void 0);for(var c=0,p=l.length;c<p;c++)if(l[c].fn===e&&l[c].ctx===r)return c;return!1},once:function(t,e,r){if(typeof t=="object")for(var l in t)this._on(l,t[l],e,!0);else{t=li(t);for(var c=0,p=t.length;c<p;c++)this._on(t[c],e,r,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[rt(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[rt(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,ft({layer:t.target,propagatedFrom:t.target},t),!0)}};Kt.addEventListener=Kt.on;Kt.removeEventListener=Kt.clearAllEventListeners=Kt.off;Kt.addOneTimeEventListener=Kt.once;Kt.fireEvent=Kt.fire;Kt.hasEventListeners=Kt.listens;var pn=Me.extend(Kt);function V(t,e,r){this.x=r?Math.round(t):t,this.y=r?Math.round(e):e}var qr=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(t){return this.clone()._add(q(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(q(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new V(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new V(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=qr(this.x),this.y=qr(this.y),this},distanceTo:function(t){t=q(t);var e=t.x-this.x,r=t.y-this.y;return Math.sqrt(e*e+r*r)},equals:function(t){return t=q(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=q(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+pe(this.x)+", "+pe(this.y)+")"}};function q(t,e,r){return t instanceof V?t:le(t)?new V(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new V(t.x,t.y):new V(t,e,r)}function Tt(t,e){if(!!t)for(var r=e?[t,e]:t,l=0,c=r.length;l<c;l++)this.extend(r[l])}Tt.prototype={extend:function(t){var e,r;if(!t)return this;if(t instanceof V||typeof t[0]=="number"||"x"in t)e=r=q(t);else if(t=Ut(t),e=t.min,r=t.max,!e||!r)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=r.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(t){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,r;return typeof t[0]=="number"||t instanceof V?t=q(t):t=Ut(t),t instanceof Tt?(e=t.min,r=t.max):e=r=t,e.x>=this.min.x&&r.x<=this.max.x&&e.y>=this.min.y&&r.y<=this.max.y},intersects:function(t){t=Ut(t);var e=this.min,r=this.max,l=t.min,c=t.max,p=c.x>=e.x&&l.x<=r.x,y=c.y>=e.y&&l.y<=r.y;return p&&y},overlaps:function(t){t=Ut(t);var e=this.min,r=this.max,l=t.min,c=t.max,p=c.x>e.x&&l.x<r.x,y=c.y>e.y&&l.y<r.y;return p&&y},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,r=this.max,l=Math.abs(e.x-r.x)*t,c=Math.abs(e.y-r.y)*t;return Ut(q(e.x-l,e.y-c),q(r.x+l,r.y+c))},equals:function(t){return t?(t=Ut(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Ut(t,e){return!t||t instanceof Tt?t:new Tt(t,e)}function Vt(t,e){if(!!t)for(var r=e?[t,e]:t,l=0,c=r.length;l<c;l++)this.extend(r[l])}Vt.prototype={extend:function(t){var e=this._southWest,r=this._northEast,l,c;if(t instanceof ct)l=t,c=t;else if(t instanceof Vt){if(l=t._southWest,c=t._northEast,!l||!c)return this}else return t?this.extend(dt(t)||Dt(t)):this;return!e&&!r?(this._southWest=new ct(l.lat,l.lng),this._northEast=new ct(c.lat,c.lng)):(e.lat=Math.min(l.lat,e.lat),e.lng=Math.min(l.lng,e.lng),r.lat=Math.max(c.lat,r.lat),r.lng=Math.max(c.lng,r.lng)),this},pad:function(t){var e=this._southWest,r=this._northEast,l=Math.abs(e.lat-r.lat)*t,c=Math.abs(e.lng-r.lng)*t;return new Vt(new ct(e.lat-l,e.lng-c),new ct(r.lat+l,r.lng+c))},getCenter:function(){return new ct((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ct(this.getNorth(),this.getWest())},getSouthEast:function(){return new ct(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof ct||"lat"in t?t=dt(t):t=Dt(t);var e=this._southWest,r=this._northEast,l,c;return t instanceof Vt?(l=t.getSouthWest(),c=t.getNorthEast()):l=c=t,l.lat>=e.lat&&c.lat<=r.lat&&l.lng>=e.lng&&c.lng<=r.lng},intersects:function(t){t=Dt(t);var e=this._southWest,r=this._northEast,l=t.getSouthWest(),c=t.getNorthEast(),p=c.lat>=e.lat&&l.lat<=r.lat,y=c.lng>=e.lng&&l.lng<=r.lng;return p&&y},overlaps:function(t){t=Dt(t);var e=this._southWest,r=this._northEast,l=t.getSouthWest(),c=t.getNorthEast(),p=c.lat>e.lat&&l.lat<r.lat,y=c.lng>e.lng&&l.lng<r.lng;return p&&y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=Dt(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Dt(t,e){return t instanceof Vt?t:new Vt(t,e)}function ct(t,e,r){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,r!==void 0&&(this.alt=+r)}ct.prototype={equals:function(t,e){if(!t)return!1;t=dt(t);var r=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return r<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+pe(this.lat,t)+", "+pe(this.lng,t)+")"},distanceTo:function(t){return Ue.distance(this,dt(t))},wrap:function(){return Ue.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,r=e/Math.cos(Math.PI/180*this.lat);return Dt([this.lat-e,this.lng-r],[this.lat+e,this.lng+r])},clone:function(){return new ct(this.lat,this.lng,this.alt)}};function dt(t,e,r){return t instanceof ct?t:le(t)&&typeof t[0]!="object"?t.length===3?new ct(t[0],t[1],t[2]):t.length===2?new ct(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new ct(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new ct(t,e,r)}var Oe={latLngToPoint:function(t,e){var r=this.projection.project(t),l=this.scale(e);return this.transformation._transform(r,l)},pointToLatLng:function(t,e){var r=this.scale(e),l=this.transformation.untransform(t,r);return this.projection.unproject(l)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,r=this.scale(t),l=this.transformation.transform(e.min,r),c=this.transformation.transform(e.max,r);return new Tt(l,c)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?fn(t.lng,this.wrapLng,!0):t.lng,r=this.wrapLat?fn(t.lat,this.wrapLat,!0):t.lat,l=t.alt;return new ct(r,e,l)},wrapLatLngBounds:function(t){var e=t.getCenter(),r=this.wrapLatLng(e),l=e.lat-r.lat,c=e.lng-r.lng;if(l===0&&c===0)return t;var p=t.getSouthWest(),y=t.getNorthEast(),P=new ct(p.lat-l,p.lng-c),T=new ct(y.lat-l,y.lng-c);return new Vt(P,T)}},Ue=ft({},Oe,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var r=Math.PI/180,l=t.lat*r,c=e.lat*r,p=Math.sin((e.lat-t.lat)*r/2),y=Math.sin((e.lng-t.lng)*r/2),P=p*p+Math.cos(l)*Math.cos(c)*y*y,T=2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P));return this.R*T}}),Ur=6378137,ws={R:Ur,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,r=this.MAX_LATITUDE,l=Math.max(Math.min(r,t.lat),-r),c=Math.sin(l*e);return new V(this.R*t.lng*e,this.R*Math.log((1+c)/(1-c))/2)},unproject:function(t){var e=180/Math.PI;return new ct((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=Ur*Math.PI;return new Tt([-t,-t],[t,t])}()};function zs(t,e,r,l){if(le(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=r,this._d=l}zs.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new V((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function mn(t,e,r,l){return new zs(t,e,r,l)}var Zs=ft({},Ue,{code:"EPSG:3857",projection:ws,transformation:function(){var t=.5/(Math.PI*ws.R);return mn(t,.5,-t,.5)}()}),Al=ft({},Zs,{code:"EPSG:900913"});function _a(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function pa(t,e){var r="",l,c,p,y,P,T;for(l=0,p=t.length;l<p;l++){for(P=t[l],c=0,y=P.length;c<y;c++)T=P[c],r+=(c?"L":"M")+T.x+" "+T.y;r+=e?X.svg?"z":"x":""}return r||"M0 0"}var Rs=document.documentElement.style,Po="ActiveXObject"in window,Bl=Po&&!document.addEventListener,ma="msLaunchUri"in navigator&&!("documentMode"in document),Xs=Pe("webkit"),va=Pe("android"),ga=Pe("android 2")||Pe("android 3"),Nl=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),kl=va&&Pe("Google")&&Nl<537&&!("AudioNode"in window),Ys=!!window.opera,ya=!ma&&Pe("chrome"),Pa=Pe("gecko")&&!Xs&&!Ys&&!Po,Dl=!ya&&Pe("safari"),xa=Pe("phantom"),wa="OTransition"in Rs,zl=navigator.platform.indexOf("Win")===0,La=Po&&"transition"in Rs,Fs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ga,Ta="MozPerspective"in Rs,Zl=!window.L_DISABLE_3D&&(La||Fs||Ta)&&!wa&&!xa,vn=typeof orientation<"u"||Pe("mobile"),Rl=vn&&Xs,Xl=vn&&Fs,Ca=!window.PointerEvent&&window.MSPointerEvent,Ia=!!(window.PointerEvent||Ca),ba="ontouchstart"in window||!!window.TouchEvent,Yl=!window.L_NO_TOUCH&&(ba||Ia),Fl=vn&&Ys,Wl=vn&&Pa,Hl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ql=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",At,e),window.removeEventListener("testPassiveEventSupport",At,e)}catch{}return t}(),Ul=function(){return!!document.createElement("canvas").getContext}(),Ws=!!(document.createElementNS&&_a("svg").createSVGRect),Gl=!!Ws&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Vl=!Ws&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}}(),Jl=navigator.platform.indexOf("Mac")===0,Kl=navigator.platform.indexOf("Linux")===0;function Pe(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var X={ie:Po,ielt9:Bl,edge:ma,webkit:Xs,android:va,android23:ga,androidStock:kl,opera:Ys,chrome:ya,gecko:Pa,safari:Dl,phantom:xa,opera12:wa,win:zl,ie3d:La,webkit3d:Fs,gecko3d:Ta,any3d:Zl,mobile:vn,mobileWebkit:Rl,mobileWebkit3d:Xl,msPointer:Ca,pointer:Ia,touch:Yl,touchNative:ba,mobileOpera:Fl,mobileGecko:Wl,retina:Hl,passiveEvents:ql,canvas:Ul,svg:Ws,vml:Vl,inlineSvg:Gl,mac:Jl,linux:Kl},Sa=X.msPointer?"MSPointerDown":"pointerdown",Ea=X.msPointer?"MSPointerMove":"pointermove",Ma=X.msPointer?"MSPointerUp":"pointerup",Oa=X.msPointer?"MSPointerCancel":"pointercancel",Ls={touchstart:Sa,touchmove:Ea,touchend:Ma,touchcancel:Oa},Gr={touchstart:iu,touchmove:ao,touchend:ao,touchcancel:ao},Bi={},Vr=!1;function jl(t,e,r){return e==="touchstart"&&eu(),Gr[e]?(r=Gr[e].bind(this,r),t.addEventListener(Ls[e],r,!1),r):(console.warn("wrong event specified:",e),L.Util.falseFn)}function $l(t,e,r){if(!Ls[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(Ls[e],r,!1)}function Ql(t){Bi[t.pointerId]=t}function tu(t){Bi[t.pointerId]&&(Bi[t.pointerId]=t)}function Jr(t){delete Bi[t.pointerId]}function eu(){Vr||(document.addEventListener(Sa,Ql,!0),document.addEventListener(Ea,tu,!0),document.addEventListener(Ma,Jr,!0),document.addEventListener(Oa,Jr,!0),Vr=!0)}function ao(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var r in Bi)e.touches.push(Bi[r]);e.changedTouches=[e],t(e)}}function iu(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Rt(e),ao(t,e)}function nu(t){var e={},r,l;for(l in t)r=t[l],e[l]=r&&r.bind?r.bind(t):r;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var ou=200;function su(t,e){t.addEventListener("dblclick",e);var r=0,l;function c(p){if(p.detail!==1){l=p.detail;return}if(!(p.pointerType==="mouse"||p.sourceCapabilities&&!p.sourceCapabilities.firesTouchEvents)){var y=ka(p);if(!(y.some(function(T){return T instanceof HTMLLabelElement&&T.attributes.for})&&!y.some(function(T){return T instanceof HTMLInputElement||T instanceof HTMLSelectElement}))){var P=Date.now();P-r<=ou?(l++,l===2&&e(nu(p))):l=1,r=P}}}return t.addEventListener("click",c),{dblclick:e,simDblclick:c}}function ru(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var Hs=wo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),an=wo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Aa=an==="webkitTransition"||an==="OTransition"?an+"End":"transitionend";function Ba(t){return typeof t=="string"?document.getElementById(t):t}function cn(t,e){var r=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!r||r==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(t,null);r=l?l[e]:null}return r==="auto"?null:r}function st(t,e,r){var l=document.createElement(t);return l.className=e||"",r&&r.appendChild(l),l}function Lt(t){var e=t.parentNode;e&&e.removeChild(t)}function fo(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Zi(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function Ri(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function qs(t,e){if(t.classList!==void 0)return t.classList.contains(e);var r=xo(t);return r.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(r)}function J(t,e){if(t.classList!==void 0)for(var r=li(e),l=0,c=r.length;l<c;l++)t.classList.add(r[l]);else if(!qs(t,e)){var p=xo(t);Us(t,(p?p+" ":"")+e)}}function St(t,e){t.classList!==void 0?t.classList.remove(e):Us(t,ks((" "+xo(t)+" ").replace(" "+e+" "," ")))}function Us(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function xo(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Qt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&au(t,e)}function au(t,e){var r=!1,l="DXImageTransform.Microsoft.Alpha";try{r=t.filters.item(l)}catch{if(e===1)return}e=Math.round(e*100),r?(r.Enabled=e!==100,r.Opacity=e):t.style.filter+=" progid:"+l+"(opacity="+e+")"}function wo(t){for(var e=document.documentElement.style,r=0;r<t.length;r++)if(t[r]in e)return t[r];return!1}function _i(t,e,r){var l=e||new V(0,0);t.style[Hs]=(X.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(r?" scale("+r+")":"")}function Bt(t,e){t._leaflet_pos=e,X.any3d?_i(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function pi(t){return t._leaflet_pos||new V(0,0)}var dn,_n,ms;if("onselectstart"in document)dn=function(){U(window,"selectstart",Rt)},_n=function(){_t(window,"selectstart",Rt)};else{var sn=wo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);dn=function(){if(sn){var t=document.documentElement.style;ms=t[sn],t[sn]="none"}},_n=function(){sn&&(document.documentElement.style[sn]=ms,ms=void 0)}}function Gs(){U(window,"dragstart",Rt)}function Vs(){_t(window,"dragstart",Rt)}var ho,Ts;function Js(t){for(;t.tabIndex===-1;)t=t.parentNode;!t.style||(co(),ho=t,Ts=t.style.outline,t.style.outline="none",U(window,"keydown",co))}function co(){!ho||(ho.style.outline=Ts,ho=void 0,Ts=void 0,_t(window,"keydown",co))}function Na(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Ks(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var hu={__proto__:null,TRANSFORM:Hs,TRANSITION:an,TRANSITION_END:Aa,get:Ba,getStyle:cn,create:st,remove:Lt,empty:fo,toFront:Zi,toBack:Ri,hasClass:qs,addClass:J,removeClass:St,setClass:Us,getClass:xo,setOpacity:Qt,testProp:wo,setTransform:_i,setPosition:Bt,getPosition:pi,get disableTextSelection(){return dn},get enableTextSelection(){return _n},disableImageDrag:Gs,enableImageDrag:Vs,preventOutline:Js,restoreOutline:co,getSizedParentNode:Na,getScale:Ks};function U(t,e,r,l){if(e&&typeof e=="object")for(var c in e)Is(t,c,e[c],r);else{e=li(e);for(var p=0,y=e.length;p<y;p++)Is(t,e[p],r,l)}return this}var me="_leaflet_events";function _t(t,e,r,l){if(arguments.length===1)Kr(t),delete t[me];else if(e&&typeof e=="object")for(var c in e)bs(t,c,e[c],r);else if(e=li(e),arguments.length===2)Kr(t,function(P){return Ds(e,P)!==-1});else for(var p=0,y=e.length;p<y;p++)bs(t,e[p],r,l);return this}function Kr(t,e){for(var r in t[me]){var l=r.split(/\d/)[0];(!e||e(l))&&bs(t,l,null,null,r)}}var Cs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Is(t,e,r,l){var c=e+rt(r)+(l?"_"+rt(l):"");if(t[me]&&t[me][c])return this;var p=function(P){return r.call(l||t,P||window.event)},y=p;!X.touchNative&&X.pointer&&e.indexOf("touch")===0?p=jl(t,e,p):X.touch&&e==="dblclick"?p=su(t,p):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(Cs[e]||e,p,X.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(p=function(P){P=P||window.event,$s(t,P)&&y(P)},t.addEventListener(Cs[e],p,!1)):t.addEventListener(e,y,!1):t.attachEvent("on"+e,p),t[me]=t[me]||{},t[me][c]=p}function bs(t,e,r,l,c){c=c||e+rt(r)+(l?"_"+rt(l):"");var p=t[me]&&t[me][c];if(!p)return this;!X.touchNative&&X.pointer&&e.indexOf("touch")===0?$l(t,e,p):X.touch&&e==="dblclick"?ru(t,p):"removeEventListener"in t?t.removeEventListener(Cs[e]||e,p,!1):t.detachEvent("on"+e,p),t[me][c]=null}function ui(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function js(t){return Is(t,"wheel",ui),this}function gn(t){return U(t,"mousedown touchstart dblclick contextmenu",ui),t._leaflet_disable_click=!0,this}function Rt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function mi(t){return Rt(t),ui(t),this}function ka(t){if(t.composedPath)return t.composedPath();for(var e=[],r=t.target;r;)e.push(r),r=r.parentNode;return e}function Da(t,e){if(!e)return new V(t.clientX,t.clientY);var r=Ks(e),l=r.boundingClientRect;return new V((t.clientX-l.left)/r.x-e.clientLeft,(t.clientY-l.top)/r.y-e.clientTop)}var lu=X.linux&&X.chrome?window.devicePixelRatio:X.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function za(t){return X.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/lu:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function $s(t,e){var r=e.relatedTarget;if(!r)return!0;try{for(;r&&r!==t;)r=r.parentNode}catch{return!1}return r!==t}var uu={__proto__:null,on:U,off:_t,stopPropagation:ui,disableScrollPropagation:js,disableClickPropagation:gn,preventDefault:Rt,stop:mi,getPropagationPath:ka,getMousePosition:Da,getWheelDelta:za,isExternalTarget:$s,addListener:U,removeListener:_t},Za=pn.extend({run:function(t,e,r,l){this.stop(),this._el=t,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=pi(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=Gt(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,r=this._duration*1e3;e<r?this._runFrame(this._easeOut(e/r),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var r=this._startPos.add(this._offset.multiplyBy(t));e&&r._round(),Bt(this._el,r),this.fire("step")},_complete:function(){te(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ot=pn.extend({options:{crs:Zs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=xt(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=Pt(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(dt(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=an&&X.any3d&&!X.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),U(this._proxy,Aa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,r){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(dt(t),e,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=ft({animate:r.animate},r.zoom),r.pan=ft({animate:r.animate,duration:r.duration},r.pan));var l=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,r.zoom):this._tryAnimatedPan(t,r.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,r.pan&&r.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(X.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(X.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,r){var l=this.getZoomScale(e),c=this.getSize().divideBy(2),p=t instanceof V?t:this.latLngToContainerPoint(t),y=p.subtract(c).multiplyBy(1-1/l),P=this.containerPointToLatLng(c.add(y));return this.setView(P,e,{zoom:r})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():Dt(t);var r=q(e.paddingTopLeft||e.padding||[0,0]),l=q(e.paddingBottomRight||e.padding||[0,0]),c=this.getBoundsZoom(t,!1,r.add(l));if(c=typeof e.maxZoom=="number"?Math.min(e.maxZoom,c):c,c===1/0)return{center:t.getCenter(),zoom:c};var p=l.subtract(r).divideBy(2),y=this.project(t.getSouthWest(),c),P=this.project(t.getNorthEast(),c),T=this.unproject(y.add(P).divideBy(2).add(p),c);return{center:T,zoom:c}},fitBounds:function(t,e){if(t=Dt(t),!t.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(t,e);return this.setView(r.center,r.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=q(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Za,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){J(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,r,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,r){if(r=r||{},r.animate===!1||!X.any3d)return this.setView(t,e,r);this._stop();var l=this.project(this.getCenter()),c=this.project(t),p=this.getSize(),y=this._zoom;t=dt(t),e=e===void 0?y:e;var P=Math.max(p.x,p.y),T=P*this.getZoomScale(y,e),E=c.distanceTo(l)||1,B=1.42,N=B*B;function D(pt){var fe=pt?-1:1,gi=pt?T:P,kt=T*T-P*P+fe*N*N*E*E,Nt=2*gi*N*E,Qe=kt/Nt,Ht=Math.sqrt(Qe*Qe+1)-Qe,Xi=Ht<1e-9?-18:Math.log(Ht);return Xi}function lt(pt){return(Math.exp(pt)-Math.exp(-pt))/2}function Et(pt){return(Math.exp(pt)+Math.exp(-pt))/2}function tt(pt){return lt(pt)/Et(pt)}var yt=D(0);function Be(pt){return P*(Et(yt)/Et(yt+B*pt))}function Je(pt){return P*(Et(yt)*tt(yt+B*pt)-lt(yt))/N}function Wt(pt){return 1-Math.pow(1-pt,1.5)}var Ke=Date.now(),Xt=(D(1)-yt)/B,je=r.duration?1e3*r.duration:1e3*Xt*.8;function $e(){var pt=(Date.now()-Ke)/je,fe=Wt(pt)*Xt;pt<=1?(this._flyToFrame=Gt($e,this),this._move(this.unproject(l.add(c.subtract(l).multiplyBy(Je(fe)/E)),y),this.getScaleZoom(P/Be(fe),y),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),$e.call(this),this},flyToBounds:function(t,e){var r=this._getBoundsCenterZoom(t,e);return this.flyTo(r.center,r.zoom,e)},setMaxBounds:function(t){return t=Dt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var r=this.getCenter(),l=this._limitCenter(r,this._zoom,Dt(t));return r.equals(l)||this.panTo(l,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var r=q(e.paddingTopLeft||e.padding||[0,0]),l=q(e.paddingBottomRight||e.padding||[0,0]),c=this.project(this.getCenter()),p=this.project(t),y=this.getPixelBounds(),P=Ut([y.min.add(r),y.max.subtract(l)]),T=P.getSize();if(!P.contains(p)){this._enforcingBounds=!0;var E=p.subtract(P.getCenter()),B=P.extend(p).getSize().subtract(T);c.x+=E.x<0?-B.x:B.x,c.y+=E.y<0?-B.y:B.y,this.panTo(this.unproject(c),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=ft({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),l=e.divideBy(2).round(),c=r.divideBy(2).round(),p=l.subtract(c);return!p.x&&!p.y?this:(t.animate&&t.pan?this.panBy(p):(t.pan&&this._rawPanBy(p),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Pt(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=ft({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=Pt(this._handleGeolocationResponse,this),r=Pt(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,r,t):navigator.geolocation.getCurrentPosition(e,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(!!this._container._leaflet_id){var e=t.code,r=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(t){if(!!this._container._leaflet_id){var e=t.coords.latitude,r=t.coords.longitude,l=new ct(e,r),c=l.toBounds(t.coords.accuracy*2),p=this._locateOptions;if(p.setView){var y=this.getBoundsZoom(c);this.setView(l,p.maxZoom?Math.min(y,p.maxZoom):y)}var P={latlng:l,bounds:c,timestamp:t.timestamp};for(var T in t.coords)typeof t.coords[T]=="number"&&(P[T]=t.coords[T]);this.fire("locationfound",P)}},addHandler:function(t,e){if(!e)return this;var r=this[t]=new e(this);return this._handlers.push(r),this.options[t]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(te(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Lt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var r="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),l=st("div",r,e||this._mapPane);return t&&(this._panes[t]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),r=this.unproject(t.getTopRight());return new Vt(e,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,r){t=Dt(t),r=q(r||[0,0]);var l=this.getZoom()||0,c=this.getMinZoom(),p=this.getMaxZoom(),y=t.getNorthWest(),P=t.getSouthEast(),T=this.getSize().subtract(r),E=Ut(this.project(P,l),this.project(y,l)).getSize(),B=X.any3d?this.options.zoomSnap:1,N=T.x/E.x,D=T.y/E.y,lt=e?Math.max(N,D):Math.min(N,D);return l=this.getScaleZoom(lt,l),B&&(l=Math.round(l/(B/100))*(B/100),l=e?Math.ceil(l/B)*B:Math.floor(l/B)*B),Math.max(c,Math.min(p,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var r=this._getTopLeftPoint(t,e);return new Tt(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var r=this.options.crs;return e=e===void 0?this._zoom:e,r.scale(t)/r.scale(e)},getScaleZoom:function(t,e){var r=this.options.crs;e=e===void 0?this._zoom:e;var l=r.zoom(t*r.scale(e));return isNaN(l)?1/0:l},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(dt(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(q(t),e)},layerPointToLatLng:function(t){var e=q(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(dt(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(dt(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Dt(t))},distance:function(t,e){return this.options.crs.distance(dt(t),dt(e))},containerPointToLayerPoint:function(t){return q(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return q(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(q(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(dt(t)))},mouseEventToContainerPoint:function(t){return Da(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=Ba(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");U(e,"scroll",this._onScroll,this),this._containerId=rt(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&X.any3d,J(t,"leaflet-container"+(X.touch?" leaflet-touch":"")+(X.retina?" leaflet-retina":"")+(X.ielt9?" leaflet-oldie":"")+(X.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=cn(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Bt(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(J(t.markerPane,"leaflet-zoom-hide"),J(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,r){Bt(this._mapPane,new V(0,0));var l=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var c=this._zoom!==e;this._moveStart(c,r)._move(t,e)._moveEnd(c),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,r,l){e===void 0&&(e=this._zoom);var c=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),l?r&&r.pinch&&this.fire("zoom",r):((c||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return te(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Bt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[rt(this._container)]=this;var e=t?_t:U;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),X.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){te(this._resizeRequest),this._resizeRequest=Gt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var r=[],l,c=e==="mouseout"||e==="mouseover",p=t.target||t.srcElement,y=!1;p;){if(l=this._targets[rt(p)],l&&(e==="click"||e==="preclick")&&this._draggableMoved(l)){y=!0;break}if(l&&l.listens(e,!0)&&(c&&!$s(p,t)||(r.push(l),c))||p===this._container)break;p=p.parentNode}return!r.length&&!y&&!c&&this.listens(e,!0)&&(r=[this]),r},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var r=t.type;r==="mousedown"&&Js(e),this._fireDOMEvent(t,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,r){if(t.type==="click"){var l=ft({},t);l.type="preclick",this._fireDOMEvent(l,l.type,r)}var c=this._findEventTargets(t,e);if(r){for(var p=[],y=0;y<r.length;y++)r[y].listens(e,!0)&&p.push(r[y]);c=p.concat(c)}if(!!c.length){e==="contextmenu"&&Rt(t);var P=c[0],T={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var E=P.getLatLng&&(!P._radius||P._radius<=10);T.containerPoint=E?this.latLngToContainerPoint(P.getLatLng()):this.mouseEventToContainerPoint(t),T.layerPoint=this.containerPointToLayerPoint(T.containerPoint),T.latlng=E?P.getLatLng():this.layerPointToLatLng(T.layerPoint)}for(y=0;y<c.length;y++)if(c[y].fire(e,T,!0),T.originalEvent._stopped||c[y].options.bubblingMouseEvents===!1&&Ds(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return pi(this._mapPane)||new V(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var r=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var r=this.getSize()._divideBy(2);return this.project(t,e)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,r){var l=this._getNewPixelOrigin(r,e);return this.project(t,e)._subtract(l)},_latLngBoundsToNewLayerBounds:function(t,e,r){var l=this._getNewPixelOrigin(r,e);return Ut([this.project(t.getSouthWest(),e)._subtract(l),this.project(t.getNorthWest(),e)._subtract(l),this.project(t.getSouthEast(),e)._subtract(l),this.project(t.getNorthEast(),e)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,r){if(!r)return t;var l=this.project(t,e),c=this.getSize().divideBy(2),p=new Tt(l.subtract(c),l.add(c)),y=this._getBoundsOffset(p,r,e);return y.round().equals([0,0])?t:this.unproject(l.add(y),e)},_limitOffset:function(t,e){if(!e)return t;var r=this.getPixelBounds(),l=new Tt(r.min.add(t),r.max.add(t));return t.add(this._getBoundsOffset(l,e))},_getBoundsOffset:function(t,e,r){var l=Ut(this.project(e.getNorthEast(),r),this.project(e.getSouthWest(),r)),c=l.min.subtract(t.min),p=l.max.subtract(t.max),y=this._rebound(c.x,-p.x),P=this._rebound(c.y,-p.y);return new V(y,P)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),r=this.getMaxZoom(),l=X.any3d?this.options.zoomSnap:1;return l&&(t=Math.round(t/l)*l),Math.max(e,Math.min(r,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){St(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var r=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,e),!0)},_createAnimProxy:function(){var t=this._proxy=st("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var r=Hs,l=this._proxy.style[r];_i(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),l===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();_i(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(e),c=this._getCenterOffset(t)._divideBy(1-1/l);return r.animate!==!0&&!this.getSize().contains(c)?!1:(Gt(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,r,l){!this._mapPane||(r&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,J(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(Pt(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&St(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function fu(t,e){return new ot(t,e)}var ae=Me.extend({options:{position:"topright"},initialize:function(t){xt(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),r=this.getPosition(),l=t._controlCorners[r];return J(e,"leaflet-control"),r.indexOf("bottom")!==-1?l.insertBefore(e,l.firstChild):l.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),yn=function(t){return new ae(t)};ot.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",r=this._controlContainer=st("div",e+"control-container",this._container);function l(c,p){var y=e+c+" "+e+p;t[c+p]=st("div",y,r)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Lt(this._controlCorners[t]);Lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ra=ae.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,r,l){return r<l?-1:l<r?1:0}},initialize:function(t,e,r){xt(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var l in t)this._addLayer(t[l],l);for(l in e)this._addLayer(e[l],l,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return ae.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(rt(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){J(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(J(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):St(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return St(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=st("div",t),r=this.options.collapsed;e.setAttribute("aria-haspopup",!0),gn(e),js(e);var l=this._section=st("section",t+"-list");r&&(this._map.on("click",this.collapse,this),U(e,{mouseenter:function(){U(l,"click",Rt),this.expand(),setTimeout(function(){_t(l,"click",Rt)})},mouseleave:this.collapse},this));var c=this._layersLink=st("a",t+"-toggle",e);c.href="#",c.title="Layers",c.setAttribute("role","button"),U(c,"click",Rt),U(c,"focus",this.expand,this),r||this.expand(),this._baseLayersList=st("div",t+"-base",l),this._separator=st("div",t+"-separator",l),this._overlaysList=st("div",t+"-overlays",l),e.appendChild(l)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&rt(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,r){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:r}),this.options.sortLayers&&this._layers.sort(Pt(function(l,c){return this.options.sortFunction(l.layer,c.layer,l.name,c.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fo(this._baseLayersList),fo(this._overlaysList),this._layerControlInputs=[];var t,e,r,l,c=0;for(r=0;r<this._layers.length;r++)l=this._layers[r],this._addItem(l),e=e||l.overlay,t=t||!l.overlay,c+=l.overlay?0:1;return this.options.hideSingleBase&&(t=t&&c>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(rt(t.target)),r=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;r&&this._map.fire(r,e)},_createRadioElement:function(t,e){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=r,l.firstChild},_addItem:function(t){var e=document.createElement("label"),r=this._map.hasLayer(t.layer),l;t.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=r):l=this._createRadioElement("leaflet-base-layers_"+rt(this),r),this._layerControlInputs.push(l),l.layerId=rt(t.layer),U(l,"click",this._onInputClick,this);var c=document.createElement("span");c.innerHTML=" "+t.name;var p=document.createElement("span");e.appendChild(p),p.appendChild(l),p.appendChild(c);var y=t.overlay?this._overlaysList:this._baseLayersList;return y.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){var t=this._layerControlInputs,e,r,l=[],c=[];this._handlingClick=!0;for(var p=t.length-1;p>=0;p--)e=t[p],r=this._getLayer(e.layerId).layer,e.checked?l.push(r):e.checked||c.push(r);for(p=0;p<c.length;p++)this._map.hasLayer(c[p])&&this._map.removeLayer(c[p]);for(p=0;p<l.length;p++)this._map.hasLayer(l[p])||this._map.addLayer(l[p]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,r,l=this._map.getZoom(),c=t.length-1;c>=0;c--)e=t[c],r=this._getLayer(e.layerId).layer,e.disabled=r.options.minZoom!==void 0&&l<r.options.minZoom||r.options.maxZoom!==void 0&&l>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),cu=function(t,e,r){return new Ra(t,e,r)},Qs=ae.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",r=st("div",e+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,e+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,e+"-out",r,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,r,l,c){var p=st("a",r,l);return p.innerHTML=t,p.href="#",p.title=e,p.setAttribute("role","button"),p.setAttribute("aria-label",e),gn(p),U(p,"click",mi),U(p,"click",c,this),U(p,"click",this._refocusOnMap,this),p},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";St(this._zoomInButton,e),St(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(J(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(J(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});ot.mergeOptions({zoomControl:!0});ot.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qs,this.addControl(this.zoomControl))});var du=function(t){return new Qs(t)},Xa=ae.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",r=st("div",e),l=this.options;return this._addScales(l,e+"-line",r),t.on(l.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),r},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,r){t.metric&&(this._mScale=st("div",e,r)),t.imperial&&(this._iScale=st("div",e,r))},_update:function(){var t=this._map,e=t.getSize().y/2,r=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(r)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),r=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,r,e/t)},_updateImperial:function(t){var e=t*3.2808399,r,l,c;e>5280?(r=e/5280,l=this._getRoundNum(r),this._updateScale(this._iScale,l+" mi",l/r)):(c=this._getRoundNum(e),this._updateScale(this._iScale,c+" ft",c/e))},_updateScale:function(t,e,r){t.style.width=Math.round(this.options.maxWidth*r)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),r=t/e;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,e*r}}),_u=function(t){return new Xa(t)},pu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',tr=ae.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(X.inlineSvg?pu+" ":"")+"Leaflet</a>"},initialize:function(t){xt(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=st("div","leaflet-control-attribution"),gn(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(!!this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var r=[];this.options.prefix&&r.push(this.options.prefix),t.length&&r.push(t.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});ot.mergeOptions({attributionControl:!0});ot.addInitHook(function(){this.options.attributionControl&&new tr().addTo(this)});var mu=function(t){return new tr(t)};ae.Layers=Ra;ae.Zoom=Qs;ae.Scale=Xa;ae.Attribution=tr;yn.layers=cu;yn.zoom=du;yn.scale=_u;yn.attribution=mu;var xe=Me.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xe.addTo=function(t,e){return t.addHandler(e,this),this};var vu={Events:Kt},jr=X.touch?"touchstart mousedown":"mousedown",He=pn.extend({options:{clickTolerance:3},initialize:function(t,e,r,l){xt(this,l),this._element=t,this._dragStartTarget=e||t,this._preventOutline=r},enable:function(){this._enabled||(U(this._dragStartTarget,jr,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(He._dragging===this&&this.finishDrag(!0),_t(this._dragStartTarget,jr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!!this._enabled&&(this._moved=!1,!qs(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){He._dragging===this&&this.finishDrag();return}if(!(He._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(He._dragging=this,this._preventOutline&&Js(this._element),Gs(),dn(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,r=Na(this._element);this._startPoint=new V(e.clientX,e.clientY),this._startPos=pi(this._element),this._parentScale=Ks(r);var l=t.type==="mousedown";U(document,l?"mousemove":"touchmove",this._onMove,this),U(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(!!this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,r=new V(e.clientX,e.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,Rt(t),this._moved||(this.fire("dragstart"),this._moved=!0,J(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),J(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Bt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(t){St(document.body,"leaflet-dragging"),this._lastTarget&&(St(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_t(document,"mousemove touchmove",this._onMove,this),_t(document,"mouseup touchend touchcancel",this._onUp,this),Vs(),_n(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,He._dragging=!1}});function Ya(t,e){if(!e||!t.length)return t.slice();var r=e*e;return t=Pu(t,r),t=yu(t,r),t}function Fa(t,e,r){return Math.sqrt(Pn(t,e,r,!0))}function gu(t,e,r){return Pn(t,e,r)}function yu(t,e){var r=t.length,l=typeof Uint8Array!=void 0+""?Uint8Array:Array,c=new l(r);c[0]=c[r-1]=1,Ss(t,c,e,0,r-1);var p,y=[];for(p=0;p<r;p++)c[p]&&y.push(t[p]);return y}function Ss(t,e,r,l,c){var p=0,y,P,T;for(P=l+1;P<=c-1;P++)T=Pn(t[P],t[l],t[c],!0),T>p&&(y=P,p=T);p>r&&(e[y]=1,Ss(t,e,r,l,y),Ss(t,e,r,y,c))}function Pu(t,e){for(var r=[t[0]],l=1,c=0,p=t.length;l<p;l++)xu(t[l],t[c])>e&&(r.push(t[l]),c=l);return c<p-1&&r.push(t[p-1]),r}var $r;function Wa(t,e,r,l,c){var p=l?$r:fi(t,r),y=fi(e,r),P,T,E;for($r=y;;){if(!(p|y))return[t,e];if(p&y)return!1;P=p||y,T=_o(t,e,P,r,c),E=fi(T,r),P===p?(t=T,p=E):(e=T,y=E)}}function _o(t,e,r,l,c){var p=e.x-t.x,y=e.y-t.y,P=l.min,T=l.max,E,B;return r&8?(E=t.x+p*(T.y-t.y)/y,B=T.y):r&4?(E=t.x+p*(P.y-t.y)/y,B=P.y):r&2?(E=T.x,B=t.y+y*(T.x-t.x)/p):r&1&&(E=P.x,B=t.y+y*(P.x-t.x)/p),new V(E,B,c)}function fi(t,e){var r=0;return t.x<e.min.x?r|=1:t.x>e.max.x&&(r|=2),t.y<e.min.y?r|=4:t.y>e.max.y&&(r|=8),r}function xu(t,e){var r=e.x-t.x,l=e.y-t.y;return r*r+l*l}function Pn(t,e,r,l){var c=e.x,p=e.y,y=r.x-c,P=r.y-p,T=y*y+P*P,E;return T>0&&(E=((t.x-c)*y+(t.y-p)*P)/T,E>1?(c=r.x,p=r.y):E>0&&(c+=y*E,p+=P*E)),y=t.x-c,P=t.y-p,l?y*y+P*P:new V(c,p)}function ee(t){return!le(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Ha(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ee(t)}function qa(t,e){var r,l,c,p,y,P,T,E;if(!t||t.length===0)throw new Error("latlngs not passed");ee(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var B=[];for(var N in t)B.push(e.project(dt(t[N])));var D=B.length;for(r=0,l=0;r<D-1;r++)l+=B[r].distanceTo(B[r+1])/2;if(l===0)E=B[0];else for(r=0,p=0;r<D-1;r++)if(y=B[r],P=B[r+1],c=y.distanceTo(P),p+=c,p>l){T=(p-l)/c,E=[P.x-T*(P.x-y.x),P.y-T*(P.y-y.y)];break}return e.unproject(q(E))}var wu={__proto__:null,simplify:Ya,pointToSegmentDistance:Fa,closestPointOnSegment:gu,clipSegment:Wa,_getEdgeIntersection:_o,_getBitCode:fi,_sqClosestPointOnSegment:Pn,isFlat:ee,_flat:Ha,polylineCenter:qa};function Ua(t,e,r){var l,c=[1,4,2,8],p,y,P,T,E,B,N,D;for(p=0,B=t.length;p<B;p++)t[p]._code=fi(t[p],e);for(P=0;P<4;P++){for(N=c[P],l=[],p=0,B=t.length,y=B-1;p<B;y=p++)T=t[p],E=t[y],T._code&N?E._code&N||(D=_o(E,T,N,e,r),D._code=fi(D,e),l.push(D)):(E._code&N&&(D=_o(E,T,N,e,r),D._code=fi(D,e),l.push(D)),l.push(T));t=l}return t}function Ga(t,e){var r,l,c,p,y,P,T,E,B;if(!t||t.length===0)throw new Error("latlngs not passed");ee(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var N=[];for(var D in t)N.push(e.project(dt(t[D])));var lt=N.length;for(P=T=E=0,r=0,l=lt-1;r<lt;l=r++)c=N[r],p=N[l],y=c.y*p.x-p.y*c.x,T+=(c.x+p.x)*y,E+=(c.y+p.y)*y,P+=y*3;return P===0?B=N[0]:B=[T/P,E/P],e.unproject(q(B))}var Lu={__proto__:null,clipPolygon:Ua,polygonCenter:Ga},er={project:function(t){return new V(t.lng,t.lat)},unproject:function(t){return new ct(t.y,t.x)},bounds:new Tt([-180,-90],[180,90])},Es={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Tt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,r=this.R,l=t.lat*e,c=this.R_MINOR/r,p=Math.sqrt(1-c*c),y=p*Math.sin(l),P=Math.tan(Math.PI/4-l/2)/Math.pow((1-y)/(1+y),p/2);return l=-r*Math.log(Math.max(P,1e-10)),new V(t.lng*e*r,l)},unproject:function(t){for(var e=180/Math.PI,r=this.R,l=this.R_MINOR/r,c=Math.sqrt(1-l*l),p=Math.exp(-t.y/r),y=Math.PI/2-2*Math.atan(p),P=0,T=.1,E;P<15&&Math.abs(T)>1e-7;P++)E=c*Math.sin(y),E=Math.pow((1-E)/(1+E),c/2),T=Math.PI/2-2*Math.atan(p*E)-y,y+=T;return new ct(y*e,t.x*e/r)}},Tu={__proto__:null,LonLat:er,Mercator:Es,SphericalMercator:ws},Cu=ft({},Ue,{code:"EPSG:3395",projection:Es,transformation:function(){var t=.5/(Math.PI*Es.R);return mn(t,.5,-t,.5)}()}),Va=ft({},Ue,{code:"EPSG:4326",projection:er,transformation:mn(1/180,1,-1/180,.5)}),Iu=ft({},Oe,{projection:er,transformation:mn(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var r=e.lng-t.lng,l=e.lat-t.lat;return Math.sqrt(r*r+l*l)},infinite:!0});Oe.Earth=Ue;Oe.EPSG3395=Cu;Oe.EPSG3857=Zs;Oe.EPSG900913=Al;Oe.EPSG4326=Va;Oe.Simple=Iu;var ue=pn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[rt(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[rt(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(!!e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var r=this.getEvents();e.on(r,this),this.once("remove",function(){e.off(r,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});ot.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=rt(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=rt(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return rt(t)in this._layers},eachLayer:function(t,e){for(var r in this._layers)t.call(e,this._layers[r]);return this},_addLayers:function(t){t=t?le(t)?t:[t]:[];for(var e=0,r=t.length;e<r;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[rt(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=rt(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,r=this._getZoomSpan();for(var l in this._zoomBoundLayers){var c=this._zoomBoundLayers[l].options;t=c.minZoom===void 0?t:Math.min(t,c.minZoom),e=c.maxZoom===void 0?e:Math.max(e,c.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Mi=ue.extend({initialize:function(t,e){xt(this,e),this._layers={};var r,l;if(t)for(r=0,l=t.length;r<l;r++)this.addLayer(t[r])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),r,l;for(r in this._layers)l=this._layers[r],l[t]&&l[t].apply(l,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var r in this._layers)t.call(e,this._layers[r]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return rt(t)}}),bu=function(t,e){return new Mi(t,e)},ci=Mi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Mi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Mi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Vt;for(var e in this._layers){var r=this._layers[e];t.extend(r.getBounds?r.getBounds():r.getLatLng())}return t}}),Su=function(t,e){return new ci(t,e)},Ni=Me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){xt(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var r=this._getIconUrl(t);if(!r){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(r,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(l,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(t,e){var r=this.options,l=r[e+"Size"];typeof l=="number"&&(l=[l,l]);var c=q(l),p=q(e==="shadow"&&r.shadowAnchor||r.iconAnchor||c&&c.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(r.className||""),p&&(t.style.marginLeft=-p.x+"px",t.style.marginTop=-p.y+"px"),c&&(t.style.width=c.x+"px",t.style.height=c.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return X.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Eu(t){return new Ni(t)}var hn=Ni.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof hn.imagePath!="string"&&(hn.imagePath=this._detectIconPath()),(this.options.imagePath||hn.imagePath)+Ni.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(r,l,c){var p=l.exec(r);return p&&p[c]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=st("div","leaflet-default-icon-path",document.body),e=cn(t,"background-image")||cn(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),Qr=xe.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new He(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),J(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&St(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,r=e._map,l=this._marker.options.autoPanSpeed,c=this._marker.options.autoPanPadding,p=pi(e._icon),y=r.getPixelBounds(),P=r.getPixelOrigin(),T=Ut(y.min._subtract(P).add(c),y.max._subtract(P).subtract(c));if(!T.contains(p)){var E=q((Math.max(T.max.x,p.x)-T.max.x)/(y.max.x-T.max.x)-(Math.min(T.min.x,p.x)-T.min.x)/(y.min.x-T.min.x),(Math.max(T.max.y,p.y)-T.max.y)/(y.max.y-T.max.y)-(Math.min(T.min.y,p.y)-T.min.y)/(y.min.y-T.min.y)).multiplyBy(l);r.panBy(E,{animate:!1}),this._draggable._newPos._add(E),this._draggable._startPos._add(E),Bt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Gt(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(te(this._panRequest),this._panRequest=Gt(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,r=e._shadow,l=pi(e._icon),c=e._map.layerPointToLatLng(l);r&&Bt(r,l),e._latlng=c,t.latlng=c,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){te(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Lo=ue.extend({options:{icon:new hn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){xt(this,e),this._latlng=dt(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=dt(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=t.icon.createIcon(this._icon),l=!1;r!==this._icon&&(this._icon&&this._removeIcon(),l=!0,t.title&&(r.title=t.title),r.tagName==="IMG"&&(r.alt=t.alt||"")),J(r,e),t.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&U(r,"focus",this._panOnFocus,this);var c=t.icon.createShadow(this._shadow),p=!1;c!==this._shadow&&(this._removeShadow(),p=!0),c&&(J(c,e),c.alt=""),this._shadow=c,t.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),c&&p&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_t(this._icon,"focus",this._panOnFocus,this),Lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Lt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Bt(this._icon,t),this._shadow&&Bt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(!!this.options.interactive&&(J(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Qr)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Qr(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Qt(this._icon,t),this._shadow&&Qt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(!!t){var e=this.options.icon.options,r=e.iconSize?q(e.iconSize):q(0,0),l=e.iconAnchor?q(e.iconAnchor):q(0,0);t.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:r.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Mu(t,e){return new Lo(t,e)}var Ge=ue.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return xt(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),To=Ge.extend({options:{fill:!0,radius:10},initialize:function(t,e){xt(this,e),this._latlng=dt(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=dt(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Ge.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,r=this._clickTolerance(),l=[t+r,e+r];this._pxBounds=new Tt(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ou(t,e){return new To(t,e)}var nr=To.extend({initialize:function(t,e,r){if(typeof e=="number"&&(e=ft({},r,{radius:e})),xt(this,e),this._latlng=dt(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Vt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Ge.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,r=this._map,l=r.options.crs;if(l.distance===Ue.distance){var c=Math.PI/180,p=this._mRadius/Ue.R/c,y=r.project([e+p,t]),P=r.project([e-p,t]),T=y.add(P).divideBy(2),E=r.unproject(T).lat,B=Math.acos((Math.cos(p*c)-Math.sin(e*c)*Math.sin(E*c))/(Math.cos(e*c)*Math.cos(E*c)))/c;(isNaN(B)||B===0)&&(B=p/Math.cos(Math.PI/180*e)),this._point=T.subtract(r.getPixelOrigin()),this._radius=isNaN(B)?0:T.x-r.project([E,t-B]).x,this._radiusY=T.y-y.y}else{var N=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(N).x}this._updateBounds()}});function Au(t,e,r){return new nr(t,e,r)}var Ee=Ge.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){xt(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,r=null,l=Pn,c,p,y=0,P=this._parts.length;y<P;y++)for(var T=this._parts[y],E=1,B=T.length;E<B;E++){c=T[E-1],p=T[E];var N=l(t,c,p,!0);N<e&&(e=N,r=l(t,c,p))}return r&&(r.distance=Math.sqrt(e)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return qa(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=dt(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Vt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return ee(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],r=ee(t),l=0,c=t.length;l<c;l++)r?(e[l]=dt(t[l]),this._bounds.extend(e[l])):e[l]=this._convertLatLngs(t[l]);return e},_project:function(){var t=new Tt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new V(t,t);!this._rawPxBounds||(this._pxBounds=new Tt([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,r){var l=t[0]instanceof ct,c=t.length,p,y;if(l){for(y=[],p=0;p<c;p++)y[p]=this._map.latLngToLayerPoint(t[p]),r.extend(y[p]);e.push(y)}else for(p=0;p<c;p++)this._projectLatlngs(t[p],e,r)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,r,l,c,p,y,P,T;for(r=0,c=0,p=this._rings.length;r<p;r++)for(T=this._rings[r],l=0,y=T.length;l<y-1;l++)P=Wa(T[l],T[l+1],t,l,!0),P&&(e[c]=e[c]||[],e[c].push(P[0]),(P[1]!==T[l+1]||l===y-2)&&(e[c].push(P[1]),c++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,r=0,l=t.length;r<l;r++)t[r]=Ya(t[r],e)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var r,l,c,p,y,P,T=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,p=this._parts.length;r<p;r++)for(P=this._parts[r],l=0,y=P.length,c=y-1;l<y;c=l++)if(!(!e&&l===0)&&Fa(t,P[c],P[l])<=T)return!0;return!1}});function Bu(t,e){return new Ee(t,e)}Ee._flat=Ha;var ki=Ee.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ga(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Ee.prototype._convertLatLngs.call(this,t),r=e.length;return r>=2&&e[0]instanceof ct&&e[0].equals(e[r-1])&&e.pop(),e},_setLatLngs:function(t){Ee.prototype._setLatLngs.call(this,t),ee(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ee(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,r=new V(e,e);if(t=new Tt(t.min.subtract(r),t.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,c=this._rings.length,p;l<c;l++)p=Ua(this._rings[l],t,!0),p.length&&this._parts.push(p)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,r,l,c,p,y,P,T,E;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(p=0,T=this._parts.length;p<T;p++)for(r=this._parts[p],y=0,E=r.length,P=E-1;y<E;P=y++)l=r[y],c=r[P],l.y>t.y!=c.y>t.y&&t.x<(c.x-l.x)*(t.y-l.y)/(c.y-l.y)+l.x&&(e=!e);return e||Ee.prototype._containsPoint.call(this,t,!0)}});function Nu(t,e){return new ki(t,e)}var Ae=ci.extend({initialize:function(t,e){xt(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=le(t)?t:t.features,r,l,c;if(e){for(r=0,l=e.length;r<l;r++)c=e[r],(c.geometries||c.geometry||c.features||c.coordinates)&&this.addData(c);return this}var p=this.options;if(p.filter&&!p.filter(t))return this;var y=po(t,p);return y?(y.feature=Io(t),y.defaultOptions=y.options,this.resetStyle(y),p.onEachFeature&&p.onEachFeature(t,y),this.addLayer(y)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=ft({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function po(t,e){var r=t.type==="Feature"?t.geometry:t,l=r?r.coordinates:null,c=[],p=e&&e.pointToLayer,y=e&&e.coordsToLatLng||or,P,T,E,B;if(!l&&!r)return null;switch(r.type){case"Point":return P=y(l),ta(p,t,P,e);case"MultiPoint":for(E=0,B=l.length;E<B;E++)P=y(l[E]),c.push(ta(p,t,P,e));return new ci(c);case"LineString":case"MultiLineString":return T=mo(l,r.type==="LineString"?0:1,y),new Ee(T,e);case"Polygon":case"MultiPolygon":return T=mo(l,r.type==="Polygon"?1:2,y),new ki(T,e);case"GeometryCollection":for(E=0,B=r.geometries.length;E<B;E++){var N=po({geometry:r.geometries[E],type:"Feature",properties:t.properties},e);N&&c.push(N)}return new ci(c);case"FeatureCollection":for(E=0,B=r.features.length;E<B;E++){var D=po(r.features[E],e);D&&c.push(D)}return new ci(c);default:throw new Error("Invalid GeoJSON object.")}}function ta(t,e,r,l){return t?t(e,r):new Lo(r,l&&l.markersInheritOptions&&l)}function or(t){return new ct(t[1],t[0],t[2])}function mo(t,e,r){for(var l=[],c=0,p=t.length,y;c<p;c++)y=e?mo(t[c],e-1,r):(r||or)(t[c]),l.push(y);return l}function sr(t,e){return t=dt(t),t.alt!==void 0?[pe(t.lng,e),pe(t.lat,e),pe(t.alt,e)]:[pe(t.lng,e),pe(t.lat,e)]}function Co(t,e,r,l){for(var c=[],p=0,y=t.length;p<y;p++)c.push(e?Co(t[p],ee(t[p])?0:e-1,r,l):sr(t[p],l));return!e&&r&&c.push(c[0]),c}function Di(t,e){return t.feature?ft({},t.feature,{geometry:e}):Io(e)}function Io(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var rr={toGeoJSON:function(t){return Di(this,{type:"Point",coordinates:sr(this.getLatLng(),t)})}};Lo.include(rr);nr.include(rr);To.include(rr);Ee.include({toGeoJSON:function(t){var e=!ee(this._latlngs),r=Co(this._latlngs,e?1:0,!1,t);return Di(this,{type:(e?"Multi":"")+"LineString",coordinates:r})}});ki.include({toGeoJSON:function(t){var e=!ee(this._latlngs),r=e&&!ee(this._latlngs[0]),l=Co(this._latlngs,r?2:e?1:0,!0,t);return e||(l=[l]),Di(this,{type:(r?"Multi":"")+"Polygon",coordinates:l})}});Mi.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(r){e.push(r.toGeoJSON(t).geometry.coordinates)}),Di(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var r=e==="GeometryCollection",l=[];return this.eachLayer(function(c){if(c.toGeoJSON){var p=c.toGeoJSON(t);if(r)l.push(p.geometry);else{var y=Io(p);y.type==="FeatureCollection"?l.push.apply(l,y.features):l.push(y)}}}),r?Di(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function Ja(t,e){return new Ae(t,e)}var ku=Ja,bo=ue.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,r){this._url=t,this._bounds=Dt(e),xt(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(J(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Zi(this._image),this},bringToBack:function(){return this._map&&Ri(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Dt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:st("img");if(J(e,"leaflet-image-layer"),this._zoomAnimated&&J(e,"leaflet-zoom-animated"),this.options.className&&J(e,this.options.className),e.onselectstart=At,e.onmousemove=At,e.onload=Pt(this.fire,this,"load"),e.onerror=Pt(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;_i(this._image,r,e)},_reset:function(){var t=this._image,e=new Tt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=e.getSize();Bt(t,e.min),t.style.width=r.x+"px",t.style.height=r.y+"px"},_updateOpacity:function(){Qt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Du=function(t,e,r){return new bo(t,e,r)},Ka=bo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:st("video");if(J(e,"leaflet-image-layer"),this._zoomAnimated&&J(e,"leaflet-zoom-animated"),this.options.className&&J(e,this.options.className),e.onselectstart=At,e.onmousemove=At,e.onloadeddata=Pt(this.fire,this,"load"),t){for(var r=e.getElementsByTagName("source"),l=[],c=0;c<r.length;c++)l.push(r[c].src);this._url=r.length>0?l:[e.src];return}le(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var p=0;p<this._url.length;p++){var y=st("source");y.src=this._url[p],e.appendChild(y)}}});function zu(t,e,r){return new Ka(t,e,r)}var ja=bo.extend({_initImage:function(){var t=this._image=this._url;J(t,"leaflet-image-layer"),this._zoomAnimated&&J(t,"leaflet-zoom-animated"),this.options.className&&J(t,this.options.className),t.onselectstart=At,t.onmousemove=At}});function Zu(t,e,r){return new ja(t,e,r)}var ve=ue.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof L.LatLng||le(t))?(this._latlng=dt(t),xt(this,e)):(xt(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Qt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Qt(this._container,1),this.bringToFront(),this.options.interactive&&(J(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Qt(this._container,0),this._removeTimeout=setTimeout(Pt(Lt,void 0,this._container),200)):Lt(this._container),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=dt(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zi(this._container),this},bringToBack:function(){return this._map&&Ri(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof ci){e=null;var r=this._source._layers;for(var l in r)if(r[l]._map){e=r[l];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=q(this.options.offset),r=this._getAnchor();this._zoomAnimated?Bt(this._container,t.add(r)):e=e.add(t).add(r);var l=this._containerBottom=-e.y,c=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=l+"px",this._container.style.left=c+"px"}},_getAnchor:function(){return[0,0]}});ot.include({_initOverlay:function(t,e,r,l){var c=e;return c instanceof t||(c=new t(l).setContent(e)),r&&c.setLatLng(r),c}});ue.include({_initOverlay:function(t,e,r,l){var c=r;return c instanceof t?(xt(c,l),c._source=this):(c=e&&!l?e:new t(l,this),c.setContent(r)),c}});var So=ve.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,ve.prototype.openOn.call(this,t)},onAdd:function(t){ve.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ge||this._source.on("preclick",ui))},onRemove:function(t){ve.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ge||this._source.off("preclick",ui))},getEvents:function(){var t=ve.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=st("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=st("div",t+"-content-wrapper",e);if(this._contentNode=st("div",t+"-content",r),gn(e),js(this._contentNode),U(e,"contextmenu",ui),this._tipContainer=st("div",t+"-tip-container",e),this._tip=st("div",t+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=st("a",t+"-close-button",e);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',U(l,"click",function(c){Rt(c),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var r=t.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),e.width=r+1+"px",e.whiteSpace="",e.height="";var l=t.offsetHeight,c=this.options.maxHeight,p="leaflet-popup-scrolled";c&&l>c?(e.height=c+"px",J(t,p)):St(t,p),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),r=this._getAnchor();Bt(this._container,e.add(r))},_adjustPan:function(t){if(!!this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var e=this._map,r=parseInt(cn(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+r,c=this._containerWidth,p=new V(this._containerLeft,-l-this._containerBottom);p._add(pi(this._container));var y=e.layerPointToContainerPoint(p),P=q(this.options.autoPanPadding),T=q(this.options.autoPanPaddingTopLeft||P),E=q(this.options.autoPanPaddingBottomRight||P),B=e.getSize(),N=0,D=0;y.x+c+E.x>B.x&&(N=y.x+c-B.x+E.x),y.x-N-T.x<0&&(N=y.x-T.x),y.y+l+E.y>B.y&&(D=y.y+l-B.y+E.y),y.y-D-T.y<0&&(D=y.y-T.y),(N||D)&&e.fire("autopanstart").panBy([N,D],{animate:t&&t.type==="moveend"})}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ru=function(t,e){return new So(t,e)};ot.mergeOptions({closePopupOnClick:!0});ot.include({openPopup:function(t,e,r){return this._initOverlay(So,t,e,r).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}});ue.include({bindPopup:function(t,e){return this._popup=this._initOverlay(So,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&this._popup._prepareOpen(t)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){mi(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof Ge)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Eo=ve.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){ve.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){ve.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=ve.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=st("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+rt(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,r,l=this._map,c=this._container,p=l.latLngToContainerPoint(l.getCenter()),y=l.layerPointToContainerPoint(t),P=this.options.direction,T=c.offsetWidth,E=c.offsetHeight,B=q(this.options.offset),N=this._getAnchor();P==="top"?(e=T/2,r=E):P==="bottom"?(e=T/2,r=0):P==="center"?(e=T/2,r=E/2):P==="right"?(e=0,r=E/2):P==="left"?(e=T,r=E/2):y.x<p.x?(P="right",e=0,r=E/2):(P="left",e=T+(B.x+N.x)*2,r=E/2),t=t.subtract(q(e,r,!0)).add(B).add(N),St(c,"leaflet-tooltip-right"),St(c,"leaflet-tooltip-left"),St(c,"leaflet-tooltip-top"),St(c,"leaflet-tooltip-bottom"),J(c,"leaflet-tooltip-"+P),Bt(c,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Qt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Xu=function(t,e){return new Eo(t,e)};ot.include({openTooltip:function(t,e,r){return this._initOverlay(Eo,t,e,r).openOn(this),this},closeTooltip:function(t){return t.close(),this}});ue.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Eo,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[e](r),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this)),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){U(t.getElement(),"focus",function(){this._tooltip._source=t,this.openTooltip()},this),U(t.getElement(),"blur",this.closeTooltip,this)},_setAriaDescribedByOnLayer:function(t){t.getElement().setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var e=t.latlng,r,l;this._tooltip.options.sticky&&t.originalEvent&&(r=this._map.mouseEventToContainerPoint(t.originalEvent),l=this._map.containerPointToLayerPoint(r),e=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(e)}});var $a=Ni.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),r=this.options;if(r.html instanceof Element?(fo(e),e.appendChild(r.html)):e.innerHTML=r.html!==!1?r.html:"",r.bgPos){var l=q(r.bgPos);e.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Yu(t){return new $a(t)}Ni.Default=hn;var ln=ue.extend({options:{tileSize:256,opacity:1,updateWhenIdle:X.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){xt(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Lt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ri(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=la(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof V?t:new V(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,r=-t(-1/0,1/0),l=0,c=e.length,p;l<c;l++)p=e[l].style.zIndex,e[l]!==this._container&&p&&(r=t(r,+p));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!X.ielt9){Qt(this._container,this.options.opacity);var t=+new Date,e=!1,r=!1;for(var l in this._tiles){var c=this._tiles[l];if(!(!c.current||!c.loaded)){var p=Math.min(1,(t-c.loaded)/200);Qt(c.el,p),p<1?e=!0:(c.active?r=!0:this._onOpaqueTile(c),c.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),e&&(te(this._fadeFrame),this._fadeFrame=Gt(this._updateOpacity,this))}},_onOpaqueTile:At,_initContainer:function(){this._container||(this._container=st("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===t?(this._levels[r].el.style.zIndex=e-Math.abs(t-r),this._onUpdateLevel(r)):(Lt(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var l=this._levels[t],c=this._map;return l||(l=this._levels[t]={},l.el=st("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=e,l.origin=c.project(c.unproject(c.getPixelOrigin()),t).round(),l.zoom=t,this._setZoomTransform(l,c.getCenter(),c.getZoom()),At(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:At,_onRemoveLevel:At,_onCreateLevel:At,_pruneTiles:function(){if(!!this._map){var t,e,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var l=e.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Lt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,r,l){var c=Math.floor(t/2),p=Math.floor(e/2),y=r-1,P=new V(+c,+p);P.z=+y;var T=this._tileCoordsToKey(P),E=this._tiles[T];return E&&E.active?(E.retain=!0,!0):(E&&E.loaded&&(E.retain=!0),y>l?this._retainParent(c,p,y,l):!1)},_retainChildren:function(t,e,r,l){for(var c=2*t;c<2*t+2;c++)for(var p=2*e;p<2*e+2;p++){var y=new V(c,p);y.z=r+1;var P=this._tileCoordsToKey(y),T=this._tiles[P];if(T&&T.active){T.retain=!0;continue}else T&&T.loaded&&(T.retain=!0);r+1<l&&this._retainChildren(c,p,r+1,l)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,r,l){var c=Math.round(e);this.options.maxZoom!==void 0&&c>this.options.maxZoom||this.options.minZoom!==void 0&&c<this.options.minZoom?c=void 0:c=this._clampZoom(c);var p=this.options.updateWhenZooming&&c!==this._tileZoom;(!l||p)&&(this._tileZoom=c,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),c!==void 0&&this._update(t),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var r in this._levels)this._setZoomTransform(this._levels[r],t,e)},_setZoomTransform:function(t,e,r){var l=this._map.getZoomScale(r,t.zoom),c=t.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(e,r)).round();X.any3d?_i(t.el,c,l):Bt(t.el,c)},_resetGrid:function(){var t=this._map,e=t.options.crs,r=this._tileSize=this.getTileSize(),l=this._tileZoom,c=this._map.getPixelWorldBounds(this._tileZoom);c&&(this._globalTileRange=this._pxBoundsToTileRange(c)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],l).x/r.x),Math.ceil(t.project([0,e.wrapLng[1]],l).x/r.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],l).y/r.x),Math.ceil(t.project([e.wrapLat[1],0],l).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,r=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),l=e.getZoomScale(r,this._tileZoom),c=e.project(t,this._tileZoom).floor(),p=e.getSize().divideBy(l*2);return new Tt(c.subtract(p),c.add(p))},_update:function(t){var e=this._map;if(!!e){var r=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(t),c=this._pxBoundsToTileRange(l),p=c.getCenter(),y=[],P=this.options.keepBuffer,T=new Tt(c.getBottomLeft().subtract([P,-P]),c.getTopRight().add([P,-P]));if(!(isFinite(c.min.x)&&isFinite(c.min.y)&&isFinite(c.max.x)&&isFinite(c.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var E in this._tiles){var B=this._tiles[E].coords;(B.z!==this._tileZoom||!T.contains(new V(B.x,B.y)))&&(this._tiles[E].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(t,r);return}for(var N=c.min.y;N<=c.max.y;N++)for(var D=c.min.x;D<=c.max.x;D++){var lt=new V(D,N);if(lt.z=this._tileZoom,!!this._isValidTile(lt)){var Et=this._tiles[this._tileCoordsToKey(lt)];Et?Et.current=!0:y.push(lt)}}if(y.sort(function(yt,Be){return yt.distanceTo(p)-Be.distanceTo(p)}),y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var tt=document.createDocumentFragment();for(D=0;D<y.length;D++)this._addTile(y[D],tt);this._level.el.appendChild(tt)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var r=this._globalTileRange;if(!e.wrapLng&&(t.x<r.min.x||t.x>r.max.x)||!e.wrapLat&&(t.y<r.min.y||t.y>r.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(t);return Dt(this.options.bounds).overlaps(l)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,r=this.getTileSize(),l=t.scaleBy(r),c=l.add(r),p=e.unproject(l,t.z),y=e.unproject(c,t.z);return[p,y]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),r=new Vt(e[0],e[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),r=new V(+e[0],+e[1]);return r.z=+e[2],r},_removeTile:function(t){var e=this._tiles[t];!e||(Lt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){J(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=At,t.onmousemove=At,X.ielt9&&this.options.opacity<1&&Qt(t,this.options.opacity)},_addTile:function(t,e){var r=this._getTilePos(t),l=this._tileCoordsToKey(t),c=this.createTile(this._wrapCoords(t),Pt(this._tileReady,this,t));this._initTile(c),this.createTile.length<2&&Gt(Pt(this._tileReady,this,t,null,c)),Bt(c,r),this._tiles[l]={el:c,coords:t,current:!0},e.appendChild(c),this.fire("tileloadstart",{tile:c,coords:t})},_tileReady:function(t,e,r){e&&this.fire("tileerror",{error:e,tile:r,coords:t});var l=this._tileCoordsToKey(t);r=this._tiles[l],r&&(r.loaded=+new Date,this._map._fadeAnimated?(Qt(r.el,0),te(this._fadeFrame),this._fadeFrame=Gt(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),e||(J(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),X.ielt9||!this._map._fadeAnimated?Gt(this._pruneTiles,this):setTimeout(Pt(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new V(this._wrapX?fn(t.x,this._wrapX):t.x,this._wrapY?fn(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new Tt(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Fu(t){return new ln(t)}var Oi=ln.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=xt(this,e),e.detectRetina&&X.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var r=document.createElement("img");return U(r,"load",Pt(this._tileOnLoad,this,e,r)),U(r,"error",Pt(this._tileOnError,this,e,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(t),r},getTileUrl:function(t){var e={r:X.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=r),e["-y"]=r}return fa(this._url,ft(e,this.options))},_tileOnLoad:function(t,e){X.ielt9?setTimeout(Pt(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,r){var l=this.options.errorTileUrl;l&&e.getAttribute("src")!==l&&(e.src=l),t(r,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,r=this.options.zoomReverse,l=this.options.zoomOffset;return r&&(t=e-t),t+l},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=At,e.onerror=At,!e.complete)){e.src=ro;var r=this._tiles[t].coords;Lt(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:r})}},_removeTile:function(t){var e=this._tiles[t];if(!!e)return e.el.setAttribute("src",ro),ln.prototype._removeTile.call(this,t)},_tileReady:function(t,e,r){if(!(!this._map||r&&r.getAttribute("src")===ro))return ln.prototype._tileReady.call(this,t,e,r)}});function Qa(t,e){return new Oi(t,e)}var th=Oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var r=ft({},this.defaultWmsParams);for(var l in e)l in this.options||(r[l]=e[l]);e=xt(this,e);var c=e.detectRetina&&X.retina?2:1,p=this.getTileSize();r.width=p.x*c,r.height=p.y*c,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Oi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),r=this._crs,l=Ut(r.project(e[0]),r.project(e[1])),c=l.min,p=l.max,y=(this._wmsVersion>=1.3&&this._crs===Va?[c.y,c.x,p.y,p.x]:[c.x,c.y,p.x,p.y]).join(","),P=Oi.prototype.getTileUrl.call(this,t);return P+ua(this.wmsParams,P,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+y},setParams:function(t,e){return ft(this.wmsParams,t),e||this.redraw(),this}});function Wu(t,e){return new th(t,e)}Oi.WMS=th;Qa.wms=Wu;var Se=ue.extend({options:{padding:.1},initialize:function(t){xt(this,t),rt(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&J(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var r=this._map.getZoomScale(e,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),c=this._map.project(this._center,e),p=l.multiplyBy(-r).add(c).subtract(this._map._getNewPixelOrigin(t,e));X.any3d?_i(this._container,p,r):Bt(this._container,p)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),r=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new Tt(r,r.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),eh=Se.extend({options:{tolerance:0},getEvents:function(){var t=Se.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Se.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");U(t,"mousemove",this._onMouseMove,this),U(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),U(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){te(this._redrawRequest),delete this._ctx,Lt(this._container),_t(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Se.prototype._update.call(this);var t=this._bounds,e=this._container,r=t.getSize(),l=X.retina?2:1;Bt(e,t.min),e.width=l*r.x,e.height=l*r.y,e.style.width=r.x+"px",e.style.height=r.y+"px",X.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Se.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[rt(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,r=e.next,l=e.prev;r?r.prev=l:this._drawLast=l,l?l.next=r:this._drawFirst=r,delete t._order,delete this._layers[rt(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),r=[],l,c;for(c=0;c<e.length;c++){if(l=Number(e[c]),isNaN(l))return;r.push(l)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){!this._map||(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Gt(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Tt,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var r=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)t=l.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(!!this._drawing){var r,l,c,p,y=t._parts,P=y.length,T=this._ctx;if(!!P){for(T.beginPath(),r=0;r<P;r++){for(l=0,c=y[r].length;l<c;l++)p=y[r][l],T[l?"lineTo":"moveTo"](p.x,p.y);e&&T.closePath()}this._fillStroke(T,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,r=this._ctx,l=Math.max(Math.round(t._radius),1),c=(Math.max(Math.round(t._radiusY),1)||l)/l;c!==1&&(r.save(),r.scale(1,c)),r.beginPath(),r.arc(e.x,e.y/c,l,0,Math.PI*2,!1),c!==1&&r.restore(),this._fillStroke(r,t)}},_fillStroke:function(t,e){var r=e.options;r.fill&&(t.globalAlpha=r.fillOpacity,t.fillStyle=r.fillColor||r.color,t.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=r.opacity,t.lineWidth=r.weight,t.strokeStyle=r.color,t.lineCap=r.lineCap,t.lineJoin=r.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),r,l,c=this._drawFirst;c;c=c.next)r=c.layer,r.options.interactive&&r._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(r))&&(l=r);this._fireEvent(l?[l]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(St(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var r,l,c=this._drawFirst;c;c=c.next)r=c.layer,r.options.interactive&&r._containsPoint(e)&&(l=r);l!==this._hoveredLayer&&(this._handleMouseOut(t),l&&(J(this._container,"leaflet-interactive"),this._fireEvent([l],t,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(Pt(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,r){this._map._fireDOMEvent(e,r||e.type,t)},_bringToFront:function(t){var e=t._order;if(!!e){var r=e.next,l=e.prev;if(r)r.prev=l;else return;l?l.next=r:r&&(this._drawFirst=r),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(!!e){var r=e.next,l=e.prev;if(l)l.next=r;else return;r?r.prev=l:l&&(this._drawLast=l),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function ih(t){return X.canvas?new eh(t):null}var rn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Hu={_initContainer:function(){this._container=st("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Se.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=rn("shape");J(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=rn("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[rt(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;Lt(e),t.removeInteractiveTarget(e),delete this._layers[rt(t)]},_updateStyle:function(t){var e=t._stroke,r=t._fill,l=t.options,c=t._container;c.stroked=!!l.stroke,c.filled=!!l.fill,l.stroke?(e||(e=t._stroke=rn("stroke")),c.appendChild(e),e.weight=l.weight+"px",e.color=l.color,e.opacity=l.opacity,l.dashArray?e.dashStyle=le(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=l.lineCap.replace("butt","flat"),e.joinstyle=l.lineJoin):e&&(c.removeChild(e),t._stroke=null),l.fill?(r||(r=t._fill=rn("fill")),c.appendChild(r),r.color=l.fillColor||l.color,r.opacity=l.fillOpacity):r&&(c.removeChild(r),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),r=Math.round(t._radius),l=Math.round(t._radiusY||r);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+r+","+l+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){Zi(t._container)},_bringToBack:function(t){Ri(t._container)}},lo=X.vml?rn:_a,xn=Se.extend({_initContainer:function(){this._container=lo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=lo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Lt(this._container),_t(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Se.prototype._update.call(this);var t=this._bounds,e=t.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,r.setAttribute("width",e.x),r.setAttribute("height",e.y)),Bt(r,t.min),r.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=lo("path");t.options.className&&J(e,t.options.className),t.options.interactive&&J(e,"leaflet-interactive"),this._updateStyle(t),this._layers[rt(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Lt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[rt(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,r=t.options;!e||(r.stroke?(e.setAttribute("stroke",r.color),e.setAttribute("stroke-opacity",r.opacity),e.setAttribute("stroke-width",r.weight),e.setAttribute("stroke-linecap",r.lineCap),e.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?e.setAttribute("stroke-dasharray",r.dashArray):e.removeAttribute("stroke-dasharray"),r.dashOffset?e.setAttribute("stroke-dashoffset",r.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),r.fill?(e.setAttribute("fill",r.fillColor||r.color),e.setAttribute("fill-opacity",r.fillOpacity),e.setAttribute("fill-rule",r.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,pa(t._parts,e))},_updateCircle:function(t){var e=t._point,r=Math.max(Math.round(t._radius),1),l=Math.max(Math.round(t._radiusY),1)||r,c="a"+r+","+l+" 0 1,0 ",p=t._empty()?"M0 0":"M"+(e.x-r)+","+e.y+c+r*2+",0 "+c+-r*2+",0 ";this._setPath(t,p)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){Zi(t._path)},_bringToBack:function(t){Ri(t._path)}});X.vml&&xn.include(Hu);function nh(t){return X.svg||X.vml?new xn(t):null}ot.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&ih(t)||nh(t)}});var oh=ki.extend({initialize:function(t,e){ki.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=Dt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function qu(t,e){return new oh(t,e)}xn.create=lo;xn.pointsToPath=pa;Ae.geometryToLayer=po;Ae.coordsToLatLng=or;Ae.coordsToLatLngs=mo;Ae.latLngToCoords=sr;Ae.latLngsToCoords=Co;Ae.getFeature=Di;Ae.asFeature=Io;ot.mergeOptions({boxZoom:!0});var sh=xe.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){U(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_t(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),dn(),Gs(),this._startPoint=this._map.mouseEventToContainerPoint(t),U(document,{contextmenu:mi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=st("div","leaflet-zoom-box",this._container),J(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new Tt(this._point,this._startPoint),r=e.getSize();Bt(this._box,e.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(Lt(this._box),St(this._container,"leaflet-crosshair")),_n(),Vs(),_t(document,{contextmenu:mi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Pt(this._resetState,this),0);var e=new Vt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ot.addInitHook("addHandler","boxZoom",sh);ot.mergeOptions({doubleClickZoom:!0});var rh=xe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,r=e.getZoom(),l=e.options.zoomDelta,c=t.originalEvent.shiftKey?r-l:r+l;e.options.doubleClickZoom==="center"?e.setZoom(c):e.setZoomAround(t.containerPoint,c)}});ot.addInitHook("addHandler","doubleClickZoom",rh);ot.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ah=xe.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new He(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}J(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){St(this._map._container,"leaflet-grab"),St(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=Dt(this._map.options.maxBounds);this._offsetLimit=Ut(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),r=this._initialWorldOffset,l=this._draggable._newPos.x,c=(l-e+r)%t+e-r,p=(l+e+r)%t-e-r,y=Math.abs(c+r)<Math.abs(p+r)?c:p;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=y},_onDragEnd:function(t){var e=this._map,r=e.options,l=!r.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),l)e.fire("moveend");else{this._prunePositions(+new Date);var c=this._lastPos.subtract(this._positions[0]),p=(this._lastTime-this._times[0])/1e3,y=r.easeLinearity,P=c.multiplyBy(y/p),T=P.distanceTo([0,0]),E=Math.min(r.inertiaMaxSpeed,T),B=P.multiplyBy(E/T),N=E/(r.inertiaDeceleration*y),D=B.multiplyBy(-N/2).round();!D.x&&!D.y?e.fire("moveend"):(D=e._limitOffset(D,e.options.maxBounds),Gt(function(){e.panBy(D,{duration:N,easeLinearity:y,noMoveStart:!0,animate:!0})}))}}});ot.addInitHook("addHandler","dragging",ah);ot.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hh=xe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),U(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_t(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,r=t.scrollTop||e.scrollTop,l=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(l,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},r=this.keyCodes,l,c;for(l=0,c=r.left.length;l<c;l++)e[r.left[l]]=[-1*t,0];for(l=0,c=r.right.length;l<c;l++)e[r.right[l]]=[t,0];for(l=0,c=r.down.length;l<c;l++)e[r.down[l]]=[0,t];for(l=0,c=r.up.length;l<c;l++)e[r.up[l]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},r=this.keyCodes,l,c;for(l=0,c=r.zoomIn.length;l<c;l++)e[r.zoomIn[l]]=t;for(l=0,c=r.zoomOut.length;l<c;l++)e[r.zoomOut[l]]=-t},_addHooks:function(){U(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_t(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,r=this._map,l;if(e in this._panKeys)(!r._panAnim||!r._panAnim._inProgress)&&(l=this._panKeys[e],t.shiftKey&&(l=q(l).multiplyBy(3)),r.panBy(l),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(e in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;mi(t)}}});ot.addInitHook("addHandler","keyboard",hh);ot.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var lh=xe.extend({addHooks:function(){U(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_t(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=za(t),r=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var l=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Pt(this._performZoom,this),l),mi(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),r=this._map.options.zoomSnap||0;t._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),c=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,p=r?Math.ceil(c/r)*r:c,y=t._limitZoom(e+(this._delta>0?p:-p))-e;this._delta=0,this._startTime=null,y&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+y):t.setZoomAround(this._lastMousePos,e+y))}});ot.addInitHook("addHandler","scrollWheelZoom",lh);var Uu=600;ot.mergeOptions({tapHold:X.touchNative&&X.safari&&X.mobile,tapTolerance:15});var uh=xe.extend({addHooks:function(){U(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_t(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new V(e.clientX,e.clientY),this._holdTimeout=setTimeout(Pt(function(){this._cancel(),this._isTapValid()&&(U(document,"touchend",Rt),U(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),Uu),U(document,"touchend touchcancel contextmenu",this._cancel,this),U(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){_t(document,"touchend",Rt),_t(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),_t(document,"touchend touchcancel contextmenu",this._cancel,this),_t(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new V(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var r=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});r._simulated=!0,e.target.dispatchEvent(r)}});ot.addInitHook("addHandler","tapHold",uh);ot.mergeOptions({touchZoom:X.touch,bounceAtZoomLimits:!0});var fh=xe.extend({addHooks:function(){J(this._map._container,"leaflet-touch-zoom"),U(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){St(this._map._container,"leaflet-touch-zoom"),_t(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var r=e.mouseEventToContainerPoint(t.touches[0]),l=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(r.add(l)._divideBy(2))),this._startDist=r.distanceTo(l),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),U(document,"touchmove",this._onTouchMove,this),U(document,"touchend touchcancel",this._onTouchEnd,this),Rt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,r=e.mouseEventToContainerPoint(t.touches[0]),l=e.mouseEventToContainerPoint(t.touches[1]),c=r.distanceTo(l)/this._startDist;if(this._zoom=e.getScaleZoom(c,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&c<1||this._zoom>e.getMaxZoom()&&c>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,c===1)return}else{var p=r._add(l)._divideBy(2)._subtract(this._centerPoint);if(c===1&&p.x===0&&p.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(p),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),te(this._animRequest);var y=Pt(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Gt(y,this,!0),Rt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,te(this._animRequest),_t(document,"touchmove",this._onTouchMove,this),_t(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ot.addInitHook("addHandler","touchZoom",fh);ot.BoxZoom=sh;ot.DoubleClickZoom=rh;ot.Drag=ah;ot.Keyboard=hh;ot.ScrollWheelZoom=lh;ot.TapHold=uh;ot.TouchZoom=fh;var Gu={__proto__:null,version:Sl,Control:ae,control:yn,Class:Me,Handler:xe,extend:ft,bind:Pt,stamp:rt,setOptions:xt,Browser:X,Evented:pn,Mixin:vu,Util:Ml,PosAnimation:Za,Draggable:He,DomEvent:uu,DomUtil:hu,Point:V,point:q,Bounds:Tt,bounds:Ut,Transformation:zs,transformation:mn,LineUtil:wu,PolyUtil:Lu,LatLng:ct,latLng:dt,LatLngBounds:Vt,latLngBounds:Dt,CRS:Oe,Projection:Tu,Layer:ue,LayerGroup:Mi,layerGroup:bu,FeatureGroup:ci,featureGroup:Su,ImageOverlay:bo,imageOverlay:Du,VideoOverlay:Ka,videoOverlay:zu,SVGOverlay:ja,svgOverlay:Zu,DivOverlay:ve,Popup:So,popup:Ru,Tooltip:Eo,tooltip:Xu,icon:Eu,DivIcon:$a,divIcon:Yu,Marker:Lo,marker:Mu,Icon:Ni,GridLayer:ln,gridLayer:Fu,TileLayer:Oi,tileLayer:Qa,Renderer:Se,Canvas:eh,canvas:ih,Path:Ge,CircleMarker:To,circleMarker:Ou,Circle:nr,circle:Au,Polyline:Ee,polyline:Bu,Polygon:ki,polygon:Nu,Rectangle:oh,rectangle:qu,SVG:xn,svg:nh,GeoJSON:Ae,geoJSON:Ja,geoJson:ku,Map:ot,map:fu},di=ft(Gu,{noConflict:Ju}),ar=Ku(),Vu=ar.L;ar.L=di;function Ju(){return ar.L=Vu,di}function Ku(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ju="https://tile.openstreetmap.org/{z}/{x}/{y}.png",$u='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors';function Qu(){const t=re(null);return{init:(r,l,c=14)=>{t.value=di.map(r).setView(l,c).addLayer(di.tileLayer(ju,{attribution:$u}))},map:t}}const tf={class:"the-info"},ef=he({__name:"TheInfo",props:{label:null},setup(t){const e=t;return(r,l)=>(It(),Zt("div",tf,[yo(ge(e.label)+" ",1),vo(r.$slots,"default",{},void 0,!0)]))}});const nf=Ve(ef,[["__scopeId","data-v-42ce6754"]]);var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ms={exports:{}};/* @preserve
 * Leaflet 1.8.0, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(r,l){l(e)})(of,function(r){var l="1.8.0";function c(i){var o,h,f,_;for(h=1,f=arguments.length;h<f;h++){_=arguments[h];for(o in _)i[o]=_[o]}return i}var p=Object.create||function(){function i(){}return function(o){return i.prototype=o,new i}}();function y(i,o){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var f=h.call(arguments,2);return function(){return i.apply(o,f.length?f.concat(h.call(arguments)):arguments)}}var P=0;function T(i){return"_leaflet_id"in i||(i._leaflet_id=++P),i._leaflet_id}function E(i,o,h){var f,_,g,w;return w=function(){f=!1,_&&(g.apply(h,_),_=!1)},g=function(){f?_=arguments:(i.apply(h,arguments),setTimeout(w,o),f=!0)},g}function B(i,o,h){var f=o[1],_=o[0],g=f-_;return i===f&&h?i:((i-_)%g+g)%g+_}function N(){return!1}function D(i,o){if(o===!1)return i;var h=Math.pow(10,o===void 0?6:o);return Math.round(i*h)/h}function lt(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function Et(i){return lt(i).split(/\s+/)}function tt(i,o){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?p(i.options):{});for(var h in o)i.options[h]=o[h];return i.options}function yt(i,o,h){var f=[];for(var _ in i)f.push(encodeURIComponent(h?_.toUpperCase():_)+"="+encodeURIComponent(i[_]));return(!o||o.indexOf("?")===-1?"?":"&")+f.join("&")}var Be=/\{ *([\w_ -]+) *\}/g;function Je(i,o){return i.replace(Be,function(h,f){var _=o[f];if(_===void 0)throw new Error("No value provided for variable "+h);return typeof _=="function"&&(_=_(o)),_})}var Wt=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function Ke(i,o){for(var h=0;h<i.length;h++)if(i[h]===o)return h;return-1}var Xt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function je(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var $e=0;function pt(i){var o=+new Date,h=Math.max(0,16-(o-$e));return $e=o+h,window.setTimeout(i,h)}var fe=window.requestAnimationFrame||je("RequestAnimationFrame")||pt,gi=window.cancelAnimationFrame||je("CancelAnimationFrame")||je("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function kt(i,o,h){if(h&&fe===pt)i.call(o);else return fe.call(window,y(i,o))}function Nt(i){i&&gi.call(window,i)}var Qe={__proto__:null,extend:c,create:p,bind:y,get lastId(){return P},stamp:T,throttle:E,wrapNum:B,falseFn:N,formatNum:D,trim:lt,splitWords:Et,setOptions:tt,getParamString:yt,template:Je,isArray:Wt,indexOf:Ke,emptyImageUrl:Xt,requestFn:fe,cancelFn:gi,requestAnimFrame:kt,cancelAnimFrame:Nt};function Ht(){}Ht.extend=function(i){var o=function(){tt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=o.__super__=this.prototype,f=p(h);f.constructor=o,o.prototype=f;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(o[_]=this[_]);return i.statics&&c(o,i.statics),i.includes&&(Xi(i.includes),c.apply(null,[f].concat(i.includes))),c(f,i),delete f.statics,delete f.includes,f.options&&(f.options=h.options?p(h.options):{},c(f.options,i.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,w=f._initHooks.length;g<w;g++)f._initHooks[g].call(this)}},o},Ht.include=function(i){var o=this.prototype.options;return c(this.prototype,i),i.options&&(this.prototype.options=o,this.mergeOptions(i.options)),this},Ht.mergeOptions=function(i){return c(this.prototype.options,i),this},Ht.addInitHook=function(i){var o=Array.prototype.slice.call(arguments,1),h=typeof i=="function"?i:function(){this[i].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Xi(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=Wt(i)?i:[i];for(var o=0;o<i.length;o++)i[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ft={on:function(i,o,h){if(typeof i=="object")for(var f in i)this._on(f,i[f],o);else{i=Et(i);for(var _=0,g=i.length;_<g;_++)this._on(i[_],o,h)}return this},off:function(i,o,h){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var f in i)this._off(f,i[f],o);else{i=Et(i);for(var _=arguments.length===1,g=0,w=i.length;g<w;g++)_?this._off(i[g]):this._off(i[g],o,h)}return this},_on:function(i,o,h){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}this._events=this._events||{};var f=this._events[i];f||(f=[],this._events[i]=f),h===this&&(h=void 0);for(var _={fn:o,ctx:h},g=f,w=0,b=g.length;w<b;w++)if(g[w].fn===o&&g[w].ctx===h)return;g.push(_)},_off:function(i,o,h){var f,_,g;if(!!this._events&&(f=this._events[i],!!f)){if(arguments.length===1){if(this._firingCount)for(_=0,g=f.length;_<g;_++)f[_].fn=N;delete this._events[i];return}if(h===this&&(h=void 0),typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}for(_=0,g=f.length;_<g;_++){var w=f[_];if(w.ctx===h&&w.fn===o){this._firingCount&&(w.fn=N,this._events[i]=f=f.slice()),f.splice(_,1);return}}console.warn("listener not found")}},fire:function(i,o,h){if(!this.listens(i,h))return this;var f=c({},o,{type:i,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var _=this._events[i];if(_){this._firingCount=this._firingCount+1||1;for(var g=0,w=_.length;g<w;g++){var b=_[g];b.fn.call(b.ctx||this,f)}this._firingCount--}}return h&&this._propagateEvent(f),this},listens:function(i,o){typeof i!="string"&&console.warn('"string" type argument expected');var h=this._events&&this._events[i];if(h&&h.length)return!0;if(o){for(var f in this._eventParents)if(this._eventParents[f].listens(i,o))return!0}return!1},once:function(i,o,h){if(typeof i=="object"){for(var f in i)this.once(f,i[f],o);return this}var _=y(function(){this.off(i,o,h).off(i,_,h)},this);return this.on(i,o,h).on(i,_,h)},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[T(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[T(i)],this},_propagateEvent:function(i){for(var o in this._eventParents)this._eventParents[o].fire(i.type,c({layer:i.target,propagatedFrom:i.target},i),!0)}};Ft.addEventListener=Ft.on,Ft.removeEventListener=Ft.clearAllEventListeners=Ft.off,Ft.addOneTimeEventListener=Ft.once,Ft.fireEvent=Ft.fire,Ft.hasEventListeners=Ft.listens;var ti=Ht.extend(Ft);function W(i,o,h){this.x=h?Math.round(i):i,this.y=h?Math.round(o):o}var wn=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(i){return this.clone()._add($(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract($(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new W(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new W(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=wn(this.x),this.y=wn(this.y),this},distanceTo:function(i){i=$(i);var o=i.x-this.x,h=i.y-this.y;return Math.sqrt(o*o+h*h)},equals:function(i){return i=$(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=$(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+D(this.x)+", "+D(this.y)+")"}};function $(i,o,h){return i instanceof W?i:Wt(i)?new W(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new W(i.x,i.y):new W(i,o,h)}function mt(i,o){if(!!i)for(var h=o?[i,o]:i,f=0,_=h.length;f<_;f++)this.extend(h[f])}mt.prototype={extend:function(i){return i=$(i),!this.min&&!this.max?(this.min=i.clone(),this.max=i.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)),this},getCenter:function(i){return new W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return new W(this.min.x,this.max.y)},getTopRight:function(){return new W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var o,h;return typeof i[0]=="number"||i instanceof W?i=$(i):i=Jt(i),i instanceof mt?(o=i.min,h=i.max):o=h=i,o.x>=this.min.x&&h.x<=this.max.x&&o.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=Jt(i);var o=this.min,h=this.max,f=i.min,_=i.max,g=_.x>=o.x&&f.x<=h.x,w=_.y>=o.y&&f.y<=h.y;return g&&w},overlaps:function(i){i=Jt(i);var o=this.min,h=this.max,f=i.min,_=i.max,g=_.x>o.x&&f.x<h.x,w=_.y>o.y&&f.y<h.y;return g&&w},isValid:function(){return!!(this.min&&this.max)}};function Jt(i,o){return!i||i instanceof mt?i:new mt(i,o)}function Ct(i,o){if(!!i)for(var h=o?[i,o]:i,f=0,_=h.length;f<_;f++)this.extend(h[f])}Ct.prototype={extend:function(i){var o=this._southWest,h=this._northEast,f,_;if(i instanceof ht)f=i,_=i;else if(i instanceof Ct){if(f=i._southWest,_=i._northEast,!f||!_)return this}else return i?this.extend(vt(i)||Mt(i)):this;return!o&&!h?(this._southWest=new ht(f.lat,f.lng),this._northEast=new ht(_.lat,_.lng)):(o.lat=Math.min(f.lat,o.lat),o.lng=Math.min(f.lng,o.lng),h.lat=Math.max(_.lat,h.lat),h.lng=Math.max(_.lng,h.lng)),this},pad:function(i){var o=this._southWest,h=this._northEast,f=Math.abs(o.lat-h.lat)*i,_=Math.abs(o.lng-h.lng)*i;return new Ct(new ht(o.lat-f,o.lng-_),new ht(h.lat+f,h.lng+_))},getCenter:function(){return new ht((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ht(this.getNorth(),this.getWest())},getSouthEast:function(){return new ht(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ht||"lat"in i?i=vt(i):i=Mt(i);var o=this._southWest,h=this._northEast,f,_;return i instanceof Ct?(f=i.getSouthWest(),_=i.getNorthEast()):f=_=i,f.lat>=o.lat&&_.lat<=h.lat&&f.lng>=o.lng&&_.lng<=h.lng},intersects:function(i){i=Mt(i);var o=this._southWest,h=this._northEast,f=i.getSouthWest(),_=i.getNorthEast(),g=_.lat>=o.lat&&f.lat<=h.lat,w=_.lng>=o.lng&&f.lng<=h.lng;return g&&w},overlaps:function(i){i=Mt(i);var o=this._southWest,h=this._northEast,f=i.getSouthWest(),_=i.getNorthEast(),g=_.lat>o.lat&&f.lat<h.lat,w=_.lng>o.lng&&f.lng<h.lng;return g&&w},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,o){return i?(i=Mt(i),this._southWest.equals(i.getSouthWest(),o)&&this._northEast.equals(i.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Mt(i,o){return i instanceof Ct?i:new Ct(i,o)}function ht(i,o,h){if(isNaN(i)||isNaN(o))throw new Error("Invalid LatLng object: ("+i+", "+o+")");this.lat=+i,this.lng=+o,h!==void 0&&(this.alt=+h)}ht.prototype={equals:function(i,o){if(!i)return!1;i=vt(i);var h=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return h<=(o===void 0?1e-9:o)},toString:function(i){return"LatLng("+D(this.lat,i)+", "+D(this.lng,i)+")"},distanceTo:function(i){return ce.distance(this,vt(i))},wrap:function(){return ce.wrapLatLng(this)},toBounds:function(i){var o=180*i/40075017,h=o/Math.cos(Math.PI/180*this.lat);return Mt([this.lat-o,this.lng-h],[this.lat+o,this.lng+h])},clone:function(){return new ht(this.lat,this.lng,this.alt)}};function vt(i,o,h){return i instanceof ht?i:Wt(i)&&typeof i[0]!="object"?i.length===3?new ht(i[0],i[1],i[2]):i.length===2?new ht(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ht(i.lat,"lng"in i?i.lng:i.lon,i.alt):o===void 0?null:new ht(i,o,h)}var ie={latLngToPoint:function(i,o){var h=this.projection.project(i),f=this.scale(o);return this.transformation._transform(h,f)},pointToLatLng:function(i,o){var h=this.scale(o),f=this.transformation.untransform(i,h);return this.projection.unproject(f)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var o=this.projection.bounds,h=this.scale(i),f=this.transformation.transform(o.min,h),_=this.transformation.transform(o.max,h);return new mt(f,_)},infinite:!1,wrapLatLng:function(i){var o=this.wrapLng?B(i.lng,this.wrapLng,!0):i.lng,h=this.wrapLat?B(i.lat,this.wrapLat,!0):i.lat,f=i.alt;return new ht(h,o,f)},wrapLatLngBounds:function(i){var o=i.getCenter(),h=this.wrapLatLng(o),f=o.lat-h.lat,_=o.lng-h.lng;if(f===0&&_===0)return i;var g=i.getSouthWest(),w=i.getNorthEast(),b=new ht(g.lat-f,g.lng-_),S=new ht(w.lat-f,w.lng-_);return new Ct(b,S)}},ce=c({},ie,{wrapLng:[-180,180],R:6371e3,distance:function(i,o){var h=Math.PI/180,f=i.lat*h,_=o.lat*h,g=Math.sin((o.lat-i.lat)*h/2),w=Math.sin((o.lng-i.lng)*h/2),b=g*g+Math.cos(f)*Math.cos(_)*w*w,S=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));return this.R*S}}),Ln=6378137,ne={R:Ln,MAX_LATITUDE:85.0511287798,project:function(i){var o=Math.PI/180,h=this.MAX_LATITUDE,f=Math.max(Math.min(h,i.lat),-h),_=Math.sin(f*o);return new W(this.R*i.lng*o,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(i){var o=180/Math.PI;return new ht((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*o,i.x*o/this.R)},bounds:function(){var i=Ln*Math.PI;return new mt([-i,-i],[i,i])}()};function Yi(i,o,h,f){if(Wt(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=o,this._c=h,this._d=f}Yi.prototype={transform:function(i,o){return this._transform(i.clone(),o)},_transform:function(i,o){return o=o||1,i.x=o*(this._a*i.x+this._b),i.y=o*(this._c*i.y+this._d),i},untransform:function(i,o){return o=o||1,new W((i.x/o-this._b)/this._a,(i.y/o-this._d)/this._c)}};function ei(i,o,h,f){return new Yi(i,o,h,f)}var Fi=c({},ce,{code:"EPSG:3857",projection:ne,transformation:function(){var i=.5/(Math.PI*ne.R);return ei(i,.5,-i,.5)}()}),Mo=c({},Fi,{code:"EPSG:900913"});function Tn(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Cn(i,o){var h="",f,_,g,w,b,S;for(f=0,g=i.length;f<g;f++){for(b=i[f],_=0,w=b.length;_<w;_++)S=b[_],h+=(_?"L":"M")+S.x+" "+S.y;h+=o?Z.svg?"z":"x":""}return h||"M0 0"}var Wi=document.documentElement.style,yi="ActiveXObject"in window,Oo=yi&&!document.addEventListener,In="msLaunchUri"in navigator&&!("documentMode"in document),Hi=jt("webkit"),bn=jt("android"),Sn=jt("android 2")||jt("android 3"),Ao=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Bo=bn&&jt("Google")&&Ao<537&&!("AudioNode"in window),qi=!!window.opera,En=!In&&jt("chrome"),Mn=jt("gecko")&&!Hi&&!qi&&!yi,No=!En&&jt("safari"),On=jt("phantom"),An="OTransition"in Wi,ko=navigator.platform.indexOf("Win")===0,Bn=yi&&"transition"in Wi,Ui="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Sn,Pi="MozPerspective"in Wi,Do=!window.L_DISABLE_3D&&(Bn||Ui||Pi)&&!An&&!On,Ne=typeof orientation<"u"||jt("mobile"),zo=Ne&&Hi,Nn=Ne&&Ui,kn=!window.PointerEvent&&window.MSPointerEvent,Dn=!!(window.PointerEvent||kn),zn="ontouchstart"in window||!!window.TouchEvent,Zo=!window.L_NO_TOUCH&&(zn||Dn),Ro=Ne&&qi,Xo=Ne&&Mn,Yo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fo=function(){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",N,o),window.removeEventListener("testPassiveEventSupport",N,o)}catch{}return i}(),Wo=function(){return!!document.createElement("canvas").getContext}(),Gi=!!(document.createElementNS&&Tn("svg").createSVGRect),Ho=!!Gi&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),qo=!Gi&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var o=i.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}();function jt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Z={ie:yi,ielt9:Oo,edge:In,webkit:Hi,android:bn,android23:Sn,androidStock:Bo,opera:qi,chrome:En,gecko:Mn,safari:No,phantom:On,opera12:An,win:ko,ie3d:Bn,webkit3d:Ui,gecko3d:Pi,any3d:Do,mobile:Ne,mobileWebkit:zo,mobileWebkit3d:Nn,msPointer:kn,pointer:Dn,touch:Zo,touchNative:zn,mobileOpera:Ro,mobileGecko:Xo,retina:Yo,passiveEvents:Fo,canvas:Wo,svg:Gi,vml:qo,inlineSvg:Ho},Zn=Z.msPointer?"MSPointerDown":"pointerdown",Rn=Z.msPointer?"MSPointerMove":"pointermove",Xn=Z.msPointer?"MSPointerUp":"pointerup",Yn=Z.msPointer?"MSPointerCancel":"pointercancel",Vi={touchstart:Zn,touchmove:Rn,touchend:Xn,touchcancel:Yn},Fn={touchstart:Jo,touchmove:xi,touchend:xi,touchcancel:xi},ke={},Wn=!1;function Uo(i,o,h){return o==="touchstart"&&Vo(),Fn[o]?(h=Fn[o].bind(this,h),i.addEventListener(Vi[o],h,!1),h):(console.warn("wrong event specified:",o),L.Util.falseFn)}function ii(i,o,h){if(!Vi[o]){console.warn("wrong event specified:",o);return}i.removeEventListener(Vi[o],h,!1)}function Hn(i){ke[i.pointerId]=i}function Go(i){ke[i.pointerId]&&(ke[i.pointerId]=i)}function qn(i){delete ke[i.pointerId]}function Vo(){Wn||(document.addEventListener(Zn,Hn,!0),document.addEventListener(Rn,Go,!0),document.addEventListener(Xn,qn,!0),document.addEventListener(Yn,qn,!0),Wn=!0)}function xi(i,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var h in ke)o.touches.push(ke[h]);o.changedTouches=[o],i(o)}}function Jo(i,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&Yt(o),xi(i,o)}function De(i){var o={},h,f;for(f in i)h=i[f],o[f]=h&&h.bind?h.bind(i):h;return i=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Ko=200;function jo(i,o){i.addEventListener("dblclick",o);var h=0,f;function _(g){if(g.detail!==1){f=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var w=Date.now();w-h<=Ko?(f++,f===2&&o(De(g))):f=1,h=w}}return i.addEventListener("click",_),{dblclick:o,simDblclick:_}}function $o(i,o){i.removeEventListener("dblclick",o.dblclick),i.removeEventListener("click",o.simDblclick)}var Ji=s(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ni=s(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Un=ni==="webkitTransition"||ni==="OTransition"?ni+"End":"transitionend";function Gn(i){return typeof i=="string"?document.getElementById(i):i}function oi(i,o){var h=i.style[o]||i.currentStyle&&i.currentStyle[o];if((!h||h==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(i,null);h=f?f[o]:null}return h==="auto"?null:h}function et(i,o,h){var f=document.createElement(i);return f.className=o||"",h&&h.appendChild(f),f}function K(i){var o=i.parentNode;o&&o.removeChild(i)}function wi(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function ze(i){var o=i.parentNode;o&&o.lastChild!==i&&o.appendChild(i)}function Ze(i){var o=i.parentNode;o&&o.firstChild!==i&&o.insertBefore(i,o.firstChild)}function G(i,o){if(i.classList!==void 0)return i.classList.contains(o);var h=Li(i);return h.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(h)}function H(i,o){if(i.classList!==void 0)for(var h=Et(o),f=0,_=h.length;f<_;f++)i.classList.add(h[f]);else if(!G(i,o)){var g=Li(i);Ki(i,(g?g+" ":"")+o)}}function wt(i,o){i.classList!==void 0?i.classList.remove(o):Ki(i,lt((" "+Li(i)+" ").replace(" "+o+" "," ")))}function Ki(i,o){i.className.baseVal===void 0?i.className=o:i.className.baseVal=o}function Li(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function qt(i,o){"opacity"in i.style?i.style.opacity=o:"filter"in i.style&&n(i,o)}function n(i,o){var h=!1,f="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(f)}catch{if(o===1)return}o=Math.round(o*100),h?(h.Enabled=o!==100,h.Opacity=o):i.style.filter+=" progid:"+f+"(opacity="+o+")"}function s(i){for(var o=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in o)return i[h];return!1}function a(i,o,h){var f=o||new W(0,0);i.style[Ji]=(Z.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(h?" scale("+h+")":"")}function u(i,o){i._leaflet_pos=o,Z.any3d?a(i,o):(i.style.left=o.x+"px",i.style.top=o.y+"px")}function d(i){return i._leaflet_pos||new W(0,0)}var m,v,x;if("onselectstart"in document)m=function(){F(window,"selectstart",Yt)},v=function(){ut(window,"selectstart",Yt)};else{var C=s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);m=function(){if(C){var i=document.documentElement.style;x=i[C],i[C]="none"}},v=function(){C&&(document.documentElement.style[C]=x,x=void 0)}}function I(){F(window,"dragstart",Yt)}function M(){ut(window,"dragstart",Yt)}var A,k;function Y(i){for(;i.tabIndex===-1;)i=i.parentNode;!i.style||(R(),A=i,k=i.style.outline,i.style.outline="none",F(window,"keydown",R))}function R(){!A||(A.style.outline=k,A=void 0,k=void 0,ut(window,"keydown",R))}function j(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function gt(i){var o=i.getBoundingClientRect();return{x:o.width/i.offsetWidth||1,y:o.height/i.offsetHeight||1,boundingClientRect:o}}var zt={__proto__:null,TRANSFORM:Ji,TRANSITION:ni,TRANSITION_END:Un,get:Gn,getStyle:oi,create:et,remove:K,empty:wi,toFront:ze,toBack:Ze,hasClass:G,addClass:H,removeClass:wt,setClass:Ki,getClass:Li,setOpacity:qt,testProp:s,setTransform:a,setPosition:u,getPosition:d,get disableTextSelection(){return m},get enableTextSelection(){return v},disableImageDrag:I,enableImageDrag:M,preventOutline:Y,restoreOutline:R,getSizedParentNode:j,getScale:gt};function F(i,o,h,f){if(o&&typeof o=="object")for(var _ in o)ts(i,_,o[_],h);else{o=Et(o);for(var g=0,w=o.length;g<w;g++)ts(i,o[g],h,f)}return this}var $t="_leaflet_events";function ut(i,o,h,f){if(arguments.length===1)we(i),delete i[$t];else if(o&&typeof o=="object")for(var _ in o)es(i,_,o[_],h);else if(o=Et(o),arguments.length===2)we(i,function(b){return Ke(o,b)!==-1});else for(var g=0,w=o.length;g<w;g++)es(i,o[g],h,f);return this}function we(i,o){for(var h in i[$t]){var f=h.split(/\d/)[0];(!o||o(f))&&es(i,f,null,null,h)}}var Qo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ts(i,o,h,f){var _=o+T(h)+(f?"_"+T(f):"");if(i[$t]&&i[$t][_])return this;var g=function(b){return h.call(f||i,b||window.event)},w=g;!Z.touchNative&&Z.pointer&&o.indexOf("touch")===0?g=Uo(i,o,g):Z.touch&&o==="dblclick"?g=jo(i,g):"addEventListener"in i?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?i.addEventListener(Qo[o]||o,g,Z.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(g=function(b){b=b||window.event,ns(i,b)&&w(b)},i.addEventListener(Qo[o],g,!1)):i.addEventListener(o,w,!1):i.attachEvent("on"+o,g),i[$t]=i[$t]||{},i[$t][_]=g}function es(i,o,h,f,_){_=_||o+T(h)+(f?"_"+T(f):"");var g=i[$t]&&i[$t][_];if(!g)return this;!Z.touchNative&&Z.pointer&&o.indexOf("touch")===0?ii(i,o,g):Z.touch&&o==="dblclick"?$o(i,g):"removeEventListener"in i?i.removeEventListener(Qo[o]||o,g,!1):i.detachEvent("on"+o,g),i[$t][_]=null}function si(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function is(i){return ts(i,"wheel",si),this}function ji(i){return F(i,"mousedown touchstart dblclick contextmenu",si),i._leaflet_disable_click=!0,this}function Yt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function ri(i){return Yt(i),si(i),this}function lr(i,o){if(!o)return new W(i.clientX,i.clientY);var h=gt(o),f=h.boundingClientRect;return new W((i.clientX-f.left)/h.x-o.clientLeft,(i.clientY-f.top)/h.y-o.clientTop)}var mh=Z.win&&Z.chrome?2*window.devicePixelRatio:Z.gecko?window.devicePixelRatio:1;function ur(i){return Z.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/mh:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function ns(i,o){var h=o.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var vh={__proto__:null,on:F,off:ut,stopPropagation:si,disableScrollPropagation:is,disableClickPropagation:ji,preventDefault:Yt,stop:ri,getMousePosition:lr,getWheelDelta:ur,isExternalTarget:ns,addListener:F,removeListener:ut},fr=ti.extend({run:function(i,o,h,f){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=d(i),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=kt(this._animate,this),this._step()},_step:function(i){var o=+new Date-this._startTime,h=this._duration*1e3;o<h?this._runFrame(this._easeOut(o/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,o){var h=this._startPos.add(this._offset.multiplyBy(i));o&&h._round(),u(this._el,h),this.fire("step")},_complete:function(){Nt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),it=ti.extend({options:{crs:Fi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,o){o=tt(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=y(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(vt(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ni&&Z.any3d&&!Z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),F(this._proxy,Un,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,o,h){if(o=o===void 0?this._zoom:this._limitZoom(o),i=this._limitCenter(vt(i),o,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var f=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,o,h.zoom):this._tryAnimatedPan(i,h.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(i,o),this},setZoom:function(i,o){return this._loaded?this.setView(this.getCenter(),i,{zoom:o}):(this._zoom=i,this)},zoomIn:function(i,o){return i=i||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,o)},zoomOut:function(i,o){return i=i||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,o)},setZoomAround:function(i,o,h){var f=this.getZoomScale(o),_=this.getSize().divideBy(2),g=i instanceof W?i:this.latLngToContainerPoint(i),w=g.subtract(_).multiplyBy(1-1/f),b=this.containerPointToLatLng(_.add(w));return this.setView(b,o,{zoom:h})},_getBoundsCenterZoom:function(i,o){o=o||{},i=i.getBounds?i.getBounds():Mt(i);var h=$(o.paddingTopLeft||o.padding||[0,0]),f=$(o.paddingBottomRight||o.padding||[0,0]),_=this.getBoundsZoom(i,!1,h.add(f));if(_=typeof o.maxZoom=="number"?Math.min(o.maxZoom,_):_,_===1/0)return{center:i.getCenter(),zoom:_};var g=f.subtract(h).divideBy(2),w=this.project(i.getSouthWest(),_),b=this.project(i.getNorthEast(),_),S=this.unproject(w.add(b).divideBy(2).add(g),_);return{center:S,zoom:_}},fitBounds:function(i,o){if(i=Mt(i),!i.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,o);return this.setView(h.center,h.zoom,o)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,o){return this.setView(i,this._zoom,{pan:o})},panBy:function(i,o){if(i=$(i).round(),o=o||{},!i.x&&!i.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){H(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,o.duration||.25,o.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,o,h){if(h=h||{},h.animate===!1||!Z.any3d)return this.setView(i,o,h);this._stop();var f=this.project(this.getCenter()),_=this.project(i),g=this.getSize(),w=this._zoom;i=vt(i),o=o===void 0?w:o;var b=Math.max(g.x,g.y),S=b*this.getZoomScale(w,o),O=_.distanceTo(f)||1,z=1.42,Q=z*z;function nt(Ot){var so=Ot?-1:1,sl=Ot?S:b,rl=S*S-b*b+so*Q*Q*O*O,al=2*sl*Q*O,ps=rl/al,Wr=Math.sqrt(ps*ps+1)-ps,hl=Wr<1e-9?-18:Math.log(Wr);return hl}function be(Ot){return(Math.exp(Ot)-Math.exp(-Ot))/2}function hi(Ot){return(Math.exp(Ot)+Math.exp(-Ot))/2}function oo(Ot){return be(Ot)/hi(Ot)}var Ye=nt(0);function _s(Ot){return b*(hi(Ye)/hi(Ye+z*Ot))}function el(Ot){return b*(hi(Ye)*oo(Ye+z*Ot)-be(Ye))/Q}function il(Ot){return 1-Math.pow(1-Ot,1.5)}var nl=Date.now(),Yr=(nt(1)-Ye)/z,ol=h.duration?1e3*h.duration:1e3*Yr*.8;function Fr(){var Ot=(Date.now()-nl)/ol,so=il(Ot)*Yr;Ot<=1?(this._flyToFrame=kt(Fr,this),this._move(this.unproject(f.add(_.subtract(f).multiplyBy(el(so)/O)),w),this.getScaleZoom(b/_s(so),w),{flyTo:!0})):this._move(i,o)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Fr.call(this),this},flyToBounds:function(i,o){var h=this._getBoundsCenterZoom(i,o);return this.flyTo(h.center,h.zoom,o)},setMaxBounds:function(i){if(i=Mt(i),i.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);return this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(i){var o=this.options.minZoom;return this.options.minZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var o=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,o){this._enforcingBounds=!0;var h=this.getCenter(),f=this._limitCenter(h,this._zoom,Mt(i));return h.equals(f)||this.panTo(f,o),this._enforcingBounds=!1,this},panInside:function(i,o){o=o||{};var h=$(o.paddingTopLeft||o.padding||[0,0]),f=$(o.paddingBottomRight||o.padding||[0,0]),_=this.project(this.getCenter()),g=this.project(i),w=this.getPixelBounds(),b=Jt([w.min.add(h),w.max.subtract(f)]),S=b.getSize();if(!b.contains(g)){this._enforcingBounds=!0;var O=g.subtract(b.getCenter()),z=b.extend(g).getSize().subtract(S);_.x+=O.x<0?-z.x:z.x,_.y+=O.y<0?-z.y:z.y,this.panTo(this.unproject(_),o),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=c({animate:!1,pan:!0},i===!0?{animate:!0}:i);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),f=o.divideBy(2).round(),_=h.divideBy(2).round(),g=f.subtract(_);return!g.x&&!g.y?this:(i.animate&&i.pan?this.panBy(g):(i.pan&&this._rawPanBy(g),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(y(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=c({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=y(this._handleGeolocationResponse,this),h=y(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,h,i):navigator.geolocation.getCurrentPosition(o,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(!!this._container._leaflet_id){var o=i.code,h=i.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(!!this._container._leaflet_id){var o=i.coords.latitude,h=i.coords.longitude,f=new ht(o,h),_=f.toBounds(i.coords.accuracy*2),g=this._locateOptions;if(g.setView){var w=this.getBoundsZoom(_);this.setView(f,g.maxZoom?Math.min(w,g.maxZoom):w)}var b={latlng:f,bounds:_,timestamp:i.timestamp};for(var S in i.coords)typeof i.coords[S]=="number"&&(b[S]=i.coords[S]);this.fire("locationfound",b)}},addHandler:function(i,o){if(!o)return this;var h=this[i]=new o(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),K(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Nt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)K(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,o){var h="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),f=et("div",h,o||this._mapPane);return i&&(this._panes[i]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),o=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new Ct(o,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,o,h){i=Mt(i),h=$(h||[0,0]);var f=this.getZoom()||0,_=this.getMinZoom(),g=this.getMaxZoom(),w=i.getNorthWest(),b=i.getSouthEast(),S=this.getSize().subtract(h),O=Jt(this.project(b,f),this.project(w,f)).getSize(),z=Z.any3d?this.options.zoomSnap:1,Q=S.x/O.x,nt=S.y/O.y,be=o?Math.max(Q,nt):Math.min(Q,nt);return f=this.getScaleZoom(be,f),z&&(f=Math.round(f/(z/100))*(z/100),f=o?Math.ceil(f/z)*z:Math.floor(f/z)*z),Math.max(_,Math.min(g,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,o){var h=this._getTopLeftPoint(i,o);return new mt(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,o){var h=this.options.crs;return o=o===void 0?this._zoom:o,h.scale(i)/h.scale(o)},getScaleZoom:function(i,o){var h=this.options.crs;o=o===void 0?this._zoom:o;var f=h.zoom(i*h.scale(o));return isNaN(f)?1/0:f},project:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(vt(i),o)},unproject:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng($(i),o)},layerPointToLatLng:function(i){var o=$(i).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(i){var o=this.project(vt(i))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(vt(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(Mt(i))},distance:function(i,o){return this.options.crs.distance(vt(i),vt(o))},containerPointToLayerPoint:function(i){return $(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return $(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var o=this.containerPointToLayerPoint($(i));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(vt(i)))},mouseEventToContainerPoint:function(i){return lr(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var o=this._container=Gn(i);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");F(o,"scroll",this._onScroll,this),this._containerId=T(o)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Z.any3d,H(i,"leaflet-container"+(Z.touch?" leaflet-touch":"")+(Z.retina?" leaflet-retina":"")+(Z.ielt9?" leaflet-oldie":"")+(Z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=oi(i,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),u(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(H(i.markerPane,"leaflet-zoom-hide"),H(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,o){u(this._mapPane,new W(0,0));var h=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var f=this._zoom!==o;this._moveStart(f,!1)._move(i,o)._moveEnd(f),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(i,o){return i&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(i,o,h,f){o===void 0&&(o=this._zoom);var _=this._zoom!==o;return this._zoom=o,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),f?h&&h.pinch&&this.fire("zoom",h):((_||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Nt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){u(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[T(this._container)]=this;var o=i?ut:F;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),Z.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Nt(this._resizeRequest),this._resizeRequest=kt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,o){for(var h=[],f,_=o==="mouseout"||o==="mouseover",g=i.target||i.srcElement,w=!1;g;){if(f=this._targets[T(g)],f&&(o==="click"||o==="preclick")&&this._draggableMoved(f)){w=!0;break}if(f&&f.listens(o,!0)&&(_&&!ns(g,i)||(h.push(f),_))||g===this._container)break;g=g.parentNode}return!h.length&&!w&&!_&&this.listens(o,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var o=i.target||i.srcElement;if(!(!this._loaded||o._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(o))){var h=i.type;h==="mousedown"&&Y(o),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,o,h){if(i.type==="click"){var f=c({},i);f.type="preclick",this._fireDOMEvent(f,f.type,h)}var _=this._findEventTargets(i,o);if(h){for(var g=[],w=0;w<h.length;w++)h[w].listens(o,!0)&&g.push(h[w]);_=g.concat(_)}if(!!_.length){o==="contextmenu"&&Yt(i);var b=_[0],S={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var O=b.getLatLng&&(!b._radius||b._radius<=10);S.containerPoint=O?this.latLngToContainerPoint(b.getLatLng()):this.mouseEventToContainerPoint(i),S.layerPoint=this.containerPointToLayerPoint(S.containerPoint),S.latlng=O?b.getLatLng():this.layerPointToLatLng(S.layerPoint)}for(w=0;w<_.length;w++)if(_[w].fire(o,S,!0),S.originalEvent._stopped||_[w].options.bubblingMouseEvents===!1&&Ke(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,o=this._handlers.length;i<o;i++)this._handlers[i].disable()},whenReady:function(i,o){return this._loaded?i.call(o||this,{target:this}):this.on("load",i,o),this},_getMapPanePos:function(){return d(this._mapPane)||new W(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,o){var h=i&&o!==void 0?this._getNewPixelOrigin(i,o):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,o){var h=this.getSize()._divideBy(2);return this.project(i,o)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,o,h){var f=this._getNewPixelOrigin(h,o);return this.project(i,o)._subtract(f)},_latLngBoundsToNewLayerBounds:function(i,o,h){var f=this._getNewPixelOrigin(h,o);return Jt([this.project(i.getSouthWest(),o)._subtract(f),this.project(i.getNorthWest(),o)._subtract(f),this.project(i.getSouthEast(),o)._subtract(f),this.project(i.getNorthEast(),o)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,o,h){if(!h)return i;var f=this.project(i,o),_=this.getSize().divideBy(2),g=new mt(f.subtract(_),f.add(_)),w=this._getBoundsOffset(g,h,o);return w.round().equals([0,0])?i:this.unproject(f.add(w),o)},_limitOffset:function(i,o){if(!o)return i;var h=this.getPixelBounds(),f=new mt(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(f,o))},_getBoundsOffset:function(i,o,h){var f=Jt(this.project(o.getNorthEast(),h),this.project(o.getSouthWest(),h)),_=f.min.subtract(i.min),g=f.max.subtract(i.max),w=this._rebound(_.x,-g.x),b=this._rebound(_.y,-g.y);return new W(w,b)},_rebound:function(i,o){return i+o>0?Math.round(i-o)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(o))},_limitZoom:function(i){var o=this.getMinZoom(),h=this.getMaxZoom(),f=Z.any3d?this.options.zoomSnap:1;return f&&(i=Math.round(i/f)*f),Math.max(o,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,o){var h=this._getCenterOffset(i)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,o),!0)},_createAnimProxy:function(){var i=this._proxy=et("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(o){var h=Ji,f=this._proxy.style[h];a(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),f===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){K(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),o=this.getZoom();a(this._proxy,this.project(i,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,o,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(o),_=this._getCenterOffset(i)._divideBy(1-1/f);return h.animate!==!0&&!this.getSize().contains(_)?!1:(kt(function(){this._moveStart(!0,!1)._animateZoom(i,o,!0)},this),!0)},_animateZoom:function(i,o,h,f){!this._mapPane||(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=o,H(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:o,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(y(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gh(i,o){return new it(i,o)}var oe=Ht.extend({options:{position:"topright"},initialize:function(i){tt(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var o=this._map;return o&&o.removeControl(this),this.options.position=i,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var o=this._container=this.onAdd(i),h=this.getPosition(),f=i._controlCorners[h];return H(o,"leaflet-control"),h.indexOf("bottom")!==-1?f.insertBefore(o,f.firstChild):f.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(K(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),$i=function(i){return new oe(i)};it.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},o="leaflet-",h=this._controlContainer=et("div",o+"control-container",this._container);function f(_,g){var w=o+_+" "+o+g;i[_+g]=et("div",w,h)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)K(this._controlCorners[i]);K(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var cr=oe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,o,h,f){return h<f?-1:f<h?1:0}},initialize:function(i,o,h){tt(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var f in i)this._addLayer(i[f],f);for(f in o)this._addLayer(o[f],f,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return oe.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,o){return this._addLayer(i,o),this._map?this._update():this},addOverlay:function(i,o){return this._addLayer(i,o,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var o=this._getLayer(T(i));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){H(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(H(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",o=this._container=et("div",i),h=this.options.collapsed;o.setAttribute("aria-haspopup",!0),ji(o),is(o);var f=this._section=et("section",i+"-list");h&&(this._map.on("click",this.collapse,this),F(o,{mouseenter:function(){F(f,"click",Yt),this.expand(),setTimeout(function(){ut(f,"click",Yt)})},mouseleave:this.collapse},this));var _=this._layersLink=et("a",i+"-toggle",o);_.href="#",_.title="Layers",_.setAttribute("role","button"),F(_,"click",Yt),F(_,"focus",this.expand,this),h||this.expand(),this._baseLayersList=et("div",i+"-base",f),this._separator=et("div",i+"-separator",f),this._overlaysList=et("div",i+"-overlays",f),o.appendChild(f)},_getLayer:function(i){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&T(this._layers[o].layer)===i)return this._layers[o]},_addLayer:function(i,o,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:o,overlay:h}),this.options.sortLayers&&this._layers.sort(y(function(f,_){return this.options.sortFunction(f.layer,_.layer,f.name,_.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wi(this._baseLayersList),wi(this._overlaysList),this._layerControlInputs=[];var i,o,h,f,_=0;for(h=0;h<this._layers.length;h++)f=this._layers[h],this._addItem(f),o=o||f.overlay,i=i||!f.overlay,_+=f.overlay?0:1;return this.options.hideSingleBase&&(i=i&&_>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=o&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var o=this._getLayer(T(i.target)),h=o.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;h&&this._map.fire(h,o)},_createRadioElement:function(i,o){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(o?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=h,f.firstChild},_addItem:function(i){var o=document.createElement("label"),h=this._map.hasLayer(i.layer),f;i.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=h):f=this._createRadioElement("leaflet-base-layers_"+T(this),h),this._layerControlInputs.push(f),f.layerId=T(i.layer),F(f,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+i.name;var g=document.createElement("span");o.appendChild(g),g.appendChild(f),g.appendChild(_);var w=i.overlay?this._overlaysList:this._baseLayersList;return w.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){var i=this._layerControlInputs,o,h,f=[],_=[];this._handlingClick=!0;for(var g=i.length-1;g>=0;g--)o=i[g],h=this._getLayer(o.layerId).layer,o.checked?f.push(h):o.checked||_.push(h);for(g=0;g<_.length;g++)this._map.hasLayer(_[g])&&this._map.removeLayer(_[g]);for(g=0;g<f.length;g++)this._map.hasLayer(f[g])||this._map.addLayer(f[g]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,o,h,f=this._map.getZoom(),_=i.length-1;_>=0;_--)o=i[_],h=this._getLayer(o.layerId).layer,o.disabled=h.options.minZoom!==void 0&&f<h.options.minZoom||h.options.maxZoom!==void 0&&f>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),yh=function(i,o,h){return new cr(i,o,h)},os=oe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var o="leaflet-control-zoom",h=et("div",o+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,o+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,o+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,o,h,f,_){var g=et("a",h,f);return g.innerHTML=i,g.href="#",g.title=o,g.setAttribute("role","button"),g.setAttribute("aria-label",o),ji(g),F(g,"click",ri),F(g,"click",_,this),F(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var i=this._map,o="leaflet-disabled";wt(this._zoomInButton,o),wt(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(H(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(H(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});it.mergeOptions({zoomControl:!0}),it.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new os,this.addControl(this.zoomControl))});var Ph=function(i){return new os(i)},dr=oe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var o="leaflet-control-scale",h=et("div",o),f=this.options;return this._addScales(f,o+"-line",h),i.on(f.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,o,h){i.metric&&(this._mScale=et("div",o,h)),i.imperial&&(this._iScale=et("div",o,h))},_update:function(){var i=this._map,o=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,o]),i.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var o=this._getRoundNum(i),h=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,h,o/i)},_updateImperial:function(i){var o=i*3.2808399,h,f,_;o>5280?(h=o/5280,f=this._getRoundNum(h),this._updateScale(this._iScale,f+" mi",f/h)):(_=this._getRoundNum(o),this._updateScale(this._iScale,_+" ft",_/o))},_updateScale:function(i,o,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=o},_getRoundNum:function(i){var o=Math.pow(10,(Math.floor(i)+"").length-1),h=i/o;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,o*h}}),xh=function(i){return new dr(i)},wh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ss=oe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Z.inlineSvg?wh+" ":"")+"Leaflet</a>"},initialize:function(i){tt(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=et("div","leaflet-control-attribution"),ji(this._container);for(var o in i._layers)i._layers[o].getAttribution&&this.addAttribution(i._layers[o].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(!!this._map){var i=[];for(var o in this._attributions)this._attributions[o]&&i.push(o);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});it.mergeOptions({attributionControl:!0}),it.addInitHook(function(){this.options.attributionControl&&new ss().addTo(this)});var Lh=function(i){return new ss(i)};oe.Layers=cr,oe.Zoom=os,oe.Scale=dr,oe.Attribution=ss,$i.layers=yh,$i.zoom=Ph,$i.scale=xh,$i.attribution=Lh;var de=Ht.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});de.addTo=function(i,o){return i.addHandler(o,this),this};var Th={Events:Ft},_r=Z.touch?"touchstart mousedown":"mousedown",Re=ti.extend({options:{clickTolerance:3},initialize:function(i,o,h,f){tt(this,f),this._element=i,this._dragStartTarget=o||i,this._preventOutline=h},enable:function(){this._enabled||(F(this._dragStartTarget,_r,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(Re._dragging===this&&this.finishDrag(!0),ut(this._dragStartTarget,_r,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(!!this._enabled&&(this._moved=!1,!G(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Re._dragging===this&&this.finishDrag();return}if(!(Re._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Re._dragging=this,this._preventOutline&&Y(this._element),I(),m(),!this._moving)){this.fire("down");var o=i.touches?i.touches[0]:i,h=j(this._element);this._startPoint=new W(o.clientX,o.clientY),this._startPos=d(this._element),this._parentScale=gt(h);var f=i.type==="mousedown";F(document,f?"mousemove":"touchmove",this._onMove,this),F(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(!!this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var o=i.touches&&i.touches.length===1?i.touches[0]:i,h=new W(o.clientX,o.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Yt(i),this._moved||(this.fire("dragstart"),this._moved=!0,H(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),H(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),u(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(i){wt(document.body,"leaflet-dragging"),this._lastTarget&&(wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ut(document,"mousemove touchmove",this._onMove,this),ut(document,"mouseup touchend touchcancel",this._onUp,this),M(),v(),this._moved&&this._moving&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Re._dragging=!1}});function pr(i,o){if(!o||!i.length)return i.slice();var h=o*o;return i=bh(i,h),i=Ih(i,h),i}function mr(i,o,h){return Math.sqrt(Qi(i,o,h,!0))}function Ch(i,o,h){return Qi(i,o,h)}function Ih(i,o){var h=i.length,f=typeof Uint8Array!=void 0+""?Uint8Array:Array,_=new f(h);_[0]=_[h-1]=1,rs(i,_,o,0,h-1);var g,w=[];for(g=0;g<h;g++)_[g]&&w.push(i[g]);return w}function rs(i,o,h,f,_){var g=0,w,b,S;for(b=f+1;b<=_-1;b++)S=Qi(i[b],i[f],i[_],!0),S>g&&(w=b,g=S);g>h&&(o[w]=1,rs(i,o,h,f,w),rs(i,o,h,w,_))}function bh(i,o){for(var h=[i[0]],f=1,_=0,g=i.length;f<g;f++)Sh(i[f],i[_])>o&&(h.push(i[f]),_=f);return _<g-1&&h.push(i[g-1]),h}var vr;function gr(i,o,h,f,_){var g=f?vr:ai(i,h),w=ai(o,h),b,S,O;for(vr=w;;){if(!(g|w))return[i,o];if(g&w)return!1;b=g||w,S=Vn(i,o,b,h,_),O=ai(S,h),b===g?(i=S,g=O):(o=S,w=O)}}function Vn(i,o,h,f,_){var g=o.x-i.x,w=o.y-i.y,b=f.min,S=f.max,O,z;return h&8?(O=i.x+g*(S.y-i.y)/w,z=S.y):h&4?(O=i.x+g*(b.y-i.y)/w,z=b.y):h&2?(O=S.x,z=i.y+w*(S.x-i.x)/g):h&1&&(O=b.x,z=i.y+w*(b.x-i.x)/g),new W(O,z,_)}function ai(i,o){var h=0;return i.x<o.min.x?h|=1:i.x>o.max.x&&(h|=2),i.y<o.min.y?h|=4:i.y>o.max.y&&(h|=8),h}function Sh(i,o){var h=o.x-i.x,f=o.y-i.y;return h*h+f*f}function Qi(i,o,h,f){var _=o.x,g=o.y,w=h.x-_,b=h.y-g,S=w*w+b*b,O;return S>0&&(O=((i.x-_)*w+(i.y-g)*b)/S,O>1?(_=h.x,g=h.y):O>0&&(_+=w*O,g+=b*O)),w=i.x-_,b=i.y-g,f?w*w+b*b:new W(_,g)}function Le(i){return!Wt(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function yr(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Le(i)}var Eh={__proto__:null,simplify:pr,pointToSegmentDistance:mr,closestPointOnSegment:Ch,clipSegment:gr,_getEdgeIntersection:Vn,_getBitCode:ai,_sqClosestPointOnSegment:Qi,isFlat:Le,_flat:yr};function Pr(i,o,h){var f,_=[1,4,2,8],g,w,b,S,O,z,Q,nt;for(g=0,z=i.length;g<z;g++)i[g]._code=ai(i[g],o);for(b=0;b<4;b++){for(Q=_[b],f=[],g=0,z=i.length,w=z-1;g<z;w=g++)S=i[g],O=i[w],S._code&Q?O._code&Q||(nt=Vn(O,S,Q,o,h),nt._code=ai(nt,o),f.push(nt)):(O._code&Q&&(nt=Vn(O,S,Q,o,h),nt._code=ai(nt,o),f.push(nt)),f.push(S));i=f}return i}var Mh={__proto__:null,clipPolygon:Pr},as={project:function(i){return new W(i.lng,i.lat)},unproject:function(i){return new ht(i.y,i.x)},bounds:new mt([-180,-90],[180,90])},hs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new mt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var o=Math.PI/180,h=this.R,f=i.lat*o,_=this.R_MINOR/h,g=Math.sqrt(1-_*_),w=g*Math.sin(f),b=Math.tan(Math.PI/4-f/2)/Math.pow((1-w)/(1+w),g/2);return f=-h*Math.log(Math.max(b,1e-10)),new W(i.lng*o*h,f)},unproject:function(i){for(var o=180/Math.PI,h=this.R,f=this.R_MINOR/h,_=Math.sqrt(1-f*f),g=Math.exp(-i.y/h),w=Math.PI/2-2*Math.atan(g),b=0,S=.1,O;b<15&&Math.abs(S)>1e-7;b++)O=_*Math.sin(w),O=Math.pow((1-O)/(1+O),_/2),S=Math.PI/2-2*Math.atan(g*O)-w,w+=S;return new ht(w*o,i.x*o/h)}},Oh={__proto__:null,LonLat:as,Mercator:hs,SphericalMercator:ne},Ah=c({},ce,{code:"EPSG:3395",projection:hs,transformation:function(){var i=.5/(Math.PI*hs.R);return ei(i,.5,-i,.5)}()}),xr=c({},ce,{code:"EPSG:4326",projection:as,transformation:ei(1/180,1,-1/180,.5)}),Bh=c({},ie,{projection:as,transformation:ei(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,o){var h=o.lng-i.lng,f=o.lat-i.lat;return Math.sqrt(h*h+f*f)},infinite:!0});ie.Earth=ce,ie.EPSG3395=Ah,ie.EPSG3857=Fi,ie.EPSG900913=Mo,ie.EPSG4326=xr,ie.Simple=Bh;var se=ti.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[T(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[T(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var o=i.target;if(!!o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var h=this.getEvents();o.on(h,this),this.once("remove",function(){o.off(h,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});it.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var o=T(i);return this._layers[o]?this:(this._layers[o]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var o=T(i);return this._layers[o]?(this._loaded&&i.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return T(i)in this._layers},eachLayer:function(i,o){for(var h in this._layers)i.call(o,this._layers[h]);return this},_addLayers:function(i){i=i?Wt(i)?i:[i]:[];for(var o=0,h=i.length;o<h;o++)this.addLayer(i[o])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[T(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var o=T(i);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,o=-1/0,h=this._getZoomSpan();for(var f in this._zoomBoundLayers){var _=this._zoomBoundLayers[f].options;i=_.minZoom===void 0?i:Math.min(i,_.minZoom),o=_.maxZoom===void 0?o:Math.max(o,_.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ti=se.extend({initialize:function(i,o){tt(this,o),this._layers={};var h,f;if(i)for(h=0,f=i.length;h<f;h++)this.addLayer(i[h])},addLayer:function(i){var o=this.getLayerId(i);return this._layers[o]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var o=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(i){var o=typeof i=="number"?i:this.getLayerId(i);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var o=Array.prototype.slice.call(arguments,1),h,f;for(h in this._layers)f=this._layers[h],f[i]&&f[i].apply(f,o);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,o){for(var h in this._layers)i.call(o,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return T(i)}}),Nh=function(i,o){return new Ti(i,o)},Ci=Ti.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Ti.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Ti.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Ct;for(var o in this._layers){var h=this._layers[o];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),kh=function(i,o){return new Ci(i,o)},Ii=Ht.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){tt(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,o){var h=this._getIconUrl(i);if(!h){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(h,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(f,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(i,o){var h=this.options,f=h[o+"Size"];typeof f=="number"&&(f=[f,f]);var _=$(f),g=$(o==="shadow"&&h.shadowAnchor||h.iconAnchor||_&&_.divideBy(2,!0));i.className="leaflet-marker-"+o+" "+(h.className||""),g&&(i.style.marginLeft=-g.x+"px",i.style.marginTop=-g.y+"px"),_&&(i.style.width=_.x+"px",i.style.height=_.y+"px")},_createImg:function(i,o){return o=o||document.createElement("img"),o.src=i,o},_getIconUrl:function(i){return Z.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Dh(i){return new Ii(i)}var tn=Ii.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof tn.imagePath!="string"&&(tn.imagePath=this._detectIconPath()),(this.options.imagePath||tn.imagePath)+Ii.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var o=function(h,f,_){var g=f.exec(h);return g&&g[_]};return i=o(i,/^url\((['"])?(.+)\1\)$/,2),i&&o(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=et("div","leaflet-default-icon-path",document.body),o=oi(i,"background-image")||oi(i,"backgroundImage");if(document.body.removeChild(i),o=this._stripUrl(o),o)return o;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),wr=de.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Re(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),H(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var o=this._marker,h=o._map,f=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,g=d(o._icon),w=h.getPixelBounds(),b=h.getPixelOrigin(),S=Jt(w.min._subtract(b).add(_),w.max._subtract(b).subtract(_));if(!S.contains(g)){var O=$((Math.max(S.max.x,g.x)-S.max.x)/(w.max.x-S.max.x)-(Math.min(S.min.x,g.x)-S.min.x)/(w.min.x-S.min.x),(Math.max(S.max.y,g.y)-S.max.y)/(w.max.y-S.max.y)-(Math.min(S.min.y,g.y)-S.min.y)/(w.min.y-S.min.y)).multiplyBy(f);h.panBy(O,{animate:!1}),this._draggable._newPos._add(O),this._draggable._startPos._add(O),u(o._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=kt(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Nt(this._panRequest),this._panRequest=kt(this._adjustPan.bind(this,i)))},_onDrag:function(i){var o=this._marker,h=o._shadow,f=d(o._icon),_=o._map.layerPointToLatLng(f);h&&u(h,f),o._latlng=_,i.latlng=_,i.oldLatLng=this._oldLatLng,o.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Nt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Jn=se.extend({options:{icon:new tn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,o){tt(this,o),this._latlng=vt(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var o=this._latlng;return this._latlng=vt(i),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),f=!1;h!==this._icon&&(this._icon&&this._removeIcon(),f=!0,i.title&&(h.title=i.title),h.tagName==="IMG"&&(h.alt=i.alt||"")),H(h,o),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&F(h,"focus",this._panOnFocus,this);var _=i.icon.createShadow(this._shadow),g=!1;_!==this._shadow&&(this._removeShadow(),g=!0),_&&(H(_,o),_.alt=""),this._shadow=_,i.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&g&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ut(this._icon,"focus",this._panOnFocus,this),K(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&K(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&u(this._icon,i),this._shadow&&u(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(o)},_initInteraction:function(){if(!!this.options.interactive&&(H(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),wr)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new wr(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&qt(this._icon,i),this._shadow&&qt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(!!i){var o=this.options.icon.options,h=o.iconSize?$(o.iconSize):$(0,0),f=o.iconAnchor?$(o.iconAnchor):$(0,0);i.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:h.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function zh(i,o){return new Jn(i,o)}var Xe=se.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return tt(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Kn=Xe.extend({options:{fill:!0,radius:10},initialize:function(i,o){tt(this,o),this._latlng=vt(i),this._radius=this.options.radius},setLatLng:function(i){var o=this._latlng;return this._latlng=vt(i),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var o=i&&i.radius||this._radius;return Xe.prototype.setStyle.call(this,i),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,o=this._radiusY||i,h=this._clickTolerance(),f=[i+h,o+h];this._pxBounds=new mt(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zh(i,o){return new Kn(i,o)}var ls=Kn.extend({initialize:function(i,o,h){if(typeof o=="number"&&(o=c({},h,{radius:o})),tt(this,o),this._latlng=vt(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Ct(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Xe.prototype.setStyle,_project:function(){var i=this._latlng.lng,o=this._latlng.lat,h=this._map,f=h.options.crs;if(f.distance===ce.distance){var _=Math.PI/180,g=this._mRadius/ce.R/_,w=h.project([o+g,i]),b=h.project([o-g,i]),S=w.add(b).divideBy(2),O=h.unproject(S).lat,z=Math.acos((Math.cos(g*_)-Math.sin(o*_)*Math.sin(O*_))/(Math.cos(o*_)*Math.cos(O*_)))/_;(isNaN(z)||z===0)&&(z=g/Math.cos(Math.PI/180*o)),this._point=S.subtract(h.getPixelOrigin()),this._radius=isNaN(z)?0:S.x-h.project([O,i-z]).x,this._radiusY=S.y-w.y}else{var Q=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Q).x}this._updateBounds()}});function Rh(i,o,h){return new ls(i,o,h)}var Te=Xe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,o){tt(this,o),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var o=1/0,h=null,f=Qi,_,g,w=0,b=this._parts.length;w<b;w++)for(var S=this._parts[w],O=1,z=S.length;O<z;O++){_=S[O-1],g=S[O];var Q=f(i,_,g,!0);Q<o&&(o=Q,h=f(i,_,g))}return h&&(h.distance=Math.sqrt(o)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var i,o,h,f,_,g,w,b=this._rings[0],S=b.length;if(!S)return null;for(i=0,o=0;i<S-1;i++)o+=b[i].distanceTo(b[i+1])/2;if(o===0)return this._map.layerPointToLatLng(b[0]);for(i=0,f=0;i<S-1;i++)if(_=b[i],g=b[i+1],h=_.distanceTo(g),f+=h,f>o)return w=(f-o)/h,this._map.layerPointToLatLng([g.x-w*(g.x-_.x),g.y-w*(g.y-_.y)])},getBounds:function(){return this._bounds},addLatLng:function(i,o){return o=o||this._defaultShape(),i=vt(i),o.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Ct,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Le(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var o=[],h=Le(i),f=0,_=i.length;f<_;f++)h?(o[f]=vt(i[f]),this._bounds.extend(o[f])):o[f]=this._convertLatLngs(i[f]);return o},_project:function(){var i=new mt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),o=new W(i,i);!this._rawPxBounds||(this._pxBounds=new mt([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(i,o,h){var f=i[0]instanceof ht,_=i.length,g,w;if(f){for(w=[],g=0;g<_;g++)w[g]=this._map.latLngToLayerPoint(i[g]),h.extend(w[g]);o.push(w)}else for(g=0;g<_;g++)this._projectLatlngs(i[g],o,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,h,f,_,g,w,b,S;for(h=0,_=0,g=this._rings.length;h<g;h++)for(S=this._rings[h],f=0,w=S.length;f<w-1;f++)b=gr(S[f],S[f+1],i,f,!0),b&&(o[_]=o[_]||[],o[_].push(b[0]),(b[1]!==S[f+1]||f===w-2)&&(o[_].push(b[1]),_++))}},_simplifyPoints:function(){for(var i=this._parts,o=this.options.smoothFactor,h=0,f=i.length;h<f;h++)i[h]=pr(i[h],o)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,o){var h,f,_,g,w,b,S=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,g=this._parts.length;h<g;h++)for(b=this._parts[h],f=0,w=b.length,_=w-1;f<w;_=f++)if(!(!o&&f===0)&&mr(i,b[_],b[f])<=S)return!0;return!1}});function Xh(i,o){return new Te(i,o)}Te._flat=yr;var bi=Te.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var i,o,h,f,_,g,w,b,S,O=this._rings[0],z=O.length;if(!z)return null;for(g=w=b=0,i=0,o=z-1;i<z;o=i++)h=O[i],f=O[o],_=h.y*f.x-f.y*h.x,w+=(h.x+f.x)*_,b+=(h.y+f.y)*_,g+=_*3;return g===0?S=O[0]:S=[w/g,b/g],this._map.layerPointToLatLng(S)},_convertLatLngs:function(i){var o=Te.prototype._convertLatLngs.call(this,i),h=o.length;return h>=2&&o[0]instanceof ht&&o[0].equals(o[h-1])&&o.pop(),o},_setLatLngs:function(i){Te.prototype._setLatLngs.call(this,i),Le(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Le(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,o=this.options.weight,h=new W(o,o);if(i=new mt(i.min.subtract(h),i.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,_=this._rings.length,g;f<_;f++)g=Pr(this._rings[f],i,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var o=!1,h,f,_,g,w,b,S,O;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(g=0,S=this._parts.length;g<S;g++)for(h=this._parts[g],w=0,O=h.length,b=O-1;w<O;b=w++)f=h[w],_=h[b],f.y>i.y!=_.y>i.y&&i.x<(_.x-f.x)*(i.y-f.y)/(_.y-f.y)+f.x&&(o=!o);return o||Te.prototype._containsPoint.call(this,i,!0)}});function Yh(i,o){return new bi(i,o)}var Ce=Ci.extend({initialize:function(i,o){tt(this,o),this._layers={},i&&this.addData(i)},addData:function(i){var o=Wt(i)?i:i.features,h,f,_;if(o){for(h=0,f=o.length;h<f;h++)_=o[h],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var g=this.options;if(g.filter&&!g.filter(i))return this;var w=us(i,g);return w?(w.feature=Qn(i),w.defaultOptions=w.options,this.resetStyle(w),g.onEachFeature&&g.onEachFeature(i,w),this.addLayer(w)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=c({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(o){this._setLayerStyle(o,i)},this)},_setLayerStyle:function(i,o){i.setStyle&&(typeof o=="function"&&(o=o(i.feature)),i.setStyle(o))}});function us(i,o){var h=i.type==="Feature"?i.geometry:i,f=h?h.coordinates:null,_=[],g=o&&o.pointToLayer,w=o&&o.coordsToLatLng||fs,b,S,O,z;if(!f&&!h)return null;switch(h.type){case"Point":return b=w(f),Lr(g,i,b,o);case"MultiPoint":for(O=0,z=f.length;O<z;O++)b=w(f[O]),_.push(Lr(g,i,b,o));return new Ci(_);case"LineString":case"MultiLineString":return S=jn(f,h.type==="LineString"?0:1,w),new Te(S,o);case"Polygon":case"MultiPolygon":return S=jn(f,h.type==="Polygon"?1:2,w),new bi(S,o);case"GeometryCollection":for(O=0,z=h.geometries.length;O<z;O++){var Q=us({geometry:h.geometries[O],type:"Feature",properties:i.properties},o);Q&&_.push(Q)}return new Ci(_);default:throw new Error("Invalid GeoJSON object.")}}function Lr(i,o,h,f){return i?i(o,h):new Jn(h,f&&f.markersInheritOptions&&f)}function fs(i){return new ht(i[1],i[0],i[2])}function jn(i,o,h){for(var f=[],_=0,g=i.length,w;_<g;_++)w=o?jn(i[_],o-1,h):(h||fs)(i[_]),f.push(w);return f}function cs(i,o){return i=vt(i),i.alt!==void 0?[D(i.lng,o),D(i.lat,o),D(i.alt,o)]:[D(i.lng,o),D(i.lat,o)]}function $n(i,o,h,f){for(var _=[],g=0,w=i.length;g<w;g++)_.push(o?$n(i[g],o-1,h,f):cs(i[g],f));return!o&&h&&_.push(_[0]),_}function Si(i,o){return i.feature?c({},i.feature,{geometry:o}):Qn(o)}function Qn(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var ds={toGeoJSON:function(i){return Si(this,{type:"Point",coordinates:cs(this.getLatLng(),i)})}};Jn.include(ds),ls.include(ds),Kn.include(ds),Te.include({toGeoJSON:function(i){var o=!Le(this._latlngs),h=$n(this._latlngs,o?1:0,!1,i);return Si(this,{type:(o?"Multi":"")+"LineString",coordinates:h})}}),bi.include({toGeoJSON:function(i){var o=!Le(this._latlngs),h=o&&!Le(this._latlngs[0]),f=$n(this._latlngs,h?2:o?1:0,!0,i);return o||(f=[f]),Si(this,{type:(h?"Multi":"")+"Polygon",coordinates:f})}}),Ti.include({toMultiPoint:function(i){var o=[];return this.eachLayer(function(h){o.push(h.toGeoJSON(i).geometry.coordinates)}),Si(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(i){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(i);var h=o==="GeometryCollection",f=[];return this.eachLayer(function(_){if(_.toGeoJSON){var g=_.toGeoJSON(i);if(h)f.push(g.geometry);else{var w=Qn(g);w.type==="FeatureCollection"?f.push.apply(f,w.features):f.push(w)}}}),h?Si(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function Tr(i,o){return new Ce(i,o)}var Fh=Tr,to=se.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,o,h){this._url=i,this._bounds=Mt(o),tt(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(H(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){K(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&ze(this._image),this},bringToBack:function(){return this._map&&Ze(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=Mt(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",o=this._image=i?this._url:et("img");if(H(o,"leaflet-image-layer"),this._zoomAnimated&&H(o,"leaflet-zoom-animated"),this.options.className&&H(o,this.options.className),o.onselectstart=N,o.onmousemove=N,o.onload=y(this.fire,this,"load"),o.onerror=y(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(i){var o=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;a(this._image,h,o)},_reset:function(){var i=this._image,o=new mt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=o.getSize();u(i,o.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){qt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Wh=function(i,o,h){return new to(i,o,h)},Cr=to.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",o=this._image=i?this._url:et("video");if(H(o,"leaflet-image-layer"),this._zoomAnimated&&H(o,"leaflet-zoom-animated"),this.options.className&&H(o,this.options.className),o.onselectstart=N,o.onmousemove=N,o.onloadeddata=y(this.fire,this,"load"),i){for(var h=o.getElementsByTagName("source"),f=[],_=0;_<h.length;_++)f.push(h[_].src);this._url=h.length>0?f:[o.src];return}Wt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var w=et("source");w.src=this._url[g],o.appendChild(w)}}});function Hh(i,o,h){return new Cr(i,o,h)}var Ir=to.extend({_initImage:function(){var i=this._image=this._url;H(i,"leaflet-image-layer"),this._zoomAnimated&&H(i,"leaflet-zoom-animated"),this.options.className&&H(i,this.options.className),i.onselectstart=N,i.onmousemove=N}});function qh(i,o,h){return new Ir(i,o,h)}var _e=se.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(i,o){tt(this,i),this._source=o},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&qt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&qt(this._container,1),this.bringToFront(),this.options.interactive&&(H(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(qt(this._container,0),this._removeTimeout=setTimeout(y(K,void 0,this._container),200)):K(this._container),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=vt(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ze(this._container),this},bringToBack:function(){return this._map&&Ze(this._container),this},_prepareOpen:function(i){var o=this._source;if(!o._map)return!1;if(o instanceof Ci){o=null;var h=this._source._layers;for(var f in h)if(h[f]._map){o=h[f];break}if(!o)return!1;this._source=o}if(!i)if(o.getCenter)i=o.getCenter();else if(o.getLatLng)i=o.getLatLng();else if(o.getBounds)i=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var i=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")i.innerHTML=o;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var i=this._map.latLngToLayerPoint(this._latlng),o=$(this.options.offset),h=this._getAnchor();this._zoomAnimated?u(this._container,i.add(h)):o=o.add(i).add(h);var f=this._containerBottom=-o.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=f+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});it.include({_initOverlay:function(i,o,h,f){var _=o;return _ instanceof i||(_=new i(f).setContent(o)),h&&_.setLatLng(h),_}}),se.include({_initOverlay:function(i,o,h,f){var _=h;return _ instanceof i?(tt(_,f),_._source=this):(_=o&&!f?o:new i(f,this),_.setContent(h)),_}});var eo=_e.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,_e.prototype.openOn.call(this,i)},onAdd:function(i){_e.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xe||this._source.on("preclick",si))},onRemove:function(i){_e.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xe||this._source.off("preclick",si))},getEvents:function(){var i=_e.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",o=this._container=et("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=et("div",i+"-content-wrapper",o);if(this._contentNode=et("div",i+"-content",h),ji(o),is(this._contentNode),F(o,"contextmenu",si),this._tipContainer=et("div",i+"-tip-container",o),this._tip=et("div",i+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=et("a",i+"-close-button",o);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',F(f,"click",this.close,this)}},_updateLayout:function(){var i=this._contentNode,o=i.style;o.width="",o.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),o.width=h+1+"px",o.whiteSpace="",o.height="";var f=i.offsetHeight,_=this.options.maxHeight,g="leaflet-popup-scrolled";_&&f>_?(o.height=_+"px",H(i,g)):wt(i,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();u(this._container,o.add(h))},_adjustPan:function(i){if(!!this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var o=this._map,h=parseInt(oi(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+h,_=this._containerWidth,g=new W(this._containerLeft,-f-this._containerBottom);g._add(d(this._container));var w=o.layerPointToContainerPoint(g),b=$(this.options.autoPanPadding),S=$(this.options.autoPanPaddingTopLeft||b),O=$(this.options.autoPanPaddingBottomRight||b),z=o.getSize(),Q=0,nt=0;w.x+_+O.x>z.x&&(Q=w.x+_-z.x+O.x),w.x-Q-S.x<0&&(Q=w.x-S.x),w.y+f+O.y>z.y&&(nt=w.y+f-z.y+O.y),w.y-nt-S.y<0&&(nt=w.y-S.y),(Q||nt)&&o.fire("autopanstart").panBy([Q,nt],{animate:i&&i.type==="moveend"})}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Uh=function(i,o){return new eo(i,o)};it.mergeOptions({closePopupOnClick:!0}),it.include({openPopup:function(i,o,h){return this._initOverlay(eo,i,o,h).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),se.include({bindPopup:function(i,o){return this._popup=this._initOverlay(eo,this._popup,i,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&this._popup._prepareOpen(i)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){ri(i);var o=i.layer||i.target;if(this._popup._source===o&&!(o instanceof Xe)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=o,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var io=_e.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){_e.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){_e.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=_e.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",o=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=et("div",o)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var o,h,f=this._map,_=this._container,g=f.latLngToContainerPoint(f.getCenter()),w=f.layerPointToContainerPoint(i),b=this.options.direction,S=_.offsetWidth,O=_.offsetHeight,z=$(this.options.offset),Q=this._getAnchor();b==="top"?(o=S/2,h=O):b==="bottom"?(o=S/2,h=0):b==="center"?(o=S/2,h=O/2):b==="right"?(o=0,h=O/2):b==="left"?(o=S,h=O/2):w.x<g.x?(b="right",o=0,h=O/2):(b="left",o=S+(z.x+Q.x)*2,h=O/2),i=i.subtract($(o,h,!0)).add(z).add(Q),wt(_,"leaflet-tooltip-right"),wt(_,"leaflet-tooltip-left"),wt(_,"leaflet-tooltip-top"),wt(_,"leaflet-tooltip-bottom"),H(_,"leaflet-tooltip-"+b),u(_,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&qt(this._container,i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(o)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Gh=function(i,o){return new io(i,o)};it.include({openTooltip:function(i,o,h){return this._initOverlay(io,i,o,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),se.include({bindTooltip:function(i,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(io,this._tooltip,i,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var o=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[o](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&this._tooltip._prepareOpen(i)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_openTooltip:function(i){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0))},_moveTooltip:function(i){var o=i.latlng,h,f;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),f=this._map.containerPointToLayerPoint(h),o=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(o)}});var br=Ii.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var o=i&&i.tagName==="DIV"?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(wi(o),o.appendChild(h.html)):o.innerHTML=h.html!==!1?h.html:"",h.bgPos){var f=$(h.bgPos);o.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function Vh(i){return new br(i)}Ii.Default=tn;var en=se.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){tt(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),K(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ze(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ze(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof W?i:new W(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var o=this.getPane().children,h=-i(-1/0,1/0),f=0,_=o.length,g;f<_;f++)g=o[f].style.zIndex,o[f]!==this._container&&g&&(h=i(h,+g));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!Z.ielt9){qt(this._container,this.options.opacity);var i=+new Date,o=!1,h=!1;for(var f in this._tiles){var _=this._tiles[f];if(!(!_.current||!_.loaded)){var g=Math.min(1,(i-_.loaded)/200);qt(_.el,g),g<1?o=!0:(_.active?h=!0:this._onOpaqueTile(_),_.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),o&&(Nt(this._fadeFrame),this._fadeFrame=kt(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=et("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,o=this.options.maxZoom;if(i!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=o-Math.abs(i-h),this._onUpdateLevel(h)):(K(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var f=this._levels[i],_=this._map;return f||(f=this._levels[i]={},f.el=et("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=o,f.origin=_.project(_.unproject(_.getPixelOrigin()),i).round(),f.zoom=i,this._setZoomTransform(f,_.getCenter(),_.getZoom()),N(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(!!this._map){var i,o,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)o=this._tiles[i],o.retain=o.current;for(i in this._tiles)if(o=this._tiles[i],o.current&&!o.active){var f=o.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var o in this._tiles)this._tiles[o].coords.z===i&&this._removeTile(o)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)K(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,o,h,f){var _=Math.floor(i/2),g=Math.floor(o/2),w=h-1,b=new W(+_,+g);b.z=+w;var S=this._tileCoordsToKey(b),O=this._tiles[S];return O&&O.active?(O.retain=!0,!0):(O&&O.loaded&&(O.retain=!0),w>f?this._retainParent(_,g,w,f):!1)},_retainChildren:function(i,o,h,f){for(var _=2*i;_<2*i+2;_++)for(var g=2*o;g<2*o+2;g++){var w=new W(_,g);w.z=h+1;var b=this._tileCoordsToKey(w),S=this._tiles[b];if(S&&S.active){S.retain=!0;continue}else S&&S.loaded&&(S.retain=!0);h+1<f&&this._retainChildren(_,g,h+1,f)}},_resetView:function(i){var o=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var o=this.options;return o.minNativeZoom!==void 0&&i<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<i?o.maxNativeZoom:i},_setView:function(i,o,h,f){var _=Math.round(o);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var g=this.options.updateWhenZooming&&_!==this._tileZoom;(!f||g)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,o)},_setZoomTransforms:function(i,o){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,o)},_setZoomTransform:function(i,o,h){var f=this._map.getZoomScale(h,i.zoom),_=i.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(o,h)).round();Z.any3d?a(i.el,_,f):u(i.el,_)},_resetGrid:function(){var i=this._map,o=i.options.crs,h=this._tileSize=this.getTileSize(),f=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,o.wrapLng[0]],f).x/h.x),Math.ceil(i.project([0,o.wrapLng[1]],f).x/h.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([o.wrapLat[0],0],f).y/h.x),Math.ceil(i.project([o.wrapLat[1],0],f).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var o=this._map,h=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),f=o.getZoomScale(h,this._tileZoom),_=o.project(i,this._tileZoom).floor(),g=o.getSize().divideBy(f*2);return new mt(_.subtract(g),_.add(g))},_update:function(i){var o=this._map;if(!!o){var h=this._clampZoom(o.getZoom());if(i===void 0&&(i=o.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(i),_=this._pxBoundsToTileRange(f),g=_.getCenter(),w=[],b=this.options.keepBuffer,S=new mt(_.getBottomLeft().subtract([b,-b]),_.getTopRight().add([b,-b]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var O in this._tiles){var z=this._tiles[O].coords;(z.z!==this._tileZoom||!S.contains(new W(z.x,z.y)))&&(this._tiles[O].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(i,h);return}for(var Q=_.min.y;Q<=_.max.y;Q++)for(var nt=_.min.x;nt<=_.max.x;nt++){var be=new W(nt,Q);if(be.z=this._tileZoom,!!this._isValidTile(be)){var hi=this._tiles[this._tileCoordsToKey(be)];hi?hi.current=!0:w.push(be)}}if(w.sort(function(Ye,_s){return Ye.distanceTo(g)-_s.distanceTo(g)}),w.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var oo=document.createDocumentFragment();for(nt=0;nt<w.length;nt++)this._addTile(w[nt],oo);this._level.el.appendChild(oo)}}}},_isValidTile:function(i){var o=this._map.options.crs;if(!o.infinite){var h=this._globalTileRange;if(!o.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!o.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(i);return Mt(this.options.bounds).overlaps(f)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var o=this._map,h=this.getTileSize(),f=i.scaleBy(h),_=f.add(h),g=o.unproject(f,i.z),w=o.unproject(_,i.z);return[g,w]},_tileCoordsToBounds:function(i){var o=this._tileCoordsToNwSe(i),h=new Ct(o[0],o[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var o=i.split(":"),h=new W(+o[0],+o[1]);return h.z=+o[2],h},_removeTile:function(i){var o=this._tiles[i];!o||(K(o.el),delete this._tiles[i],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){H(i,"leaflet-tile");var o=this.getTileSize();i.style.width=o.x+"px",i.style.height=o.y+"px",i.onselectstart=N,i.onmousemove=N,Z.ielt9&&this.options.opacity<1&&qt(i,this.options.opacity)},_addTile:function(i,o){var h=this._getTilePos(i),f=this._tileCoordsToKey(i),_=this.createTile(this._wrapCoords(i),y(this._tileReady,this,i));this._initTile(_),this.createTile.length<2&&kt(y(this._tileReady,this,i,null,_)),u(_,h),this._tiles[f]={el:_,coords:i,current:!0},o.appendChild(_),this.fire("tileloadstart",{tile:_,coords:i})},_tileReady:function(i,o,h){o&&this.fire("tileerror",{error:o,tile:h,coords:i});var f=this._tileCoordsToKey(i);h=this._tiles[f],h&&(h.loaded=+new Date,this._map._fadeAnimated?(qt(h.el,0),Nt(this._fadeFrame),this._fadeFrame=kt(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),o||(H(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Z.ielt9||!this._map._fadeAnimated?kt(this._pruneTiles,this):setTimeout(y(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var o=new W(this._wrapX?B(i.x,this._wrapX):i.x,this._wrapY?B(i.y,this._wrapY):i.y);return o.z=i.z,o},_pxBoundsToTileRange:function(i){var o=this.getTileSize();return new mt(i.min.unscaleBy(o).floor(),i.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Jh(i){return new en(i)}var Ei=en.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,o){this._url=i,o=tt(this,o),o.detectRetina&&Z.retina&&o.maxZoom>0&&(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom++):(o.zoomOffset++,o.maxZoom--),o.minZoom=Math.max(0,o.minZoom)),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,o){return this._url===i&&o===void 0&&(o=!0),this._url=i,o||this.redraw(),this},createTile:function(i,o){var h=document.createElement("img");return F(h,"load",y(this._tileOnLoad,this,o,h)),F(h,"error",y(this._tileOnError,this,o,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.setAttribute("role","presentation"),h.src=this.getTileUrl(i),h},getTileUrl:function(i){var o={r:Z.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(o.y=h),o["-y"]=h}return Je(this._url,c(o,this.options))},_tileOnLoad:function(i,o){Z.ielt9?setTimeout(y(i,this,null,o),0):i(null,o)},_tileOnError:function(i,o,h){var f=this.options.errorTileUrl;f&&o.getAttribute("src")!==f&&(o.src=f),i(h,o)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,o=this.options.maxZoom,h=this.options.zoomReverse,f=this.options.zoomOffset;return h&&(i=o-i),i+f},_getSubdomain:function(i){var o=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var i,o;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(o=this._tiles[i].el,o.onload=N,o.onerror=N,!o.complete)){o.src=Xt;var h=this._tiles[i].coords;K(o),delete this._tiles[i],this.fire("tileabort",{tile:o,coords:h})}},_removeTile:function(i){var o=this._tiles[i];if(!!o)return o.el.setAttribute("src",Xt),en.prototype._removeTile.call(this,i)},_tileReady:function(i,o,h){if(!(!this._map||h&&h.getAttribute("src")===Xt))return en.prototype._tileReady.call(this,i,o,h)}});function Sr(i,o){return new Ei(i,o)}var Er=Ei.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,o){this._url=i;var h=c({},this.defaultWmsParams);for(var f in o)f in this.options||(h[f]=o[f]);o=tt(this,o);var _=o.detectRetina&&Z.retina?2:1,g=this.getTileSize();h.width=g.x*_,h.height=g.y*_,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,Ei.prototype.onAdd.call(this,i)},getTileUrl:function(i){var o=this._tileCoordsToNwSe(i),h=this._crs,f=Jt(h.project(o[0]),h.project(o[1])),_=f.min,g=f.max,w=(this._wmsVersion>=1.3&&this._crs===xr?[_.y,_.x,g.y,g.x]:[_.x,_.y,g.x,g.y]).join(","),b=Ei.prototype.getTileUrl.call(this,i);return b+yt(this.wmsParams,b,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(i,o){return c(this.wmsParams,i),o||this.redraw(),this}});function Kh(i,o){return new Er(i,o)}Ei.WMS=Er,Sr.wms=Kh;var Ie=se.extend({options:{padding:.1},initialize:function(i){tt(this,i),T(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&H(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,o){var h=this._map.getZoomScale(o,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,o),g=f.multiplyBy(-h).add(_).subtract(this._map._getNewPixelOrigin(i,o));Z.any3d?a(this._container,g,h):u(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,o=this._map.getSize(),h=this._map.containerPointToLayerPoint(o.multiplyBy(-i)).round();this._bounds=new mt(h,h.add(o.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Mr=Ie.extend({options:{tolerance:0},getEvents:function(){var i=Ie.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ie.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");F(i,"mousemove",this._onMouseMove,this),F(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),F(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Nt(this._redrawRequest),delete this._ctx,K(this._container),ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var o in this._layers)i=this._layers[o],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ie.prototype._update.call(this);var i=this._bounds,o=this._container,h=i.getSize(),f=Z.retina?2:1;u(o,i.min),o.width=f*h.x,o.height=f*h.y,o.style.width=h.x+"px",o.style.height=h.y+"px",Z.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Ie.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[T(i)]=i;var o=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var o=i._order,h=o.next,f=o.prev;h?h.prev=f:this._drawLast=f,f?f.next=h:this._drawFirst=h,delete i._order,delete this._layers[T(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var o=i.options.dashArray.split(/[, ]+/),h=[],f,_;for(_=0;_<o.length;_++){if(f=Number(o[_]),isNaN(f))return;h.push(f)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){!this._map||(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||kt(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var o=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new mt,this._redrawBounds.extend(i._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(i._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var o=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,o=this._redrawBounds;if(this._ctx.save(),o){var h=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)i=f.layer,(!o||i._pxBounds&&i._pxBounds.intersects(o))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,o){if(!!this._drawing){var h,f,_,g,w=i._parts,b=w.length,S=this._ctx;if(!!b){for(S.beginPath(),h=0;h<b;h++){for(f=0,_=w[h].length;f<_;f++)g=w[h][f],S[f?"lineTo":"moveTo"](g.x,g.y);o&&S.closePath()}this._fillStroke(S,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var o=i._point,h=this._ctx,f=Math.max(Math.round(i._radius),1),_=(Math.max(Math.round(i._radiusY),1)||f)/f;_!==1&&(h.save(),h.scale(1,_)),h.beginPath(),h.arc(o.x,o.y/_,f,0,Math.PI*2,!1),_!==1&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,o){var h=o.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(i.setLineDash&&i.setLineDash(o.options&&o.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var o=this._map.mouseEventToLayerPoint(i),h,f,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(o)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(h))&&(f=h);this._fireEvent(f?[f]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,o)}},_handleMouseOut:function(i){var o=this._hoveredLayer;o&&(wt(this._container,"leaflet-interactive"),this._fireEvent([o],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,o){if(!this._mouseHoverThrottled){for(var h,f,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(o)&&(f=h);f!==this._hoveredLayer&&(this._handleMouseOut(i),f&&(H(this._container,"leaflet-interactive"),this._fireEvent([f],i,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(y(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,o,h){this._map._fireDOMEvent(o,h||o.type,i)},_bringToFront:function(i){var o=i._order;if(!!o){var h=o.next,f=o.prev;if(h)h.prev=f;else return;f?f.next=h:h&&(this._drawFirst=h),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(i)}},_bringToBack:function(i){var o=i._order;if(!!o){var h=o.next,f=o.prev;if(f)f.next=h;else return;h?h.prev=f:f&&(this._drawLast=f),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(i)}}});function Or(i){return Z.canvas?new Mr(i):null}var nn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),jh={_initContainer:function(){this._container=et("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ie.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var o=i._container=nn("shape");H(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",i._path=nn("path"),o.appendChild(i._path),this._updateStyle(i),this._layers[T(i)]=i},_addPath:function(i){var o=i._container;this._container.appendChild(o),i.options.interactive&&i.addInteractiveTarget(o)},_removePath:function(i){var o=i._container;K(o),i.removeInteractiveTarget(o),delete this._layers[T(i)]},_updateStyle:function(i){var o=i._stroke,h=i._fill,f=i.options,_=i._container;_.stroked=!!f.stroke,_.filled=!!f.fill,f.stroke?(o||(o=i._stroke=nn("stroke")),_.appendChild(o),o.weight=f.weight+"px",o.color=f.color,o.opacity=f.opacity,f.dashArray?o.dashStyle=Wt(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=f.lineCap.replace("butt","flat"),o.joinstyle=f.lineJoin):o&&(_.removeChild(o),i._stroke=null),f.fill?(h||(h=i._fill=nn("fill")),_.appendChild(h),h.color=f.fillColor||f.color,h.opacity=f.fillOpacity):h&&(_.removeChild(h),i._fill=null)},_updateCircle:function(i){var o=i._point.round(),h=Math.round(i._radius),f=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+o.x+","+o.y+" "+h+","+f+" 0,"+65535*360)},_setPath:function(i,o){i._path.v=o},_bringToFront:function(i){ze(i._container)},_bringToBack:function(i){Ze(i._container)}},no=Z.vml?nn:Tn,on=Ie.extend({_initContainer:function(){this._container=no("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=no("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){K(this._container),ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ie.prototype._update.call(this);var i=this._bounds,o=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,h.setAttribute("width",o.x),h.setAttribute("height",o.y)),u(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(i){var o=i._path=no("path");i.options.className&&H(o,i.options.className),i.options.interactive&&H(o,"leaflet-interactive"),this._updateStyle(i),this._layers[T(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){K(i._path),i.removeInteractiveTarget(i._path),delete this._layers[T(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var o=i._path,h=i.options;!o||(h.stroke?(o.setAttribute("stroke",h.color),o.setAttribute("stroke-opacity",h.opacity),o.setAttribute("stroke-width",h.weight),o.setAttribute("stroke-linecap",h.lineCap),o.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?o.setAttribute("stroke-dasharray",h.dashArray):o.removeAttribute("stroke-dasharray"),h.dashOffset?o.setAttribute("stroke-dashoffset",h.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),h.fill?(o.setAttribute("fill",h.fillColor||h.color),o.setAttribute("fill-opacity",h.fillOpacity),o.setAttribute("fill-rule",h.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(i,o){this._setPath(i,Cn(i._parts,o))},_updateCircle:function(i){var o=i._point,h=Math.max(Math.round(i._radius),1),f=Math.max(Math.round(i._radiusY),1)||h,_="a"+h+","+f+" 0 1,0 ",g=i._empty()?"M0 0":"M"+(o.x-h)+","+o.y+_+h*2+",0 "+_+-h*2+",0 ";this._setPath(i,g)},_setPath:function(i,o){i._path.setAttribute("d",o)},_bringToFront:function(i){ze(i._path)},_bringToBack:function(i){Ze(i._path)}});Z.vml&&on.include(jh);function Ar(i){return Z.svg||Z.vml?new on(i):null}it.include({getRenderer:function(i){var o=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var o=this._paneRenderers[i];return o===void 0&&(o=this._createRenderer({pane:i}),this._paneRenderers[i]=o),o},_createRenderer:function(i){return this.options.preferCanvas&&Or(i)||Ar(i)}});var Br=bi.extend({initialize:function(i,o){bi.prototype.initialize.call(this,this._boundsToLatLngs(i),o)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=Mt(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function $h(i,o){return new Br(i,o)}on.create=no,on.pointsToPath=Cn,Ce.geometryToLayer=us,Ce.coordsToLatLng=fs,Ce.coordsToLatLngs=jn,Ce.latLngToCoords=cs,Ce.latLngsToCoords=$n,Ce.getFeature=Si,Ce.asFeature=Qn,it.mergeOptions({boxZoom:!0});var Nr=de.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){F(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){K(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),m(),I(),this._startPoint=this._map.mouseEventToContainerPoint(i),F(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=et("div","leaflet-zoom-box",this._container),H(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var o=new mt(this._point,this._startPoint),h=o.getSize();u(this._box,o.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(K(this._box),wt(this._container,"leaflet-crosshair")),v(),M(),ut(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(y(this._resetState,this),0);var o=new Ct(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});it.addInitHook("addHandler","boxZoom",Nr),it.mergeOptions({doubleClickZoom:!0});var kr=de.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var o=this._map,h=o.getZoom(),f=o.options.zoomDelta,_=i.originalEvent.shiftKey?h-f:h+f;o.options.doubleClickZoom==="center"?o.setZoom(_):o.setZoomAround(i.containerPoint,_)}});it.addInitHook("addHandler","doubleClickZoom",kr),it.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Dr=de.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Re(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}H(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wt(this._map._container,"leaflet-grab"),wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=Mt(this._map.options.maxBounds);this._offsetLimit=Jt(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var o=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(o),this._prunePositions(o)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,o){return i-(i-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;i.x<o.min.x&&(i.x=this._viscousLimit(i.x,o.min.x)),i.y<o.min.y&&(i.y=this._viscousLimit(i.y,o.min.y)),i.x>o.max.x&&(i.x=this._viscousLimit(i.x,o.max.x)),i.y>o.max.y&&(i.y=this._viscousLimit(i.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,o=Math.round(i/2),h=this._initialWorldOffset,f=this._draggable._newPos.x,_=(f-o+h)%i+o-h,g=(f+o+h)%i-o-h,w=Math.abs(_+h)<Math.abs(g+h)?_:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(i){var o=this._map,h=o.options,f=!h.inertia||i.noInertia||this._times.length<2;if(o.fire("dragend",i),f)o.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,w=h.easeLinearity,b=_.multiplyBy(w/g),S=b.distanceTo([0,0]),O=Math.min(h.inertiaMaxSpeed,S),z=b.multiplyBy(O/S),Q=O/(h.inertiaDeceleration*w),nt=z.multiplyBy(-Q/2).round();!nt.x&&!nt.y?o.fire("moveend"):(nt=o._limitOffset(nt,o.options.maxBounds),kt(function(){o.panBy(nt,{duration:Q,easeLinearity:w,noMoveStart:!0,animate:!0})}))}}});it.addInitHook("addHandler","dragging",Dr),it.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zr=de.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),F(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,o=document.documentElement,h=i.scrollTop||o.scrollTop,f=i.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(f,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var o=this._panKeys={},h=this.keyCodes,f,_;for(f=0,_=h.left.length;f<_;f++)o[h.left[f]]=[-1*i,0];for(f=0,_=h.right.length;f<_;f++)o[h.right[f]]=[i,0];for(f=0,_=h.down.length;f<_;f++)o[h.down[f]]=[0,i];for(f=0,_=h.up.length;f<_;f++)o[h.up[f]]=[0,-1*i]},_setZoomDelta:function(i){var o=this._zoomKeys={},h=this.keyCodes,f,_;for(f=0,_=h.zoomIn.length;f<_;f++)o[h.zoomIn[f]]=i;for(f=0,_=h.zoomOut.length;f<_;f++)o[h.zoomOut[f]]=-i},_addHooks:function(){F(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var o=i.keyCode,h=this._map,f;if(o in this._panKeys)(!h._panAnim||!h._panAnim._inProgress)&&(f=this._panKeys[o],i.shiftKey&&(f=$(f).multiplyBy(3)),h.panBy(f),h.options.maxBounds&&h.panInsideBounds(h.options.maxBounds));else if(o in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;ri(i)}}});it.addInitHook("addHandler","keyboard",zr),it.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Zr=de.extend({addHooks:function(){F(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var o=ur(i),h=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var f=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(y(this._performZoom,this),f),ri(i)},_performZoom:function(){var i=this._map,o=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,g=h?Math.ceil(_/h)*h:_,w=i._limitZoom(o+(this._delta>0?g:-g))-o;this._delta=0,this._startTime=null,w&&(i.options.scrollWheelZoom==="center"?i.setZoom(o+w):i.setZoomAround(this._lastMousePos,o+w))}});it.addInitHook("addHandler","scrollWheelZoom",Zr);var Qh=600;it.mergeOptions({tapHold:Z.touchNative&&Z.safari&&Z.mobile,tapTolerance:15});var Rr=de.extend({addHooks:function(){F(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var o=i.touches[0];this._startPos=this._newPos=new W(o.clientX,o.clientY),this._holdTimeout=setTimeout(y(function(){this._cancel(),this._isTapValid()&&(F(document,"touchend",Yt),F(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),Qh),F(document,"touchend touchcancel contextmenu",this._cancel,this),F(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){ut(document,"touchend",Yt),ut(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),ut(document,"touchend touchcancel contextmenu",this._cancel,this),ut(document,"touchmove",this._onMove,this)},_onMove:function(i){var o=i.touches[0];this._newPos=new W(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,o){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});h._simulated=!0,o.target.dispatchEvent(h)}});it.addInitHook("addHandler","tapHold",Rr),it.mergeOptions({touchZoom:Z.touch,bounceAtZoomLimits:!0});var Xr=de.extend({addHooks:function(){H(this._map._container,"leaflet-touch-zoom"),F(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var o=this._map;if(!(!i.touches||i.touches.length!==2||o._animatingZoom||this._zooming)){var h=o.mouseEventToContainerPoint(i.touches[0]),f=o.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(h.add(f)._divideBy(2))),this._startDist=h.distanceTo(f),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),F(document,"touchmove",this._onTouchMove,this),F(document,"touchend touchcancel",this._onTouchEnd,this),Yt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var o=this._map,h=o.mouseEventToContainerPoint(i.touches[0]),f=o.mouseEventToContainerPoint(i.touches[1]),_=h.distanceTo(f)/this._startDist;if(this._zoom=o.getScaleZoom(_,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&_<1||this._zoom>o.getMaxZoom()&&_>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var g=h._add(f)._divideBy(2)._subtract(this._centerPoint);if(_===1&&g.x===0&&g.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),Nt(this._animRequest);var w=y(o._move,o,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=kt(w,this,!0),Yt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Nt(this._animRequest),ut(document,"touchmove",this._onTouchMove,this),ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});it.addInitHook("addHandler","touchZoom",Xr),it.BoxZoom=Nr,it.DoubleClickZoom=kr,it.Drag=Dr,it.Keyboard=zr,it.ScrollWheelZoom=Zr,it.TapHold=Rr,it.TouchZoom=Xr,r.Bounds=mt,r.Browser=Z,r.CRS=ie,r.Canvas=Mr,r.Circle=ls,r.CircleMarker=Kn,r.Class=Ht,r.Control=oe,r.DivIcon=br,r.DivOverlay=_e,r.DomEvent=vh,r.DomUtil=zt,r.Draggable=Re,r.Evented=ti,r.FeatureGroup=Ci,r.GeoJSON=Ce,r.GridLayer=en,r.Handler=de,r.Icon=Ii,r.ImageOverlay=to,r.LatLng=ht,r.LatLngBounds=Ct,r.Layer=se,r.LayerGroup=Ti,r.LineUtil=Eh,r.Map=it,r.Marker=Jn,r.Mixin=Th,r.Path=Xe,r.Point=W,r.PolyUtil=Mh,r.Polygon=bi,r.Polyline=Te,r.Popup=eo,r.PosAnimation=fr,r.Projection=Oh,r.Rectangle=Br,r.Renderer=Ie,r.SVG=on,r.SVGOverlay=Ir,r.TileLayer=Ei,r.Tooltip=io,r.Transformation=Yi,r.Util=Qe,r.VideoOverlay=Cr,r.bind=y,r.bounds=Jt,r.canvas=Or,r.circle=Rh,r.circleMarker=Zh,r.control=$i,r.divIcon=Vh,r.extend=c,r.featureGroup=kh,r.geoJSON=Tr,r.geoJson=Fh,r.gridLayer=Jh,r.icon=Dh,r.imageOverlay=Wh,r.latLng=vt,r.latLngBounds=Mt,r.layerGroup=Nh,r.map=gh,r.marker=zh,r.point=$,r.polygon=Yh,r.polyline=Xh,r.popup=Uh,r.rectangle=$h,r.setOptions=tt,r.stamp=T,r.svg=Ar,r.svgOverlay=qh,r.tileLayer=Sr,r.tooltip=Gh,r.transformation=ei,r.version=l,r.videoOverlay=Hh;var tl=window.L;r.noConflict=function(){return window.L=tl,this},window.L=r})})(Ms,Ms.exports);const at=Ms.exports;var ch={exports:{}};(function(t){var e={},r=!1;t.exports?(t.exports=e,r=!0):typeof document<"u"?window.ClipperLib=e:self.ClipperLib=e;var l;if(r){var c="chrome";l="Netscape"}else{var c=navigator.userAgent.toString().toLowerCase();l=navigator.appName}var p={};c.indexOf("chrome")!=-1&&c.indexOf("chromium")==-1?p.chrome=1:p.chrome=0,c.indexOf("chromium")!=-1?p.chromium=1:p.chromium=0,c.indexOf("safari")!=-1&&c.indexOf("chrome")==-1&&c.indexOf("chromium")==-1?p.safari=1:p.safari=0,c.indexOf("firefox")!=-1?p.firefox=1:p.firefox=0,c.indexOf("firefox/17")!=-1?p.firefox17=1:p.firefox17=0,c.indexOf("firefox/15")!=-1?p.firefox15=1:p.firefox15=0,c.indexOf("firefox/3")!=-1?p.firefox3=1:p.firefox3=0,c.indexOf("opera")!=-1?p.opera=1:p.opera=0,c.indexOf("msie 10")!=-1?p.msie10=1:p.msie10=0,c.indexOf("msie 9")!=-1?p.msie9=1:p.msie9=0,c.indexOf("msie 8")!=-1?p.msie8=1:p.msie8=0,c.indexOf("msie 7")!=-1?p.msie7=1:p.msie7=0,c.indexOf("msie ")!=-1?p.msie=1:p.msie=0,e.biginteger_used=null;var y;function P(n,s,a){e.biginteger_used=1,n!=null&&(typeof n=="number"&&typeof s>"u"?this.fromInt(n):typeof n=="number"?this.fromNumber(n,s,a):s==null&&typeof n!="string"?this.fromString(n,256):this.fromString(n,s))}function T(){return new P(null)}function E(n,s,a,u,d,m){for(;--m>=0;){var v=s*this[n++]+a[u]+d;d=Math.floor(v/67108864),a[u++]=v&67108863}return d}function B(n,s,a,u,d,m){for(var v=s&32767,x=s>>15;--m>=0;){var C=this[n]&32767,I=this[n++]>>15,M=x*C+I*v;C=v*C+((M&32767)<<15)+a[u]+(d&1073741823),d=(C>>>30)+(M>>>15)+x*I+(d>>>30),a[u++]=C&1073741823}return d}function N(n,s,a,u,d,m){for(var v=s&16383,x=s>>14;--m>=0;){var C=this[n]&16383,I=this[n++]>>14,M=x*C+I*v;C=v*C+((M&16383)<<14)+a[u]+d,d=(C>>28)+(M>>14)+x*I,a[u++]=C&268435455}return d}l=="Microsoft Internet Explorer"?(P.prototype.am=B,y=30):l!="Netscape"?(P.prototype.am=E,y=26):(P.prototype.am=N,y=28),P.prototype.DB=y,P.prototype.DM=(1<<y)-1,P.prototype.DV=1<<y;var D=52;P.prototype.FV=Math.pow(2,D),P.prototype.F1=D-y,P.prototype.F2=2*y-D;var lt="0123456789abcdefghijklmnopqrstuvwxyz",Et=new Array,tt,yt;for(tt="0".charCodeAt(0),yt=0;yt<=9;++yt)Et[tt++]=yt;for(tt="a".charCodeAt(0),yt=10;yt<36;++yt)Et[tt++]=yt;for(tt="A".charCodeAt(0),yt=10;yt<36;++yt)Et[tt++]=yt;function Be(n){return lt.charAt(n)}function Je(n,s){var a=Et[n.charCodeAt(s)];return a==null?-1:a}function Wt(n){for(var s=this.t-1;s>=0;--s)n[s]=this[s];n.t=this.t,n.s=this.s}function Ke(n){this.t=1,this.s=n<0?-1:0,n>0?this[0]=n:n<-1?this[0]=n+this.DV:this.t=0}function Xt(n){var s=T();return s.fromInt(n),s}function je(n,s){var a;if(s==16)a=4;else if(s==8)a=3;else if(s==256)a=8;else if(s==2)a=1;else if(s==32)a=5;else if(s==4)a=2;else{this.fromRadix(n,s);return}this.t=0,this.s=0;for(var u=n.length,d=!1,m=0;--u>=0;){var v=a==8?n[u]&255:Je(n,u);if(v<0){n.charAt(u)=="-"&&(d=!0);continue}d=!1,m==0?this[this.t++]=v:m+a>this.DB?(this[this.t-1]|=(v&(1<<this.DB-m)-1)<<m,this[this.t++]=v>>this.DB-m):this[this.t-1]|=v<<m,m+=a,m>=this.DB&&(m-=this.DB)}a==8&&(n[0]&128)!=0&&(this.s=-1,m>0&&(this[this.t-1]|=(1<<this.DB-m)-1<<m)),this.clamp(),d&&P.ZERO.subTo(this,this)}function $e(){for(var n=this.s&this.DM;this.t>0&&this[this.t-1]==n;)--this.t}function pt(n){if(this.s<0)return"-"+this.negate().toString(n);var s;if(n==16)s=4;else if(n==8)s=3;else if(n==2)s=1;else if(n==32)s=5;else if(n==4)s=2;else return this.toRadix(n);var a=(1<<s)-1,u,d=!1,m="",v=this.t,x=this.DB-v*this.DB%s;if(v-- >0)for(x<this.DB&&(u=this[v]>>x)>0&&(d=!0,m=Be(u));v>=0;)x<s?(u=(this[v]&(1<<x)-1)<<s-x,u|=this[--v]>>(x+=this.DB-s)):(u=this[v]>>(x-=s)&a,x<=0&&(x+=this.DB,--v)),u>0&&(d=!0),d&&(m+=Be(u));return d?m:"0"}function fe(){var n=T();return P.ZERO.subTo(this,n),n}function gi(){return this.s<0?this.negate():this}function kt(n){var s=this.s-n.s;if(s!=0)return s;var a=this.t;if(s=a-n.t,s!=0)return this.s<0?-s:s;for(;--a>=0;)if((s=this[a]-n[a])!=0)return s;return 0}function Nt(n){var s=1,a;return(a=n>>>16)!=0&&(n=a,s+=16),(a=n>>8)!=0&&(n=a,s+=8),(a=n>>4)!=0&&(n=a,s+=4),(a=n>>2)!=0&&(n=a,s+=2),(a=n>>1)!=0&&(n=a,s+=1),s}function Qe(){return this.t<=0?0:this.DB*(this.t-1)+Nt(this[this.t-1]^this.s&this.DM)}function Ht(n,s){var a;for(a=this.t-1;a>=0;--a)s[a+n]=this[a];for(a=n-1;a>=0;--a)s[a]=0;s.t=this.t+n,s.s=this.s}function Xi(n,s){for(var a=n;a<this.t;++a)s[a-n]=this[a];s.t=Math.max(this.t-n,0),s.s=this.s}function Ft(n,s){var a=n%this.DB,u=this.DB-a,d=(1<<u)-1,m=Math.floor(n/this.DB),v=this.s<<a&this.DM,x;for(x=this.t-1;x>=0;--x)s[x+m+1]=this[x]>>u|v,v=(this[x]&d)<<a;for(x=m-1;x>=0;--x)s[x]=0;s[m]=v,s.t=this.t+m+1,s.s=this.s,s.clamp()}function ti(n,s){s.s=this.s;var a=Math.floor(n/this.DB);if(a>=this.t){s.t=0;return}var u=n%this.DB,d=this.DB-u,m=(1<<u)-1;s[0]=this[a]>>u;for(var v=a+1;v<this.t;++v)s[v-a-1]|=(this[v]&m)<<d,s[v-a]=this[v]>>u;u>0&&(s[this.t-a-1]|=(this.s&m)<<d),s.t=this.t-a,s.clamp()}function W(n,s){for(var a=0,u=0,d=Math.min(n.t,this.t);a<d;)u+=this[a]-n[a],s[a++]=u&this.DM,u>>=this.DB;if(n.t<this.t){for(u-=n.s;a<this.t;)u+=this[a],s[a++]=u&this.DM,u>>=this.DB;u+=this.s}else{for(u+=this.s;a<n.t;)u-=n[a],s[a++]=u&this.DM,u>>=this.DB;u-=n.s}s.s=u<0?-1:0,u<-1?s[a++]=this.DV+u:u>0&&(s[a++]=u),s.t=a,s.clamp()}function wn(n,s){var a=this.abs(),u=n.abs(),d=a.t;for(s.t=d+u.t;--d>=0;)s[d]=0;for(d=0;d<u.t;++d)s[d+a.t]=a.am(0,u[d],s,d,0,a.t);s.s=0,s.clamp(),this.s!=n.s&&P.ZERO.subTo(s,s)}function $(n){for(var s=this.abs(),a=n.t=2*s.t;--a>=0;)n[a]=0;for(a=0;a<s.t-1;++a){var u=s.am(a,s[a],n,2*a,0,1);(n[a+s.t]+=s.am(a+1,2*s[a],n,2*a+1,u,s.t-a-1))>=s.DV&&(n[a+s.t]-=s.DV,n[a+s.t+1]=1)}n.t>0&&(n[n.t-1]+=s.am(a,s[a],n,2*a,0,1)),n.s=0,n.clamp()}function mt(n,s,a){var u=n.abs();if(!(u.t<=0)){var d=this.abs();if(d.t<u.t){s!=null&&s.fromInt(0),a!=null&&this.copyTo(a);return}a==null&&(a=T());var m=T(),v=this.s,x=n.s,C=this.DB-Nt(u[u.t-1]);C>0?(u.lShiftTo(C,m),d.lShiftTo(C,a)):(u.copyTo(m),d.copyTo(a));var I=m.t,M=m[I-1];if(M!=0){var A=M*(1<<this.F1)+(I>1?m[I-2]>>this.F2:0),k=this.FV/A,Y=(1<<this.F1)/A,R=1<<this.F2,j=a.t,gt=j-I,zt=s==null?T():s;for(m.dlShiftTo(gt,zt),a.compareTo(zt)>=0&&(a[a.t++]=1,a.subTo(zt,a)),P.ONE.dlShiftTo(I,zt),zt.subTo(m,m);m.t<I;)m[m.t++]=0;for(;--gt>=0;){var F=a[--j]==M?this.DM:Math.floor(a[j]*k+(a[j-1]+R)*Y);if((a[j]+=m.am(0,F,a,gt,0,I))<F)for(m.dlShiftTo(gt,zt),a.subTo(zt,a);a[j]<--F;)a.subTo(zt,a)}s!=null&&(a.drShiftTo(I,s),v!=x&&P.ZERO.subTo(s,s)),a.t=I,a.clamp(),C>0&&a.rShiftTo(C,a),v<0&&P.ZERO.subTo(a,a)}}}function Jt(n){var s=T();return this.abs().divRemTo(n,null,s),this.s<0&&s.compareTo(P.ZERO)>0&&n.subTo(s,s),s}function Ct(n){this.m=n}function Mt(n){return n.s<0||n.compareTo(this.m)>=0?n.mod(this.m):n}function ht(n){return n}function vt(n){n.divRemTo(this.m,null,n)}function ie(n,s,a){n.multiplyTo(s,a),this.reduce(a)}function ce(n,s){n.squareTo(s),this.reduce(s)}Ct.prototype.convert=Mt,Ct.prototype.revert=ht,Ct.prototype.reduce=vt,Ct.prototype.mulTo=ie,Ct.prototype.sqrTo=ce;function Ln(){if(this.t<1)return 0;var n=this[0];if((n&1)==0)return 0;var s=n&3;return s=s*(2-(n&15)*s)&15,s=s*(2-(n&255)*s)&255,s=s*(2-((n&65535)*s&65535))&65535,s=s*(2-n*s%this.DV)%this.DV,s>0?this.DV-s:-s}function ne(n){this.m=n,this.mp=n.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<n.DB-15)-1,this.mt2=2*n.t}function Yi(n){var s=T();return n.abs().dlShiftTo(this.m.t,s),s.divRemTo(this.m,null,s),n.s<0&&s.compareTo(P.ZERO)>0&&this.m.subTo(s,s),s}function ei(n){var s=T();return n.copyTo(s),this.reduce(s),s}function Fi(n){for(;n.t<=this.mt2;)n[n.t++]=0;for(var s=0;s<this.m.t;++s){var a=n[s]&32767,u=a*this.mpl+((a*this.mph+(n[s]>>15)*this.mpl&this.um)<<15)&n.DM;for(a=s+this.m.t,n[a]+=this.m.am(0,u,n,s,0,this.m.t);n[a]>=n.DV;)n[a]-=n.DV,n[++a]++}n.clamp(),n.drShiftTo(this.m.t,n),n.compareTo(this.m)>=0&&n.subTo(this.m,n)}function Mo(n,s){n.squareTo(s),this.reduce(s)}function Tn(n,s,a){n.multiplyTo(s,a),this.reduce(a)}ne.prototype.convert=Yi,ne.prototype.revert=ei,ne.prototype.reduce=Fi,ne.prototype.mulTo=Tn,ne.prototype.sqrTo=Mo;function Cn(){return(this.t>0?this[0]&1:this.s)==0}function Wi(n,s){if(n>4294967295||n<1)return P.ONE;var a=T(),u=T(),d=s.convert(this),m=Nt(n)-1;for(d.copyTo(a);--m>=0;)if(s.sqrTo(a,u),(n&1<<m)>0)s.mulTo(u,d,a);else{var v=a;a=u,u=v}return s.revert(a)}function yi(n,s){var a;return n<256||s.isEven()?a=new Ct(s):a=new ne(s),this.exp(n,a)}P.prototype.copyTo=Wt,P.prototype.fromInt=Ke,P.prototype.fromString=je,P.prototype.clamp=$e,P.prototype.dlShiftTo=Ht,P.prototype.drShiftTo=Xi,P.prototype.lShiftTo=Ft,P.prototype.rShiftTo=ti,P.prototype.subTo=W,P.prototype.multiplyTo=wn,P.prototype.squareTo=$,P.prototype.divRemTo=mt,P.prototype.invDigit=Ln,P.prototype.isEven=Cn,P.prototype.exp=Wi,P.prototype.toString=pt,P.prototype.negate=fe,P.prototype.abs=gi,P.prototype.compareTo=kt,P.prototype.bitLength=Qe,P.prototype.mod=Jt,P.prototype.modPowInt=yi,P.ZERO=Xt(0),P.ONE=Xt(1);function Oo(){var n=T();return this.copyTo(n),n}function In(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Hi(){return this.t==0?this.s:this[0]<<24>>24}function bn(){return this.t==0?this.s:this[0]<<16>>16}function Sn(n){return Math.floor(Math.LN2*this.DB/Math.log(n))}function Ao(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function Bo(n){if(n==null&&(n=10),this.signum()==0||n<2||n>36)return"0";var s=this.chunkSize(n),a=Math.pow(n,s),u=Xt(a),d=T(),m=T(),v="";for(this.divRemTo(u,d,m);d.signum()>0;)v=(a+m.intValue()).toString(n).substr(1)+v,d.divRemTo(u,d,m);return m.intValue().toString(n)+v}function qi(n,s){this.fromInt(0),s==null&&(s=10);for(var a=this.chunkSize(s),u=Math.pow(s,a),d=!1,m=0,v=0,x=0;x<n.length;++x){var C=Je(n,x);if(C<0){n.charAt(x)=="-"&&this.signum()==0&&(d=!0);continue}v=s*v+C,++m>=a&&(this.dMultiply(u),this.dAddOffset(v,0),m=0,v=0)}m>0&&(this.dMultiply(Math.pow(s,m)),this.dAddOffset(v,0)),d&&P.ZERO.subTo(this,this)}function En(n,s,a){if(typeof s=="number")if(n<2)this.fromInt(1);else for(this.fromNumber(n,a),this.testBit(n-1)||this.bitwiseTo(P.ONE.shiftLeft(n-1),Pi,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(s);)this.dAddOffset(2,0),this.bitLength()>n&&this.subTo(P.ONE.shiftLeft(n-1),this);else{var u=new Array,d=n&7;u.length=(n>>3)+1,s.nextBytes(u),d>0?u[0]&=(1<<d)-1:u[0]=0,this.fromString(u,256)}}function Mn(){var n=this.t,s=new Array;s[0]=this.s;var a=this.DB-n*this.DB%8,u,d=0;if(n-- >0)for(a<this.DB&&(u=this[n]>>a)!=(this.s&this.DM)>>a&&(s[d++]=u|this.s<<this.DB-a);n>=0;)a<8?(u=(this[n]&(1<<a)-1)<<8-a,u|=this[--n]>>(a+=this.DB-8)):(u=this[n]>>(a-=8)&255,a<=0&&(a+=this.DB,--n)),(u&128)!=0&&(u|=-256),d==0&&(this.s&128)!=(u&128)&&++d,(d>0||u!=this.s)&&(s[d++]=u);return s}function No(n){return this.compareTo(n)==0}function On(n){return this.compareTo(n)<0?this:n}function An(n){return this.compareTo(n)>0?this:n}function ko(n,s,a){var u,d,m=Math.min(n.t,this.t);for(u=0;u<m;++u)a[u]=s(this[u],n[u]);if(n.t<this.t){for(d=n.s&this.DM,u=m;u<this.t;++u)a[u]=s(this[u],d);a.t=this.t}else{for(d=this.s&this.DM,u=m;u<n.t;++u)a[u]=s(d,n[u]);a.t=n.t}a.s=s(this.s,n.s),a.clamp()}function Bn(n,s){return n&s}function Ui(n){var s=T();return this.bitwiseTo(n,Bn,s),s}function Pi(n,s){return n|s}function Do(n){var s=T();return this.bitwiseTo(n,Pi,s),s}function Ne(n,s){return n^s}function zo(n){var s=T();return this.bitwiseTo(n,Ne,s),s}function Nn(n,s){return n&~s}function kn(n){var s=T();return this.bitwiseTo(n,Nn,s),s}function Dn(){for(var n=T(),s=0;s<this.t;++s)n[s]=this.DM&~this[s];return n.t=this.t,n.s=~this.s,n}function zn(n){var s=T();return n<0?this.rShiftTo(-n,s):this.lShiftTo(n,s),s}function Zo(n){var s=T();return n<0?this.lShiftTo(-n,s):this.rShiftTo(n,s),s}function Ro(n){if(n==0)return-1;var s=0;return(n&65535)==0&&(n>>=16,s+=16),(n&255)==0&&(n>>=8,s+=8),(n&15)==0&&(n>>=4,s+=4),(n&3)==0&&(n>>=2,s+=2),(n&1)==0&&++s,s}function Xo(){for(var n=0;n<this.t;++n)if(this[n]!=0)return n*this.DB+Ro(this[n]);return this.s<0?this.t*this.DB:-1}function Yo(n){for(var s=0;n!=0;)n&=n-1,++s;return s}function Fo(){for(var n=0,s=this.s&this.DM,a=0;a<this.t;++a)n+=Yo(this[a]^s);return n}function Wo(n){var s=Math.floor(n/this.DB);return s>=this.t?this.s!=0:(this[s]&1<<n%this.DB)!=0}function Gi(n,s){var a=P.ONE.shiftLeft(n);return this.bitwiseTo(a,s,a),a}function Ho(n){return this.changeBit(n,Pi)}function qo(n){return this.changeBit(n,Nn)}function jt(n){return this.changeBit(n,Ne)}function Z(n,s){for(var a=0,u=0,d=Math.min(n.t,this.t);a<d;)u+=this[a]+n[a],s[a++]=u&this.DM,u>>=this.DB;if(n.t<this.t){for(u+=n.s;a<this.t;)u+=this[a],s[a++]=u&this.DM,u>>=this.DB;u+=this.s}else{for(u+=this.s;a<n.t;)u+=n[a],s[a++]=u&this.DM,u>>=this.DB;u+=n.s}s.s=u<0?-1:0,u>0?s[a++]=u:u<-1&&(s[a++]=this.DV+u),s.t=a,s.clamp()}function Zn(n){var s=T();return this.addTo(n,s),s}function Rn(n){var s=T();return this.subTo(n,s),s}function Xn(n){var s=T();return this.multiplyTo(n,s),s}function Yn(){var n=T();return this.squareTo(n),n}function Vi(n){var s=T();return this.divRemTo(n,s,null),s}function Fn(n){var s=T();return this.divRemTo(n,null,s),s}function ke(n){var s=T(),a=T();return this.divRemTo(n,s,a),new Array(s,a)}function Wn(n){this[this.t]=this.am(0,n-1,this,0,0,this.t),++this.t,this.clamp()}function Uo(n,s){if(n!=0){for(;this.t<=s;)this[this.t++]=0;for(this[s]+=n;this[s]>=this.DV;)this[s]-=this.DV,++s>=this.t&&(this[this.t++]=0),++this[s]}}function ii(){}function Hn(n){return n}function Go(n,s,a){n.multiplyTo(s,a)}function qn(n,s){n.squareTo(s)}ii.prototype.convert=Hn,ii.prototype.revert=Hn,ii.prototype.mulTo=Go,ii.prototype.sqrTo=qn;function Vo(n){return this.exp(n,new ii)}function xi(n,s,a){var u=Math.min(this.t+n.t,s);for(a.s=0,a.t=u;u>0;)a[--u]=0;var d;for(d=a.t-this.t;u<d;++u)a[u+this.t]=this.am(0,n[u],a,u,0,this.t);for(d=Math.min(n.t,s);u<d;++u)this.am(0,n[u],a,u,0,s-u);a.clamp()}function Jo(n,s,a){--s;var u=a.t=this.t+n.t-s;for(a.s=0;--u>=0;)a[u]=0;for(u=Math.max(s-this.t,0);u<n.t;++u)a[this.t+u-s]=this.am(s-u,n[u],a,0,0,this.t+u-s);a.clamp(),a.drShiftTo(1,a)}function De(n){this.r2=T(),this.q3=T(),P.ONE.dlShiftTo(2*n.t,this.r2),this.mu=this.r2.divide(n),this.m=n}function Ko(n){if(n.s<0||n.t>2*this.m.t)return n.mod(this.m);if(n.compareTo(this.m)<0)return n;var s=T();return n.copyTo(s),this.reduce(s),s}function jo(n){return n}function $o(n){for(n.drShiftTo(this.m.t-1,this.r2),n.t>this.m.t+1&&(n.t=this.m.t+1,n.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);n.compareTo(this.r2)<0;)n.dAddOffset(1,this.m.t+1);for(n.subTo(this.r2,n);n.compareTo(this.m)>=0;)n.subTo(this.m,n)}function Ji(n,s){n.squareTo(s),this.reduce(s)}function ni(n,s,a){n.multiplyTo(s,a),this.reduce(a)}De.prototype.convert=Ko,De.prototype.revert=jo,De.prototype.reduce=$o,De.prototype.mulTo=ni,De.prototype.sqrTo=Ji;function Un(n,s){var a=n.bitLength(),u,d=Xt(1),m;if(a<=0)return d;a<18?u=1:a<48?u=3:a<144?u=4:a<768?u=5:u=6,a<8?m=new Ct(s):s.isEven()?m=new De(s):m=new ne(s);var v=new Array,x=3,C=u-1,I=(1<<u)-1;if(v[1]=m.convert(this),u>1){var M=T();for(m.sqrTo(v[1],M);x<=I;)v[x]=T(),m.mulTo(M,v[x-2],v[x]),x+=2}var A=n.t-1,k,Y=!0,R=T(),j;for(a=Nt(n[A])-1;A>=0;){for(a>=C?k=n[A]>>a-C&I:(k=(n[A]&(1<<a+1)-1)<<C-a,A>0&&(k|=n[A-1]>>this.DB+a-C)),x=u;(k&1)==0;)k>>=1,--x;if((a-=x)<0&&(a+=this.DB,--A),Y)v[k].copyTo(d),Y=!1;else{for(;x>1;)m.sqrTo(d,R),m.sqrTo(R,d),x-=2;x>0?m.sqrTo(d,R):(j=d,d=R,R=j),m.mulTo(R,v[k],d)}for(;A>=0&&(n[A]&1<<a)==0;)m.sqrTo(d,R),j=d,d=R,R=j,--a<0&&(a=this.DB-1,--A)}return m.revert(d)}function Gn(n){var s=this.s<0?this.negate():this.clone(),a=n.s<0?n.negate():n.clone();if(s.compareTo(a)<0){var u=s;s=a,a=u}var d=s.getLowestSetBit(),m=a.getLowestSetBit();if(m<0)return s;for(d<m&&(m=d),m>0&&(s.rShiftTo(m,s),a.rShiftTo(m,a));s.signum()>0;)(d=s.getLowestSetBit())>0&&s.rShiftTo(d,s),(d=a.getLowestSetBit())>0&&a.rShiftTo(d,a),s.compareTo(a)>=0?(s.subTo(a,s),s.rShiftTo(1,s)):(a.subTo(s,a),a.rShiftTo(1,a));return m>0&&a.lShiftTo(m,a),a}function oi(n){if(n<=0)return 0;var s=this.DV%n,a=this.s<0?n-1:0;if(this.t>0)if(s==0)a=this[0]%n;else for(var u=this.t-1;u>=0;--u)a=(s*a+this[u])%n;return a}function et(n){var s=n.isEven();if(this.isEven()&&s||n.signum()==0)return P.ZERO;for(var a=n.clone(),u=this.clone(),d=Xt(1),m=Xt(0),v=Xt(0),x=Xt(1);a.signum()!=0;){for(;a.isEven();)a.rShiftTo(1,a),s?((!d.isEven()||!m.isEven())&&(d.addTo(this,d),m.subTo(n,m)),d.rShiftTo(1,d)):m.isEven()||m.subTo(n,m),m.rShiftTo(1,m);for(;u.isEven();)u.rShiftTo(1,u),s?((!v.isEven()||!x.isEven())&&(v.addTo(this,v),x.subTo(n,x)),v.rShiftTo(1,v)):x.isEven()||x.subTo(n,x),x.rShiftTo(1,x);a.compareTo(u)>=0?(a.subTo(u,a),s&&d.subTo(v,d),m.subTo(x,m)):(u.subTo(a,u),s&&v.subTo(d,v),x.subTo(m,x))}if(u.compareTo(P.ONE)!=0)return P.ZERO;if(x.compareTo(n)>=0)return x.subtract(n);if(x.signum()<0)x.addTo(n,x);else return x;return x.signum()<0?x.add(n):x}var K=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],wi=(1<<26)/K[K.length-1];function ze(n){var s,a=this.abs();if(a.t==1&&a[0]<=K[K.length-1]){for(s=0;s<K.length;++s)if(a[0]==K[s])return!0;return!1}if(a.isEven())return!1;for(s=1;s<K.length;){for(var u=K[s],d=s+1;d<K.length&&u<wi;)u*=K[d++];for(u=a.modInt(u);s<d;)if(u%K[s++]==0)return!1}return a.millerRabin(n)}function Ze(n){var s=this.subtract(P.ONE),a=s.getLowestSetBit();if(a<=0)return!1;var u=s.shiftRight(a);n=n+1>>1,n>K.length&&(n=K.length);for(var d=T(),m=0;m<n;++m){d.fromInt(K[Math.floor(Math.random()*K.length)]);var v=d.modPow(u,this);if(v.compareTo(P.ONE)!=0&&v.compareTo(s)!=0){for(var x=1;x++<a&&v.compareTo(s)!=0;)if(v=v.modPowInt(2,this),v.compareTo(P.ONE)==0)return!1;if(v.compareTo(s)!=0)return!1}}return!0}P.prototype.chunkSize=Sn,P.prototype.toRadix=Bo,P.prototype.fromRadix=qi,P.prototype.fromNumber=En,P.prototype.bitwiseTo=ko,P.prototype.changeBit=Gi,P.prototype.addTo=Z,P.prototype.dMultiply=Wn,P.prototype.dAddOffset=Uo,P.prototype.multiplyLowerTo=xi,P.prototype.multiplyUpperTo=Jo,P.prototype.modInt=oi,P.prototype.millerRabin=Ze,P.prototype.clone=Oo,P.prototype.intValue=In,P.prototype.byteValue=Hi,P.prototype.shortValue=bn,P.prototype.signum=Ao,P.prototype.toByteArray=Mn,P.prototype.equals=No,P.prototype.min=On,P.prototype.max=An,P.prototype.and=Ui,P.prototype.or=Do,P.prototype.xor=zo,P.prototype.andNot=kn,P.prototype.not=Dn,P.prototype.shiftLeft=zn,P.prototype.shiftRight=Zo,P.prototype.getLowestSetBit=Xo,P.prototype.bitCount=Fo,P.prototype.testBit=Wo,P.prototype.setBit=Ho,P.prototype.clearBit=qo,P.prototype.flipBit=jt,P.prototype.add=Zn,P.prototype.subtract=Rn,P.prototype.multiply=Xn,P.prototype.divide=Vi,P.prototype.remainder=Fn,P.prototype.divideAndRemainder=ke,P.prototype.modPow=Un,P.prototype.modInverse=et,P.prototype.pow=Vo,P.prototype.gcd=Gn,P.prototype.isProbablePrime=ze,P.prototype.square=Yn;var G=P;if(G.prototype.IsNegative=function(){return this.compareTo(G.ZERO)==-1},G.op_Equality=function(n,s){return n.compareTo(s)==0},G.op_Inequality=function(n,s){return n.compareTo(s)!=0},G.op_GreaterThan=function(n,s){return n.compareTo(s)>0},G.op_LessThan=function(n,s){return n.compareTo(s)<0},G.op_Addition=function(n,s){return new G(n).add(new G(s))},G.op_Subtraction=function(n,s){return new G(n).subtract(new G(s))},G.Int128Mul=function(n,s){return new G(n).multiply(new G(s))},G.op_Division=function(n,s){return n.divide(s)},G.prototype.ToDouble=function(){return parseFloat(this.toString())},typeof H>"u")var H=function(n,s){var a;if(typeof Object.getOwnPropertyNames>"u"){for(a in s.prototype)(typeof n.prototype[a]>"u"||n.prototype[a]==Object.prototype[a])&&(n.prototype[a]=s.prototype[a]);for(a in s)typeof n[a]>"u"&&(n[a]=s[a]);n.$baseCtor=s}else{for(var u=Object.getOwnPropertyNames(s.prototype),d=0;d<u.length;d++)typeof Object.getOwnPropertyDescriptor(n.prototype,u[d])>"u"&&Object.defineProperty(n.prototype,u[d],Object.getOwnPropertyDescriptor(s.prototype,u[d]));for(a in s)typeof n[a]>"u"&&(n[a]=s[a]);n.$baseCtor=s}};e.Path=function(){return[]},e.Paths=function(){return[]},e.DoublePoint=function(){var n=arguments;this.X=0,this.Y=0,n.length==1?(this.X=n[0].X,this.Y=n[0].Y):n.length==2&&(this.X=n[0],this.Y=n[1])},e.DoublePoint0=function(){this.X=0,this.Y=0},e.DoublePoint1=function(n){this.X=n.X,this.Y=n.Y},e.DoublePoint2=function(n,s){this.X=n,this.Y=s},e.PolyNode=function(){this.m_Parent=null,this.m_polygon=new e.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},e.PolyNode.prototype.IsHoleNode=function(){for(var n=!0,s=this.m_Parent;s!==null;)n=!n,s=s.m_Parent;return n},e.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},e.PolyNode.prototype.Contour=function(){return this.m_polygon},e.PolyNode.prototype.AddChild=function(n){var s=this.m_Childs.length;this.m_Childs.push(n),n.m_Parent=this,n.m_Index=s},e.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},e.PolyNode.prototype.GetNextSiblingUp=function(){return this.m_Parent===null?null:this.m_Index==this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},e.PolyNode.prototype.Childs=function(){return this.m_Childs},e.PolyNode.prototype.Parent=function(){return this.m_Parent},e.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},e.PolyTree=function(){this.m_AllPolys=[],e.PolyNode.call(this)},e.PolyTree.prototype.Clear=function(){for(var n=0,s=this.m_AllPolys.length;n<s;n++)this.m_AllPolys[n]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},e.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},e.PolyTree.prototype.Total=function(){return this.m_AllPolys.length},H(e.PolyTree,e.PolyNode),e.Math_Abs_Int64=e.Math_Abs_Int32=e.Math_Abs_Double=function(n){return Math.abs(n)},e.Math_Max_Int32_Int32=function(n,s){return Math.max(n,s)},p.msie||p.opera||p.safari?e.Cast_Int32=function(n){return n|0}:e.Cast_Int32=function(n){return~~n},p.chrome?e.Cast_Int64=function(n){return n<-2147483648||n>2147483647?n<0?Math.ceil(n):Math.floor(n):~~n}:p.firefox&&typeof Number.toInteger=="function"?e.Cast_Int64=function(n){return Number.toInteger(n)}:p.msie7||p.msie8?e.Cast_Int64=function(n){return parseInt(n,10)}:p.msie?e.Cast_Int64=function(n){return n<-2147483648||n>2147483647?n<0?Math.ceil(n):Math.floor(n):n|0}:e.Cast_Int64=function(n){return n<0?Math.ceil(n):Math.floor(n)},e.Clear=function(n){n.length=0},e.PI=3.141592653589793,e.PI2=2*3.141592653589793,e.IntPoint=function(){var n=arguments,s=n.length;this.X=0,this.Y=0;var a,u;if(s==2)this.X=n[0],this.Y=n[1];else if(s==1)if(n[0]instanceof e.DoublePoint){var a=n[0];this.X=e.Clipper.Round(a.X),this.Y=e.Clipper.Round(a.Y)}else{var u=n[0];this.X=u.X,this.Y=u.Y}else this.X=0,this.Y=0},e.IntPoint.op_Equality=function(n,s){return n.X==s.X&&n.Y==s.Y},e.IntPoint.op_Inequality=function(n,s){return n.X!=s.X||n.Y!=s.Y},e.IntPoint0=function(){this.X=0,this.Y=0},e.IntPoint1=function(n){this.X=n.X,this.Y=n.Y},e.IntPoint1dp=function(n){this.X=e.Clipper.Round(n.X),this.Y=e.Clipper.Round(n.Y)},e.IntPoint2=function(n,s){this.X=n,this.Y=s},e.IntRect=function(){var n=arguments,s=n.length;s==4?(this.left=n[0],this.top=n[1],this.right=n[2],this.bottom=n[3]):s==1?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)},e.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},e.IntRect1=function(n){this.left=n.left,this.top=n.top,this.right=n.right,this.bottom=n.bottom},e.IntRect4=function(n,s,a,u){this.left=n,this.top=s,this.right=a,this.bottom=u},e.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},e.PolyType={ptSubject:0,ptClip:1},e.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},e.JoinType={jtSquare:0,jtRound:1,jtMiter:2},e.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},e.EdgeSide={esLeft:0,esRight:1},e.Direction={dRightToLeft:0,dLeftToRight:1},e.TEdge=function(){this.Bot=new e.IntPoint,this.Curr=new e.IntPoint,this.Top=new e.IntPoint,this.Delta=new e.IntPoint,this.Dx=0,this.PolyTyp=e.PolyType.ptSubject,this.Side=e.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},e.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new e.IntPoint},e.MyIntersectNodeSort=function(){},e.MyIntersectNodeSort.Compare=function(n,s){return s.Pt.Y-n.Pt.Y},e.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},e.Scanbeam=function(){this.Y=0,this.Next=null},e.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},e.OutPt=function(){this.Idx=0,this.Pt=new e.IntPoint,this.Next=null,this.Prev=null},e.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new e.IntPoint},e.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},e.ClipperBase.horizontal=-9007199254740992,e.ClipperBase.Skip=-2,e.ClipperBase.Unassigned=-1,e.ClipperBase.tolerance=1e-20,e.ClipperBase.loRange=47453132,e.ClipperBase.hiRange=0xfffffffffffff,e.ClipperBase.near_zero=function(n){return n>-e.ClipperBase.tolerance&&n<e.ClipperBase.tolerance},e.ClipperBase.IsHorizontal=function(n){return n.Delta.Y===0},e.ClipperBase.prototype.PointIsVertex=function(n,s){var a=s;do{if(e.IntPoint.op_Equality(a.Pt,n))return!0;a=a.Next}while(a!=s);return!1},e.ClipperBase.prototype.PointOnLineSegment=function(n,s,a,u){return u?n.X==s.X&&n.Y==s.Y||n.X==a.X&&n.Y==a.Y||n.X>s.X==n.X<a.X&&n.Y>s.Y==n.Y<a.Y&&G.op_Equality(G.Int128Mul(n.X-s.X,a.Y-s.Y),G.Int128Mul(a.X-s.X,n.Y-s.Y)):n.X==s.X&&n.Y==s.Y||n.X==a.X&&n.Y==a.Y||n.X>s.X==n.X<a.X&&n.Y>s.Y==n.Y<a.Y&&(n.X-s.X)*(a.Y-s.Y)==(a.X-s.X)*(n.Y-s.Y)},e.ClipperBase.prototype.PointOnPolygon=function(n,s,a){for(var u=s;;){if(this.PointOnLineSegment(n,u.Pt,u.Next.Pt,a))return!0;if(u=u.Next,u==s)break}return!1},e.ClipperBase.prototype.SlopesEqual=e.ClipperBase.SlopesEqual=function(){var n=arguments,s=n.length,a,u,d,m,v,x,C;return s==3?(a=n[0],u=n[1],C=n[2],C?G.op_Equality(G.Int128Mul(a.Delta.Y,u.Delta.X),G.Int128Mul(a.Delta.X,u.Delta.Y)):e.Cast_Int64(a.Delta.Y*u.Delta.X)==e.Cast_Int64(a.Delta.X*u.Delta.Y)):s==4?(d=n[0],m=n[1],v=n[2],C=n[3],C?G.op_Equality(G.Int128Mul(d.Y-m.Y,m.X-v.X),G.Int128Mul(d.X-m.X,m.Y-v.Y)):e.Cast_Int64((d.Y-m.Y)*(m.X-v.X))-e.Cast_Int64((d.X-m.X)*(m.Y-v.Y))===0):(d=n[0],m=n[1],v=n[2],x=n[3],C=n[4],C?G.op_Equality(G.Int128Mul(d.Y-m.Y,v.X-x.X),G.Int128Mul(d.X-m.X,v.Y-x.Y)):e.Cast_Int64((d.Y-m.Y)*(v.X-x.X))-e.Cast_Int64((d.X-m.X)*(v.Y-x.Y))===0)},e.ClipperBase.SlopesEqual3=function(n,s,a){return a?G.op_Equality(G.Int128Mul(n.Delta.Y,s.Delta.X),G.Int128Mul(n.Delta.X,s.Delta.Y)):e.Cast_Int64(n.Delta.Y*s.Delta.X)==e.Cast_Int64(n.Delta.X*s.Delta.Y)},e.ClipperBase.SlopesEqual4=function(n,s,a,u){return u?G.op_Equality(G.Int128Mul(n.Y-s.Y,s.X-a.X),G.Int128Mul(n.X-s.X,s.Y-a.Y)):e.Cast_Int64((n.Y-s.Y)*(s.X-a.X))-e.Cast_Int64((n.X-s.X)*(s.Y-a.Y))===0},e.ClipperBase.SlopesEqual5=function(n,s,a,u,d){return d?G.op_Equality(G.Int128Mul(n.Y-s.Y,a.X-u.X),G.Int128Mul(n.X-s.X,a.Y-u.Y)):e.Cast_Int64((n.Y-s.Y)*(a.X-u.X))-e.Cast_Int64((n.X-s.X)*(a.Y-u.Y))===0},e.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var n=0,s=this.m_edges.length;n<s;++n){for(var a=0,u=this.m_edges[n].length;a<u;++a)this.m_edges[n][a]=null;e.Clear(this.m_edges[n])}e.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},e.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;this.m_MinimaList!==null;){var n=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=n}this.m_CurrentLM=null},e.ClipperBase.prototype.RangeTest=function(n,s){s.Value?(n.X>e.ClipperBase.hiRange||n.Y>e.ClipperBase.hiRange||-n.X>e.ClipperBase.hiRange||-n.Y>e.ClipperBase.hiRange)&&e.Error("Coordinate outside allowed range in RangeTest()."):(n.X>e.ClipperBase.loRange||n.Y>e.ClipperBase.loRange||-n.X>e.ClipperBase.loRange||-n.Y>e.ClipperBase.loRange)&&(s.Value=!0,this.RangeTest(n,s))},e.ClipperBase.prototype.InitEdge=function(n,s,a,u){n.Next=s,n.Prev=a,n.Curr.X=u.X,n.Curr.Y=u.Y,n.OutIdx=-1},e.ClipperBase.prototype.InitEdge2=function(n,s){n.Curr.Y>=n.Next.Curr.Y?(n.Bot.X=n.Curr.X,n.Bot.Y=n.Curr.Y,n.Top.X=n.Next.Curr.X,n.Top.Y=n.Next.Curr.Y):(n.Top.X=n.Curr.X,n.Top.Y=n.Curr.Y,n.Bot.X=n.Next.Curr.X,n.Bot.Y=n.Next.Curr.Y),this.SetDx(n),n.PolyTyp=s},e.ClipperBase.prototype.FindNextLocMin=function(n){for(var s;;){for(;e.IntPoint.op_Inequality(n.Bot,n.Prev.Bot)||e.IntPoint.op_Equality(n.Curr,n.Top);)n=n.Next;if(n.Dx!=e.ClipperBase.horizontal&&n.Prev.Dx!=e.ClipperBase.horizontal)break;for(;n.Prev.Dx==e.ClipperBase.horizontal;)n=n.Prev;for(s=n;n.Dx==e.ClipperBase.horizontal;)n=n.Next;if(n.Top.Y!=n.Prev.Bot.Y){s.Prev.Bot.X<n.Bot.X&&(n=s);break}}return n},e.ClipperBase.prototype.ProcessBound=function(n,s){var a=n,u=n,d,m;if(n.Dx==e.ClipperBase.horizontal&&(s?m=n.Prev.Bot.X:m=n.Next.Bot.X,n.Bot.X!=m&&this.ReverseHorizontal(n)),u.OutIdx!=e.ClipperBase.Skip)if(s){for(;u.Top.Y==u.Next.Bot.Y&&u.Next.OutIdx!=e.ClipperBase.Skip;)u=u.Next;if(u.Dx==e.ClipperBase.horizontal&&u.Next.OutIdx!=e.ClipperBase.Skip){for(d=u;d.Prev.Dx==e.ClipperBase.horizontal;)d=d.Prev;d.Prev.Top.X==u.Next.Top.X?s||(u=d.Prev):d.Prev.Top.X>u.Next.Top.X&&(u=d.Prev)}for(;n!=u;)n.NextInLML=n.Next,n.Dx==e.ClipperBase.horizontal&&n!=a&&n.Bot.X!=n.Prev.Top.X&&this.ReverseHorizontal(n),n=n.Next;n.Dx==e.ClipperBase.horizontal&&n!=a&&n.Bot.X!=n.Prev.Top.X&&this.ReverseHorizontal(n),u=u.Next}else{for(;u.Top.Y==u.Prev.Bot.Y&&u.Prev.OutIdx!=e.ClipperBase.Skip;)u=u.Prev;if(u.Dx==e.ClipperBase.horizontal&&u.Prev.OutIdx!=e.ClipperBase.Skip){for(d=u;d.Next.Dx==e.ClipperBase.horizontal;)d=d.Next;d.Next.Top.X==u.Prev.Top.X?s||(u=d.Next):d.Next.Top.X>u.Prev.Top.X&&(u=d.Next)}for(;n!=u;)n.NextInLML=n.Prev,n.Dx==e.ClipperBase.horizontal&&n!=a&&n.Bot.X!=n.Next.Top.X&&this.ReverseHorizontal(n),n=n.Prev;n.Dx==e.ClipperBase.horizontal&&n!=a&&n.Bot.X!=n.Next.Top.X&&this.ReverseHorizontal(n),u=u.Prev}if(u.OutIdx==e.ClipperBase.Skip){if(n=u,s){for(;n.Top.Y==n.Next.Bot.Y;)n=n.Next;for(;n!=u&&n.Dx==e.ClipperBase.horizontal;)n=n.Prev}else{for(;n.Top.Y==n.Prev.Bot.Y;)n=n.Prev;for(;n!=u&&n.Dx==e.ClipperBase.horizontal;)n=n.Next}if(n==u)s?u=n.Next:u=n.Prev;else{s?n=u.Next:n=u.Prev;var v=new e.LocalMinima;v.Next=null,v.Y=n.Bot.Y,v.LeftBound=null,v.RightBound=n,v.RightBound.WindDelta=0,u=this.ProcessBound(v.RightBound,s),this.InsertLocalMinima(v)}}return u},e.ClipperBase.prototype.AddPath=function(n,s,a){!a&&s==e.PolyType.ptClip&&e.Error("AddPath: Open paths must be subject.");var u=n.length-1;if(a)for(;u>0&&e.IntPoint.op_Equality(n[u],n[0]);)--u;for(;u>0&&e.IntPoint.op_Equality(n[u],n[u-1]);)--u;if(a&&u<2||!a&&u<1)return!1;for(var d=new Array,m=0;m<=u;m++)d.push(new e.TEdge);var v=!0;d[1].Curr.X=n[1].X,d[1].Curr.Y=n[1].Y;var x={Value:this.m_UseFullRange};this.RangeTest(n[0],x),this.m_UseFullRange=x.Value,x.Value=this.m_UseFullRange,this.RangeTest(n[u],x),this.m_UseFullRange=x.Value,this.InitEdge(d[0],d[1],d[u],n[0]),this.InitEdge(d[u],d[0],d[u-1],n[u]);for(var m=u-1;m>=1;--m)x.Value=this.m_UseFullRange,this.RangeTest(n[m],x),this.m_UseFullRange=x.Value,this.InitEdge(d[m],d[m+1],d[m-1],n[m]);for(var C=d[0],I=C,M=C;;){if(e.IntPoint.op_Equality(I.Curr,I.Next.Curr)){if(I==I.Next)break;I==C&&(C=I.Next),I=this.RemoveEdge(I),M=I;continue}if(I.Prev==I.Next)break;if(a&&e.ClipperBase.SlopesEqual(I.Prev.Curr,I.Curr,I.Next.Curr,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(I.Prev.Curr,I.Curr,I.Next.Curr))){I==C&&(C=I.Next),I=this.RemoveEdge(I),I=I.Prev,M=I;continue}if(I=I.Next,I==M)break}if(!a&&I==I.Next||a&&I.Prev==I.Next)return!1;a||(this.m_HasOpenPaths=!0,C.Prev.OutIdx=e.ClipperBase.Skip),I=C;do this.InitEdge2(I,s),I=I.Next,v&&I.Curr.Y!=C.Curr.Y&&(v=!1);while(I!=C);if(v){if(a)return!1;I.Prev.OutIdx=e.ClipperBase.Skip,I.Prev.Bot.X<I.Prev.Top.X&&this.ReverseHorizontal(I.Prev);var A=new e.LocalMinima;for(A.Next=null,A.Y=I.Bot.Y,A.LeftBound=null,A.RightBound=I,A.RightBound.Side=e.EdgeSide.esRight,A.RightBound.WindDelta=0;I.Next.OutIdx!=e.ClipperBase.Skip;)I.NextInLML=I.Next,I.Bot.X!=I.Prev.Top.X&&this.ReverseHorizontal(I),I=I.Next;return this.InsertLocalMinima(A),this.m_edges.push(d),!0}this.m_edges.push(d);for(var k,Y=null;I=this.FindNextLocMin(I),I!=Y;){Y==null&&(Y=I);var A=new e.LocalMinima;A.Next=null,A.Y=I.Bot.Y,I.Dx<I.Prev.Dx?(A.LeftBound=I.Prev,A.RightBound=I,k=!1):(A.LeftBound=I,A.RightBound=I.Prev,k=!0),A.LeftBound.Side=e.EdgeSide.esLeft,A.RightBound.Side=e.EdgeSide.esRight,a?A.LeftBound.Next==A.RightBound?A.LeftBound.WindDelta=-1:A.LeftBound.WindDelta=1:A.LeftBound.WindDelta=0,A.RightBound.WindDelta=-A.LeftBound.WindDelta,I=this.ProcessBound(A.LeftBound,k);var R=this.ProcessBound(A.RightBound,!k);A.LeftBound.OutIdx==e.ClipperBase.Skip?A.LeftBound=null:A.RightBound.OutIdx==e.ClipperBase.Skip&&(A.RightBound=null),this.InsertLocalMinima(A),k||(I=R)}return!0},e.ClipperBase.prototype.AddPaths=function(n,s,a){for(var u=!1,d=0,m=n.length;d<m;++d)this.AddPath(n[d],s,a)&&(u=!0);return u},e.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(n,s,a){return e.IntPoint.op_Equality(n,a)||e.IntPoint.op_Equality(n,s)||e.IntPoint.op_Equality(a,s)?!1:n.X!=a.X?s.X>n.X==s.X<a.X:s.Y>n.Y==s.Y<a.Y},e.ClipperBase.prototype.RemoveEdge=function(n){n.Prev.Next=n.Next,n.Next.Prev=n.Prev;var s=n.Next;return n.Prev=null,s},e.ClipperBase.prototype.SetDx=function(n){n.Delta.X=n.Top.X-n.Bot.X,n.Delta.Y=n.Top.Y-n.Bot.Y,n.Delta.Y===0?n.Dx=e.ClipperBase.horizontal:n.Dx=n.Delta.X/n.Delta.Y},e.ClipperBase.prototype.InsertLocalMinima=function(n){if(this.m_MinimaList===null)this.m_MinimaList=n;else if(n.Y>=this.m_MinimaList.Y)n.Next=this.m_MinimaList,this.m_MinimaList=n;else{for(var s=this.m_MinimaList;s.Next!==null&&n.Y<s.Next.Y;)s=s.Next;n.Next=s.Next,s.Next=n}},e.ClipperBase.prototype.PopLocalMinima=function(){this.m_CurrentLM!==null&&(this.m_CurrentLM=this.m_CurrentLM.Next)},e.ClipperBase.prototype.ReverseHorizontal=function(n){var s=n.Top.X;n.Top.X=n.Bot.X,n.Bot.X=s},e.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,this.m_CurrentLM!=null)for(var n=this.m_MinimaList;n!=null;){var s=n.LeftBound;s!=null&&(s.Curr.X=s.Bot.X,s.Curr.Y=s.Bot.Y,s.Side=e.EdgeSide.esLeft,s.OutIdx=e.ClipperBase.Unassigned),s=n.RightBound,s!=null&&(s.Curr.X=s.Bot.X,s.Curr.Y=s.Bot.Y,s.Side=e.EdgeSide.esRight,s.OutIdx=e.ClipperBase.Unassigned),n=n.Next}},e.Clipper=function(n){typeof n>"u"&&(n=0),this.m_PolyOuts=null,this.m_ClipType=e.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=e.PolyFillType.pftEvenOdd,this.m_SubjFillType=e.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,e.ClipperBase.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=e.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=(1&n)!==0,this.StrictlySimple=(2&n)!==0,this.PreserveCollinear=(4&n)!==0},e.Clipper.ioReverseSolution=1,e.Clipper.ioStrictlySimple=2,e.Clipper.ioPreserveCollinear=4,e.Clipper.prototype.Clear=function(){this.m_edges.length!==0&&(this.DisposeAllPolyPts(),e.ClipperBase.prototype.Clear.call(this))},e.Clipper.prototype.DisposeScanbeamList=function(){for(;this.m_Scanbeam!==null;){var n=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=n}},e.Clipper.prototype.Reset=function(){e.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var n=this.m_MinimaList;n!==null;)this.InsertScanbeam(n.Y),n=n.Next},e.Clipper.prototype.InsertScanbeam=function(n){if(this.m_Scanbeam===null)this.m_Scanbeam=new e.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=n;else if(n>this.m_Scanbeam.Y){var s=new e.Scanbeam;s.Y=n,s.Next=this.m_Scanbeam,this.m_Scanbeam=s}else{for(var a=this.m_Scanbeam;a.Next!==null&&n<=a.Next.Y;)a=a.Next;if(n==a.Y)return;var s=new e.Scanbeam;s.Y=n,s.Next=a.Next,a.Next=s}},e.Clipper.prototype.Execute=function(){var n=arguments,s=n.length,a=n[1]instanceof e.PolyTree;if(s==4&&!a){var u=n[0],d=n[1],m=n[2],v=n[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&e.Error("Error: PolyTree struct is need for open path clipping."),this.m_ExecuteLocked=!0,e.Clear(d),this.m_SubjFillType=m,this.m_ClipFillType=v,this.m_ClipType=u,this.m_UsingPolyTree=!1;try{var x=this.ExecuteInternal();x&&this.BuildResult(d)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return x}else if(s==4&&a){var u=n[0],C=n[1],m=n[2],v=n[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=m,this.m_ClipFillType=v,this.m_ClipType=u,this.m_UsingPolyTree=!0;try{var x=this.ExecuteInternal();x&&this.BuildResult2(C)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return x}else if(s==2&&!a){var u=n[0],d=n[1];return this.Execute(u,d,e.PolyFillType.pftEvenOdd,e.PolyFillType.pftEvenOdd)}else if(s==2&&a){var u=n[0],C=n[1];return this.Execute(u,C,e.PolyFillType.pftEvenOdd,e.PolyFillType.pftEvenOdd)}},e.Clipper.prototype.FixHoleLinkage=function(n){if(!(n.FirstLeft===null||n.IsHole!=n.FirstLeft.IsHole&&n.FirstLeft.Pts!==null)){for(var s=n.FirstLeft;s!==null&&(s.IsHole==n.IsHole||s.Pts===null);)s=s.FirstLeft;n.FirstLeft=s}},e.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),this.m_CurrentLM===null)return!1;var n=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(n),e.Clear(this.m_GhostJoins),this.ProcessHorizontals(!1),this.m_Scanbeam===null)break;var s=this.PopScanbeam();if(!this.ProcessIntersections(n,s))return!1;this.ProcessEdgesAtTopOfScanbeam(s),n=s}while(this.m_Scanbeam!==null||this.m_CurrentLM!==null);for(var a=0,u=this.m_PolyOuts.length;a<u;a++){var d=this.m_PolyOuts[a];d.Pts===null||d.IsOpen||(d.IsHole^this.ReverseSolution)==this.Area(d)>0&&this.ReversePolyPtLinks(d.Pts)}this.JoinCommonEdges();for(var a=0,u=this.m_PolyOuts.length;a<u;a++){var d=this.m_PolyOuts[a];d.Pts!==null&&!d.IsOpen&&this.FixupOutPolygon(d)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{e.Clear(this.m_Joins),e.Clear(this.m_GhostJoins)}},e.Clipper.prototype.PopScanbeam=function(){var n=this.m_Scanbeam.Y;return this.m_Scanbeam,this.m_Scanbeam=this.m_Scanbeam.Next,n},e.Clipper.prototype.DisposeAllPolyPts=function(){for(var n=0,s=this.m_PolyOuts.length;n<s;++n)this.DisposeOutRec(n);e.Clear(this.m_PolyOuts)},e.Clipper.prototype.DisposeOutRec=function(n){var s=this.m_PolyOuts[n];s.Pts!==null&&this.DisposeOutPts(s.Pts),s=null,this.m_PolyOuts[n]=null},e.Clipper.prototype.DisposeOutPts=function(n){if(n!==null)for(n.Prev.Next=null;n!==null;)n=n.Next},e.Clipper.prototype.AddJoin=function(n,s,a){var u=new e.Join;u.OutPt1=n,u.OutPt2=s,u.OffPt.X=a.X,u.OffPt.Y=a.Y,this.m_Joins.push(u)},e.Clipper.prototype.AddGhostJoin=function(n,s){var a=new e.Join;a.OutPt1=n,a.OffPt.X=s.X,a.OffPt.Y=s.Y,this.m_GhostJoins.push(a)},e.Clipper.prototype.InsertLocalMinimaIntoAEL=function(n){for(;this.m_CurrentLM!==null&&this.m_CurrentLM.Y==n;){var s=this.m_CurrentLM.LeftBound,a=this.m_CurrentLM.RightBound;this.PopLocalMinima();var u=null;if(s===null?(this.InsertEdgeIntoAEL(a,null),this.SetWindingCount(a),this.IsContributing(a)&&(u=this.AddOutPt(a,a.Bot))):a==null?(this.InsertEdgeIntoAEL(s,null),this.SetWindingCount(s),this.IsContributing(s)&&(u=this.AddOutPt(s,s.Bot)),this.InsertScanbeam(s.Top.Y)):(this.InsertEdgeIntoAEL(s,null),this.InsertEdgeIntoAEL(a,s),this.SetWindingCount(s),a.WindCnt=s.WindCnt,a.WindCnt2=s.WindCnt2,this.IsContributing(s)&&(u=this.AddLocalMinPoly(s,a,s.Bot)),this.InsertScanbeam(s.Top.Y)),a!=null&&(e.ClipperBase.IsHorizontal(a)?this.AddEdgeToSEL(a):this.InsertScanbeam(a.Top.Y)),!(s==null||a==null)){if(u!==null&&e.ClipperBase.IsHorizontal(a)&&this.m_GhostJoins.length>0&&a.WindDelta!==0)for(var d=0,m=this.m_GhostJoins.length;d<m;d++){var v=this.m_GhostJoins[d];this.HorzSegmentsOverlap(v.OutPt1.Pt,v.OffPt,a.Bot,a.Top)&&this.AddJoin(v.OutPt1,u,v.OffPt)}if(s.OutIdx>=0&&s.PrevInAEL!==null&&s.PrevInAEL.Curr.X==s.Bot.X&&s.PrevInAEL.OutIdx>=0&&e.ClipperBase.SlopesEqual(s.PrevInAEL,s,this.m_UseFullRange)&&s.WindDelta!==0&&s.PrevInAEL.WindDelta!==0){var x=this.AddOutPt(s.PrevInAEL,s.Bot);this.AddJoin(u,x,s.Top)}if(s.NextInAEL!=a){if(a.OutIdx>=0&&a.PrevInAEL.OutIdx>=0&&e.ClipperBase.SlopesEqual(a.PrevInAEL,a,this.m_UseFullRange)&&a.WindDelta!==0&&a.PrevInAEL.WindDelta!==0){var x=this.AddOutPt(a.PrevInAEL,a.Bot);this.AddJoin(u,x,a.Top)}var C=s.NextInAEL;if(C!==null)for(;C!=a;)this.IntersectEdges(a,C,s.Curr,!1),C=C.NextInAEL}}}},e.Clipper.prototype.InsertEdgeIntoAEL=function(n,s){if(this.m_ActiveEdges===null)n.PrevInAEL=null,n.NextInAEL=null,this.m_ActiveEdges=n;else if(s===null&&this.E2InsertsBeforeE1(this.m_ActiveEdges,n))n.PrevInAEL=null,n.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=n,this.m_ActiveEdges=n;else{for(s===null&&(s=this.m_ActiveEdges);s.NextInAEL!==null&&!this.E2InsertsBeforeE1(s.NextInAEL,n);)s=s.NextInAEL;n.NextInAEL=s.NextInAEL,s.NextInAEL!==null&&(s.NextInAEL.PrevInAEL=n),n.PrevInAEL=s,s.NextInAEL=n}},e.Clipper.prototype.E2InsertsBeforeE1=function(n,s){return s.Curr.X==n.Curr.X?s.Top.Y>n.Top.Y?s.Top.X<e.Clipper.TopX(n,s.Top.Y):n.Top.X>e.Clipper.TopX(s,n.Top.Y):s.Curr.X<n.Curr.X},e.Clipper.prototype.IsEvenOddFillType=function(n){return n.PolyTyp==e.PolyType.ptSubject?this.m_SubjFillType==e.PolyFillType.pftEvenOdd:this.m_ClipFillType==e.PolyFillType.pftEvenOdd},e.Clipper.prototype.IsEvenOddAltFillType=function(n){return n.PolyTyp==e.PolyType.ptSubject?this.m_ClipFillType==e.PolyFillType.pftEvenOdd:this.m_SubjFillType==e.PolyFillType.pftEvenOdd},e.Clipper.prototype.IsContributing=function(n){var s,a;switch(n.PolyTyp==e.PolyType.ptSubject?(s=this.m_SubjFillType,a=this.m_ClipFillType):(s=this.m_ClipFillType,a=this.m_SubjFillType),s){case e.PolyFillType.pftEvenOdd:if(n.WindDelta===0&&n.WindCnt!=1)return!1;break;case e.PolyFillType.pftNonZero:if(Math.abs(n.WindCnt)!=1)return!1;break;case e.PolyFillType.pftPositive:if(n.WindCnt!=1)return!1;break;default:if(n.WindCnt!=-1)return!1;break}switch(this.m_ClipType){case e.ClipType.ctIntersection:switch(a){case e.PolyFillType.pftEvenOdd:case e.PolyFillType.pftNonZero:return n.WindCnt2!==0;case e.PolyFillType.pftPositive:return n.WindCnt2>0;default:return n.WindCnt2<0}case e.ClipType.ctUnion:switch(a){case e.PolyFillType.pftEvenOdd:case e.PolyFillType.pftNonZero:return n.WindCnt2===0;case e.PolyFillType.pftPositive:return n.WindCnt2<=0;default:return n.WindCnt2>=0}case e.ClipType.ctDifference:if(n.PolyTyp==e.PolyType.ptSubject)switch(a){case e.PolyFillType.pftEvenOdd:case e.PolyFillType.pftNonZero:return n.WindCnt2===0;case e.PolyFillType.pftPositive:return n.WindCnt2<=0;default:return n.WindCnt2>=0}else switch(a){case e.PolyFillType.pftEvenOdd:case e.PolyFillType.pftNonZero:return n.WindCnt2!==0;case e.PolyFillType.pftPositive:return n.WindCnt2>0;default:return n.WindCnt2<0}case e.ClipType.ctXor:if(n.WindDelta===0)switch(a){case e.PolyFillType.pftEvenOdd:case e.PolyFillType.pftNonZero:return n.WindCnt2===0;case e.PolyFillType.pftPositive:return n.WindCnt2<=0;default:return n.WindCnt2>=0}else return!0}return!0},e.Clipper.prototype.SetWindingCount=function(n){for(var s=n.PrevInAEL;s!==null&&(s.PolyTyp!=n.PolyTyp||s.WindDelta===0);)s=s.PrevInAEL;if(s===null)n.WindCnt=n.WindDelta===0?1:n.WindDelta,n.WindCnt2=0,s=this.m_ActiveEdges;else if(n.WindDelta===0&&this.m_ClipType!=e.ClipType.ctUnion)n.WindCnt=1,n.WindCnt2=s.WindCnt2,s=s.NextInAEL;else if(this.IsEvenOddFillType(n)){if(n.WindDelta===0){for(var a=!0,u=s.PrevInAEL;u!==null;)u.PolyTyp==s.PolyTyp&&u.WindDelta!==0&&(a=!a),u=u.PrevInAEL;n.WindCnt=a?0:1}else n.WindCnt=n.WindDelta;n.WindCnt2=s.WindCnt2,s=s.NextInAEL}else s.WindCnt*s.WindDelta<0?Math.abs(s.WindCnt)>1?s.WindDelta*n.WindDelta<0?n.WindCnt=s.WindCnt:n.WindCnt=s.WindCnt+n.WindDelta:n.WindCnt=n.WindDelta===0?1:n.WindDelta:n.WindDelta===0?n.WindCnt=s.WindCnt<0?s.WindCnt-1:s.WindCnt+1:s.WindDelta*n.WindDelta<0?n.WindCnt=s.WindCnt:n.WindCnt=s.WindCnt+n.WindDelta,n.WindCnt2=s.WindCnt2,s=s.NextInAEL;if(this.IsEvenOddAltFillType(n))for(;s!=n;)s.WindDelta!==0&&(n.WindCnt2=n.WindCnt2===0?1:0),s=s.NextInAEL;else for(;s!=n;)n.WindCnt2+=s.WindDelta,s=s.NextInAEL},e.Clipper.prototype.AddEdgeToSEL=function(n){this.m_SortedEdges===null?(this.m_SortedEdges=n,n.PrevInSEL=null,n.NextInSEL=null):(n.NextInSEL=this.m_SortedEdges,n.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=n,this.m_SortedEdges=n)},e.Clipper.prototype.CopyAELToSEL=function(){var n=this.m_ActiveEdges;for(this.m_SortedEdges=n;n!==null;)n.PrevInSEL=n.PrevInAEL,n.NextInSEL=n.NextInAEL,n=n.NextInAEL},e.Clipper.prototype.SwapPositionsInAEL=function(n,s){if(!(n.NextInAEL==n.PrevInAEL||s.NextInAEL==s.PrevInAEL)){if(n.NextInAEL==s){var a=s.NextInAEL;a!==null&&(a.PrevInAEL=n);var u=n.PrevInAEL;u!==null&&(u.NextInAEL=s),s.PrevInAEL=u,s.NextInAEL=n,n.PrevInAEL=s,n.NextInAEL=a}else if(s.NextInAEL==n){var a=n.NextInAEL;a!==null&&(a.PrevInAEL=s);var u=s.PrevInAEL;u!==null&&(u.NextInAEL=n),n.PrevInAEL=u,n.NextInAEL=s,s.PrevInAEL=n,s.NextInAEL=a}else{var a=n.NextInAEL,u=n.PrevInAEL;n.NextInAEL=s.NextInAEL,n.NextInAEL!==null&&(n.NextInAEL.PrevInAEL=n),n.PrevInAEL=s.PrevInAEL,n.PrevInAEL!==null&&(n.PrevInAEL.NextInAEL=n),s.NextInAEL=a,s.NextInAEL!==null&&(s.NextInAEL.PrevInAEL=s),s.PrevInAEL=u,s.PrevInAEL!==null&&(s.PrevInAEL.NextInAEL=s)}n.PrevInAEL===null?this.m_ActiveEdges=n:s.PrevInAEL===null&&(this.m_ActiveEdges=s)}},e.Clipper.prototype.SwapPositionsInSEL=function(n,s){if(!(n.NextInSEL===null&&n.PrevInSEL===null)&&!(s.NextInSEL===null&&s.PrevInSEL===null)){if(n.NextInSEL==s){var a=s.NextInSEL;a!==null&&(a.PrevInSEL=n);var u=n.PrevInSEL;u!==null&&(u.NextInSEL=s),s.PrevInSEL=u,s.NextInSEL=n,n.PrevInSEL=s,n.NextInSEL=a}else if(s.NextInSEL==n){var a=n.NextInSEL;a!==null&&(a.PrevInSEL=s);var u=s.PrevInSEL;u!==null&&(u.NextInSEL=n),n.PrevInSEL=u,n.NextInSEL=s,s.PrevInSEL=n,s.NextInSEL=a}else{var a=n.NextInSEL,u=n.PrevInSEL;n.NextInSEL=s.NextInSEL,n.NextInSEL!==null&&(n.NextInSEL.PrevInSEL=n),n.PrevInSEL=s.PrevInSEL,n.PrevInSEL!==null&&(n.PrevInSEL.NextInSEL=n),s.NextInSEL=a,s.NextInSEL!==null&&(s.NextInSEL.PrevInSEL=s),s.PrevInSEL=u,s.PrevInSEL!==null&&(s.PrevInSEL.NextInSEL=s)}n.PrevInSEL===null?this.m_SortedEdges=n:s.PrevInSEL===null&&(this.m_SortedEdges=s)}},e.Clipper.prototype.AddLocalMaxPoly=function(n,s,a){this.AddOutPt(n,a),s.WindDelta==0&&this.AddOutPt(s,a),n.OutIdx==s.OutIdx?(n.OutIdx=-1,s.OutIdx=-1):n.OutIdx<s.OutIdx?this.AppendPolygon(n,s):this.AppendPolygon(s,n)},e.Clipper.prototype.AddLocalMinPoly=function(n,s,a){var u,d,m;if(e.ClipperBase.IsHorizontal(s)||n.Dx>s.Dx?(u=this.AddOutPt(n,a),s.OutIdx=n.OutIdx,n.Side=e.EdgeSide.esLeft,s.Side=e.EdgeSide.esRight,d=n,d.PrevInAEL==s?m=s.PrevInAEL:m=d.PrevInAEL):(u=this.AddOutPt(s,a),n.OutIdx=s.OutIdx,n.Side=e.EdgeSide.esRight,s.Side=e.EdgeSide.esLeft,d=s,d.PrevInAEL==n?m=n.PrevInAEL:m=d.PrevInAEL),m!==null&&m.OutIdx>=0&&e.Clipper.TopX(m,a.Y)==e.Clipper.TopX(d,a.Y)&&e.ClipperBase.SlopesEqual(d,m,this.m_UseFullRange)&&d.WindDelta!==0&&m.WindDelta!==0){var v=this.AddOutPt(m,a);this.AddJoin(u,v,d.Top)}return u},e.Clipper.prototype.CreateOutRec=function(){var n=new e.OutRec;return n.Idx=-1,n.IsHole=!1,n.IsOpen=!1,n.FirstLeft=null,n.Pts=null,n.BottomPt=null,n.PolyNode=null,this.m_PolyOuts.push(n),n.Idx=this.m_PolyOuts.length-1,n},e.Clipper.prototype.AddOutPt=function(n,s){var a=n.Side==e.EdgeSide.esLeft;if(n.OutIdx<0){var u=this.CreateOutRec();u.IsOpen=n.WindDelta===0;var d=new e.OutPt;return u.Pts=d,d.Idx=u.Idx,d.Pt.X=s.X,d.Pt.Y=s.Y,d.Next=d,d.Prev=d,u.IsOpen||this.SetHoleState(n,u),n.OutIdx=u.Idx,d}else{var u=this.m_PolyOuts[n.OutIdx],m=u.Pts;if(a&&e.IntPoint.op_Equality(s,m.Pt))return m;if(!a&&e.IntPoint.op_Equality(s,m.Prev.Pt))return m.Prev;var d=new e.OutPt;return d.Idx=u.Idx,d.Pt.X=s.X,d.Pt.Y=s.Y,d.Next=m,d.Prev=m.Prev,d.Prev.Next=d,m.Prev=d,a&&(u.Pts=d),d}},e.Clipper.prototype.SwapPoints=function(n,s){var a=new e.IntPoint(n.Value);n.Value.X=s.Value.X,n.Value.Y=s.Value.Y,s.Value.X=a.X,s.Value.Y=a.Y},e.Clipper.prototype.HorzSegmentsOverlap=function(n,s,a,u){return n.X>a.X==n.X<u.X||s.X>a.X==s.X<u.X||a.X>n.X==a.X<s.X||u.X>n.X==u.X<s.X||n.X==a.X&&s.X==u.X?!0:n.X==u.X&&s.X==a.X},e.Clipper.prototype.InsertPolyPtBetween=function(n,s,a){var u=new e.OutPt;return u.Pt.X=a.X,u.Pt.Y=a.Y,s==n.Next?(n.Next=u,s.Prev=u,u.Next=s,u.Prev=n):(s.Next=u,n.Prev=u,u.Next=n,u.Prev=s),u},e.Clipper.prototype.SetHoleState=function(n,s){for(var a=!1,u=n.PrevInAEL;u!==null;)u.OutIdx>=0&&u.WindDelta!=0&&(a=!a,s.FirstLeft===null&&(s.FirstLeft=this.m_PolyOuts[u.OutIdx])),u=u.PrevInAEL;a&&(s.IsHole=!0)},e.Clipper.prototype.GetDx=function(n,s){return n.Y==s.Y?e.ClipperBase.horizontal:(s.X-n.X)/(s.Y-n.Y)},e.Clipper.prototype.FirstIsBottomPt=function(n,s){for(var a=n.Prev;e.IntPoint.op_Equality(a.Pt,n.Pt)&&a!=n;)a=a.Prev;var u=Math.abs(this.GetDx(n.Pt,a.Pt));for(a=n.Next;e.IntPoint.op_Equality(a.Pt,n.Pt)&&a!=n;)a=a.Next;var d=Math.abs(this.GetDx(n.Pt,a.Pt));for(a=s.Prev;e.IntPoint.op_Equality(a.Pt,s.Pt)&&a!=s;)a=a.Prev;var m=Math.abs(this.GetDx(s.Pt,a.Pt));for(a=s.Next;e.IntPoint.op_Equality(a.Pt,s.Pt)&&a!=s;)a=a.Next;var v=Math.abs(this.GetDx(s.Pt,a.Pt));return u>=m&&u>=v||d>=m&&d>=v},e.Clipper.prototype.GetBottomPt=function(n){for(var s=null,a=n.Next;a!=n;)a.Pt.Y>n.Pt.Y?(n=a,s=null):a.Pt.Y==n.Pt.Y&&a.Pt.X<=n.Pt.X&&(a.Pt.X<n.Pt.X?(s=null,n=a):a.Next!=n&&a.Prev!=n&&(s=a)),a=a.Next;if(s!==null)for(;s!=a;)for(this.FirstIsBottomPt(a,s)||(n=s),s=s.Next;e.IntPoint.op_Inequality(s.Pt,n.Pt);)s=s.Next;return n},e.Clipper.prototype.GetLowermostRec=function(n,s){n.BottomPt===null&&(n.BottomPt=this.GetBottomPt(n.Pts)),s.BottomPt===null&&(s.BottomPt=this.GetBottomPt(s.Pts));var a=n.BottomPt,u=s.BottomPt;return a.Pt.Y>u.Pt.Y?n:a.Pt.Y<u.Pt.Y?s:a.Pt.X<u.Pt.X?n:a.Pt.X>u.Pt.X||a.Next==a?s:u.Next==u||this.FirstIsBottomPt(a,u)?n:s},e.Clipper.prototype.Param1RightOfParam2=function(n,s){do if(n=n.FirstLeft,n==s)return!0;while(n!==null);return!1},e.Clipper.prototype.GetOutRec=function(n){for(var s=this.m_PolyOuts[n];s!=this.m_PolyOuts[s.Idx];)s=this.m_PolyOuts[s.Idx];return s},e.Clipper.prototype.AppendPolygon=function(n,s){var a=this.m_PolyOuts[n.OutIdx],u=this.m_PolyOuts[s.OutIdx],d;this.Param1RightOfParam2(a,u)?d=u:this.Param1RightOfParam2(u,a)?d=a:d=this.GetLowermostRec(a,u);var m=a.Pts,v=m.Prev,x=u.Pts,C=x.Prev,I;n.Side==e.EdgeSide.esLeft?(s.Side==e.EdgeSide.esLeft?(this.ReversePolyPtLinks(x),x.Next=m,m.Prev=x,v.Next=C,C.Prev=v,a.Pts=C):(C.Next=m,m.Prev=C,x.Prev=v,v.Next=x,a.Pts=x),I=e.EdgeSide.esLeft):(s.Side==e.EdgeSide.esRight?(this.ReversePolyPtLinks(x),v.Next=C,C.Prev=v,x.Next=m,m.Prev=x):(v.Next=x,x.Prev=v,m.Prev=C,C.Next=m),I=e.EdgeSide.esRight),a.BottomPt=null,d==u&&(u.FirstLeft!=a&&(a.FirstLeft=u.FirstLeft),a.IsHole=u.IsHole),u.Pts=null,u.BottomPt=null,u.FirstLeft=a;var M=n.OutIdx,A=s.OutIdx;n.OutIdx=-1,s.OutIdx=-1;for(var k=this.m_ActiveEdges;k!==null;){if(k.OutIdx==A){k.OutIdx=M,k.Side=I;break}k=k.NextInAEL}u.Idx=a.Idx},e.Clipper.prototype.ReversePolyPtLinks=function(n){if(n!==null){var s,a;s=n;do a=s.Next,s.Next=s.Prev,s.Prev=a,s=a;while(s!=n)}},e.Clipper.SwapSides=function(n,s){var a=n.Side;n.Side=s.Side,s.Side=a},e.Clipper.SwapPolyIndexes=function(n,s){var a=n.OutIdx;n.OutIdx=s.OutIdx,s.OutIdx=a},e.Clipper.prototype.IntersectEdges=function(n,s,a,u){var d=!u&&n.NextInLML===null&&n.Top.X==a.X&&n.Top.Y==a.Y,m=!u&&s.NextInLML===null&&s.Top.X==a.X&&s.Top.Y==a.Y,v=n.OutIdx>=0,x=s.OutIdx>=0;if(n.WindDelta===0||s.WindDelta===0){n.WindDelta===0&&s.WindDelta===0?(d||m)&&v&&x&&this.AddLocalMaxPoly(n,s,a):n.PolyTyp==s.PolyTyp&&n.WindDelta!=s.WindDelta&&this.m_ClipType==e.ClipType.ctUnion?n.WindDelta===0?x&&(this.AddOutPt(n,a),v&&(n.OutIdx=-1)):v&&(this.AddOutPt(s,a),x&&(s.OutIdx=-1)):n.PolyTyp!=s.PolyTyp&&(n.WindDelta===0&&Math.abs(s.WindCnt)==1&&(this.m_ClipType!=e.ClipType.ctUnion||s.WindCnt2===0)?(this.AddOutPt(n,a),v&&(n.OutIdx=-1)):s.WindDelta===0&&Math.abs(n.WindCnt)==1&&(this.m_ClipType!=e.ClipType.ctUnion||n.WindCnt2===0)&&(this.AddOutPt(s,a),x&&(s.OutIdx=-1))),d&&(n.OutIdx<0?this.DeleteFromAEL(n):e.Error("Error intersecting polylines")),m&&(s.OutIdx<0?this.DeleteFromAEL(s):e.Error("Error intersecting polylines"));return}if(n.PolyTyp==s.PolyTyp)if(this.IsEvenOddFillType(n)){var C=n.WindCnt;n.WindCnt=s.WindCnt,s.WindCnt=C}else n.WindCnt+s.WindDelta===0?n.WindCnt=-n.WindCnt:n.WindCnt+=s.WindDelta,s.WindCnt-n.WindDelta===0?s.WindCnt=-s.WindCnt:s.WindCnt-=n.WindDelta;else this.IsEvenOddFillType(s)?n.WindCnt2=n.WindCnt2===0?1:0:n.WindCnt2+=s.WindDelta,this.IsEvenOddFillType(n)?s.WindCnt2=s.WindCnt2===0?1:0:s.WindCnt2-=n.WindDelta;var I,M,A,k;n.PolyTyp==e.PolyType.ptSubject?(I=this.m_SubjFillType,A=this.m_ClipFillType):(I=this.m_ClipFillType,A=this.m_SubjFillType),s.PolyTyp==e.PolyType.ptSubject?(M=this.m_SubjFillType,k=this.m_ClipFillType):(M=this.m_ClipFillType,k=this.m_SubjFillType);var Y,R;switch(I){case e.PolyFillType.pftPositive:Y=n.WindCnt;break;case e.PolyFillType.pftNegative:Y=-n.WindCnt;break;default:Y=Math.abs(n.WindCnt);break}switch(M){case e.PolyFillType.pftPositive:R=s.WindCnt;break;case e.PolyFillType.pftNegative:R=-s.WindCnt;break;default:R=Math.abs(s.WindCnt);break}if(v&&x)d||m||Y!==0&&Y!=1||R!==0&&R!=1||n.PolyTyp!=s.PolyTyp&&this.m_ClipType!=e.ClipType.ctXor?this.AddLocalMaxPoly(n,s,a):(this.AddOutPt(n,a),this.AddOutPt(s,a),e.Clipper.SwapSides(n,s),e.Clipper.SwapPolyIndexes(n,s));else if(v)(R===0||R==1)&&(this.AddOutPt(n,a),e.Clipper.SwapSides(n,s),e.Clipper.SwapPolyIndexes(n,s));else if(x)(Y===0||Y==1)&&(this.AddOutPt(s,a),e.Clipper.SwapSides(n,s),e.Clipper.SwapPolyIndexes(n,s));else if((Y===0||Y==1)&&(R===0||R==1)&&!d&&!m){var j,gt;switch(A){case e.PolyFillType.pftPositive:j=n.WindCnt2;break;case e.PolyFillType.pftNegative:j=-n.WindCnt2;break;default:j=Math.abs(n.WindCnt2);break}switch(k){case e.PolyFillType.pftPositive:gt=s.WindCnt2;break;case e.PolyFillType.pftNegative:gt=-s.WindCnt2;break;default:gt=Math.abs(s.WindCnt2);break}if(n.PolyTyp!=s.PolyTyp)this.AddLocalMinPoly(n,s,a);else if(Y==1&&R==1)switch(this.m_ClipType){case e.ClipType.ctIntersection:j>0&&gt>0&&this.AddLocalMinPoly(n,s,a);break;case e.ClipType.ctUnion:j<=0&&gt<=0&&this.AddLocalMinPoly(n,s,a);break;case e.ClipType.ctDifference:(n.PolyTyp==e.PolyType.ptClip&&j>0&&gt>0||n.PolyTyp==e.PolyType.ptSubject&&j<=0&&gt<=0)&&this.AddLocalMinPoly(n,s,a);break;case e.ClipType.ctXor:this.AddLocalMinPoly(n,s,a);break}else e.Clipper.SwapSides(n,s)}d!=m&&(d&&n.OutIdx>=0||m&&s.OutIdx>=0)&&(e.Clipper.SwapSides(n,s),e.Clipper.SwapPolyIndexes(n,s)),d&&this.DeleteFromAEL(n),m&&this.DeleteFromAEL(s)},e.Clipper.prototype.DeleteFromAEL=function(n){var s=n.PrevInAEL,a=n.NextInAEL;s===null&&a===null&&n!=this.m_ActiveEdges||(s!==null?s.NextInAEL=a:this.m_ActiveEdges=a,a!==null&&(a.PrevInAEL=s),n.NextInAEL=null,n.PrevInAEL=null)},e.Clipper.prototype.DeleteFromSEL=function(n){var s=n.PrevInSEL,a=n.NextInSEL;s===null&&a===null&&n!=this.m_SortedEdges||(s!==null?s.NextInSEL=a:this.m_SortedEdges=a,a!==null&&(a.PrevInSEL=s),n.NextInSEL=null,n.PrevInSEL=null)},e.Clipper.prototype.UpdateEdgeIntoAEL=function(n){n.NextInLML===null&&e.Error("UpdateEdgeIntoAEL: invalid call");var s=n.PrevInAEL,a=n.NextInAEL;return n.NextInLML.OutIdx=n.OutIdx,s!==null?s.NextInAEL=n.NextInLML:this.m_ActiveEdges=n.NextInLML,a!==null&&(a.PrevInAEL=n.NextInLML),n.NextInLML.Side=n.Side,n.NextInLML.WindDelta=n.WindDelta,n.NextInLML.WindCnt=n.WindCnt,n.NextInLML.WindCnt2=n.WindCnt2,n=n.NextInLML,n.Curr.X=n.Bot.X,n.Curr.Y=n.Bot.Y,n.PrevInAEL=s,n.NextInAEL=a,e.ClipperBase.IsHorizontal(n)||this.InsertScanbeam(n.Top.Y),n},e.Clipper.prototype.ProcessHorizontals=function(n){for(var s=this.m_SortedEdges;s!==null;)this.DeleteFromSEL(s),this.ProcessHorizontal(s,n),s=this.m_SortedEdges},e.Clipper.prototype.GetHorzDirection=function(n,s){n.Bot.X<n.Top.X?(s.Left=n.Bot.X,s.Right=n.Top.X,s.Dir=e.Direction.dLeftToRight):(s.Left=n.Top.X,s.Right=n.Bot.X,s.Dir=e.Direction.dRightToLeft)},e.Clipper.prototype.PrepareHorzJoins=function(n,s){var a=this.m_PolyOuts[n.OutIdx].Pts;n.Side!=e.EdgeSide.esLeft&&(a=a.Prev),s&&(e.IntPoint.op_Equality(a.Pt,n.Top)?this.AddGhostJoin(a,n.Bot):this.AddGhostJoin(a,n.Top))},e.Clipper.prototype.ProcessHorizontal=function(n,s){var a={Dir:null,Left:null,Right:null};this.GetHorzDirection(n,a);for(var u=a.Dir,d=a.Left,m=a.Right,v=n,x=null;v.NextInLML!==null&&e.ClipperBase.IsHorizontal(v.NextInLML);)v=v.NextInLML;for(v.NextInLML===null&&(x=this.GetMaximaPair(v));;){for(var C=n==v,I=this.GetNextInAEL(n,u);I!==null&&!(I.Curr.X==n.Top.X&&n.NextInLML!==null&&I.Dx<n.NextInLML.Dx);){var M=this.GetNextInAEL(I,u);if(u==e.Direction.dLeftToRight&&I.Curr.X<=m||u==e.Direction.dRightToLeft&&I.Curr.X>=d){if(n.OutIdx>=0&&n.WindDelta!=0&&this.PrepareHorzJoins(n,s),I==x&&C){u==e.Direction.dLeftToRight?this.IntersectEdges(n,I,I.Top,!1):this.IntersectEdges(I,n,I.Top,!1),x.OutIdx>=0&&e.Error("ProcessHorizontal error");return}else if(u==e.Direction.dLeftToRight){var A=new e.IntPoint(I.Curr.X,n.Curr.Y);this.IntersectEdges(n,I,A,!0)}else{var A=new e.IntPoint(I.Curr.X,n.Curr.Y);this.IntersectEdges(I,n,A,!0)}this.SwapPositionsInAEL(n,I)}else if(u==e.Direction.dLeftToRight&&I.Curr.X>=m||u==e.Direction.dRightToLeft&&I.Curr.X<=d)break;I=M}if(n.OutIdx>=0&&n.WindDelta!==0&&this.PrepareHorzJoins(n,s),n.NextInLML!==null&&e.ClipperBase.IsHorizontal(n.NextInLML)){n=this.UpdateEdgeIntoAEL(n),n.OutIdx>=0&&this.AddOutPt(n,n.Bot);var a={Dir:u,Left:d,Right:m};this.GetHorzDirection(n,a),u=a.Dir,d=a.Left,m=a.Right}else break}if(n.NextInLML!==null)if(n.OutIdx>=0){var k=this.AddOutPt(n,n.Top);if(n=this.UpdateEdgeIntoAEL(n),n.WindDelta===0)return;var Y=n.PrevInAEL,M=n.NextInAEL;if(Y!==null&&Y.Curr.X==n.Bot.X&&Y.Curr.Y==n.Bot.Y&&Y.WindDelta!==0&&Y.OutIdx>=0&&Y.Curr.Y>Y.Top.Y&&e.ClipperBase.SlopesEqual(n,Y,this.m_UseFullRange)){var R=this.AddOutPt(Y,n.Bot);this.AddJoin(k,R,n.Top)}else if(M!==null&&M.Curr.X==n.Bot.X&&M.Curr.Y==n.Bot.Y&&M.WindDelta!==0&&M.OutIdx>=0&&M.Curr.Y>M.Top.Y&&e.ClipperBase.SlopesEqual(n,M,this.m_UseFullRange)){var R=this.AddOutPt(M,n.Bot);this.AddJoin(k,R,n.Top)}}else n=this.UpdateEdgeIntoAEL(n);else x!==null?x.OutIdx>=0?(u==e.Direction.dLeftToRight?this.IntersectEdges(n,x,n.Top,!1):this.IntersectEdges(x,n,n.Top,!1),x.OutIdx>=0&&e.Error("ProcessHorizontal error")):(this.DeleteFromAEL(n),this.DeleteFromAEL(x)):(n.OutIdx>=0&&this.AddOutPt(n,n.Top),this.DeleteFromAEL(n))},e.Clipper.prototype.GetNextInAEL=function(n,s){return s==e.Direction.dLeftToRight?n.NextInAEL:n.PrevInAEL},e.Clipper.prototype.IsMinima=function(n){return n!==null&&n.Prev.NextInLML!=n&&n.Next.NextInLML!=n},e.Clipper.prototype.IsMaxima=function(n,s){return n!==null&&n.Top.Y==s&&n.NextInLML===null},e.Clipper.prototype.IsIntermediate=function(n,s){return n.Top.Y==s&&n.NextInLML!==null},e.Clipper.prototype.GetMaximaPair=function(n){var s=null;return e.IntPoint.op_Equality(n.Next.Top,n.Top)&&n.Next.NextInLML===null?s=n.Next:e.IntPoint.op_Equality(n.Prev.Top,n.Top)&&n.Prev.NextInLML===null&&(s=n.Prev),s!==null&&(s.OutIdx==-2||s.NextInAEL==s.PrevInAEL&&!e.ClipperBase.IsHorizontal(s))?null:s},e.Clipper.prototype.ProcessIntersections=function(n,s){if(this.m_ActiveEdges==null)return!0;try{if(this.BuildIntersectList(n,s),this.m_IntersectList.length==0)return!0;if(this.m_IntersectList.length==1||this.FixupIntersectionOrder())this.ProcessIntersectList();else return!1}catch{this.m_SortedEdges=null,this.m_IntersectList.length=0,e.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},e.Clipper.prototype.BuildIntersectList=function(n,s){if(this.m_ActiveEdges!==null){var a=this.m_ActiveEdges;for(this.m_SortedEdges=a;a!==null;)a.PrevInSEL=a.PrevInAEL,a.NextInSEL=a.NextInAEL,a.Curr.X=e.Clipper.TopX(a,s),a=a.NextInAEL;for(var u=!0;u&&this.m_SortedEdges!==null;){for(u=!1,a=this.m_SortedEdges;a.NextInSEL!==null;){var d=a.NextInSEL,m=new e.IntPoint;if(a.Curr.X>d.Curr.X){!this.IntersectPoint(a,d,m)&&a.Curr.X>d.Curr.X+1&&e.Error("Intersection error"),m.Y>n&&(m.Y=n,Math.abs(a.Dx)>Math.abs(d.Dx)?m.X=e.Clipper.TopX(d,n):m.X=e.Clipper.TopX(a,n));var v=new e.IntersectNode;v.Edge1=a,v.Edge2=d,v.Pt.X=m.X,v.Pt.Y=m.Y,this.m_IntersectList.push(v),this.SwapPositionsInSEL(a,d),u=!0}else a=d}if(a.PrevInSEL!==null)a.PrevInSEL.NextInSEL=null;else break}this.m_SortedEdges=null}},e.Clipper.prototype.EdgesAdjacent=function(n){return n.Edge1.NextInSEL==n.Edge2||n.Edge1.PrevInSEL==n.Edge2},e.Clipper.IntersectNodeSort=function(n,s){return s.Pt.Y-n.Pt.Y},e.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var n=this.m_IntersectList.length,s=0;s<n;s++){if(!this.EdgesAdjacent(this.m_IntersectList[s])){for(var a=s+1;a<n&&!this.EdgesAdjacent(this.m_IntersectList[a]);)a++;if(a==n)return!1;var u=this.m_IntersectList[s];this.m_IntersectList[s]=this.m_IntersectList[a],this.m_IntersectList[a]=u}this.SwapPositionsInSEL(this.m_IntersectList[s].Edge1,this.m_IntersectList[s].Edge2)}return!0},e.Clipper.prototype.ProcessIntersectList=function(){for(var n=0,s=this.m_IntersectList.length;n<s;n++){var a=this.m_IntersectList[n];this.IntersectEdges(a.Edge1,a.Edge2,a.Pt,!0),this.SwapPositionsInAEL(a.Edge1,a.Edge2)}this.m_IntersectList.length=0};var wt=function(n){return n<0?Math.ceil(n-.5):Math.round(n)},Ki=function(n){return n<0?Math.ceil(n-.5):Math.floor(n+.5)},Li=function(n){return n<0?-Math.round(Math.abs(n)):Math.round(n)},qt=function(n){return n<0?(n-=.5,n<-2147483648?Math.ceil(n):n|0):(n+=.5,n>2147483647?Math.floor(n):n|0)};p.msie?e.Clipper.Round=wt:p.chromium?e.Clipper.Round=Li:p.safari?e.Clipper.Round=qt:e.Clipper.Round=Ki,e.Clipper.TopX=function(n,s){return s==n.Top.Y?n.Top.X:n.Bot.X+e.Clipper.Round(n.Dx*(s-n.Bot.Y))},e.Clipper.prototype.IntersectPoint=function(n,s,a){a.X=0,a.Y=0;var u,d;if(e.ClipperBase.SlopesEqual(n,s,this.m_UseFullRange)||n.Dx==s.Dx)return s.Bot.Y>n.Bot.Y?(a.X=s.Bot.X,a.Y=s.Bot.Y):(a.X=n.Bot.X,a.Y=n.Bot.Y),!1;if(n.Delta.X===0)a.X=n.Bot.X,e.ClipperBase.IsHorizontal(s)?a.Y=s.Bot.Y:(d=s.Bot.Y-s.Bot.X/s.Dx,a.Y=e.Clipper.Round(a.X/s.Dx+d));else if(s.Delta.X===0)a.X=s.Bot.X,e.ClipperBase.IsHorizontal(n)?a.Y=n.Bot.Y:(u=n.Bot.Y-n.Bot.X/n.Dx,a.Y=e.Clipper.Round(a.X/n.Dx+u));else{u=n.Bot.X-n.Bot.Y*n.Dx,d=s.Bot.X-s.Bot.Y*s.Dx;var m=(d-u)/(n.Dx-s.Dx);a.Y=e.Clipper.Round(m),Math.abs(n.Dx)<Math.abs(s.Dx)?a.X=e.Clipper.Round(n.Dx*m+u):a.X=e.Clipper.Round(s.Dx*m+d)}if(a.Y<n.Top.Y||a.Y<s.Top.Y){if(n.Top.Y>s.Top.Y)return a.Y=n.Top.Y,a.X=e.Clipper.TopX(s,n.Top.Y),a.X<n.Top.X;a.Y=s.Top.Y,Math.abs(n.Dx)<Math.abs(s.Dx)?a.X=e.Clipper.TopX(n,a.Y):a.X=e.Clipper.TopX(s,a.Y)}return!0},e.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(n){for(var s=this.m_ActiveEdges;s!==null;){var a=this.IsMaxima(s,n);if(a){var u=this.GetMaximaPair(s);a=u===null||!e.ClipperBase.IsHorizontal(u)}if(a){var d=s.PrevInAEL;this.DoMaxima(s),d===null?s=this.m_ActiveEdges:s=d.NextInAEL}else{if(this.IsIntermediate(s,n)&&e.ClipperBase.IsHorizontal(s.NextInLML)?(s=this.UpdateEdgeIntoAEL(s),s.OutIdx>=0&&this.AddOutPt(s,s.Bot),this.AddEdgeToSEL(s)):(s.Curr.X=e.Clipper.TopX(s,n),s.Curr.Y=n),this.StrictlySimple){var d=s.PrevInAEL;if(s.OutIdx>=0&&s.WindDelta!==0&&d!==null&&d.OutIdx>=0&&d.Curr.X==s.Curr.X&&d.WindDelta!==0){var m=this.AddOutPt(d,s.Curr),v=this.AddOutPt(s,s.Curr);this.AddJoin(m,v,s.Curr)}}s=s.NextInAEL}}for(this.ProcessHorizontals(!0),s=this.m_ActiveEdges;s!==null;){if(this.IsIntermediate(s,n)){var m=null;s.OutIdx>=0&&(m=this.AddOutPt(s,s.Top)),s=this.UpdateEdgeIntoAEL(s);var d=s.PrevInAEL,x=s.NextInAEL;if(d!==null&&d.Curr.X==s.Bot.X&&d.Curr.Y==s.Bot.Y&&m!==null&&d.OutIdx>=0&&d.Curr.Y>d.Top.Y&&e.ClipperBase.SlopesEqual(s,d,this.m_UseFullRange)&&s.WindDelta!==0&&d.WindDelta!==0){var v=this.AddOutPt(d,s.Bot);this.AddJoin(m,v,s.Top)}else if(x!==null&&x.Curr.X==s.Bot.X&&x.Curr.Y==s.Bot.Y&&m!==null&&x.OutIdx>=0&&x.Curr.Y>x.Top.Y&&e.ClipperBase.SlopesEqual(s,x,this.m_UseFullRange)&&s.WindDelta!==0&&x.WindDelta!==0){var v=this.AddOutPt(x,s.Bot);this.AddJoin(m,v,s.Top)}}s=s.NextInAEL}},e.Clipper.prototype.DoMaxima=function(n){var s=this.GetMaximaPair(n);if(s===null){n.OutIdx>=0&&this.AddOutPt(n,n.Top),this.DeleteFromAEL(n);return}for(var a=n.NextInAEL;a!==null&&a!=s;)this.IntersectEdges(n,a,n.Top,!0),this.SwapPositionsInAEL(n,a),a=n.NextInAEL;n.OutIdx==-1&&s.OutIdx==-1?(this.DeleteFromAEL(n),this.DeleteFromAEL(s)):n.OutIdx>=0&&s.OutIdx>=0?this.IntersectEdges(n,s,n.Top,!1):n.WindDelta===0?(n.OutIdx>=0&&(this.AddOutPt(n,n.Top),n.OutIdx=-1),this.DeleteFromAEL(n),s.OutIdx>=0&&(this.AddOutPt(s,n.Top),s.OutIdx=-1),this.DeleteFromAEL(s)):e.Error("DoMaxima error")},e.Clipper.ReversePaths=function(n){for(var s=0,a=n.length;s<a;s++)n[s].reverse()},e.Clipper.Orientation=function(n){return e.Clipper.Area(n)>=0},e.Clipper.prototype.PointCount=function(n){if(n===null)return 0;var s=0,a=n;do s++,a=a.Next;while(a!=n);return s},e.Clipper.prototype.BuildResult=function(n){e.Clear(n);for(var s=0,a=this.m_PolyOuts.length;s<a;s++){var u=this.m_PolyOuts[s];if(u.Pts!==null){var d=u.Pts.Prev,m=this.PointCount(d);if(!(m<2)){for(var v=new Array(m),x=0;x<m;x++)v[x]=d.Pt,d=d.Prev;n.push(v)}}}},e.Clipper.prototype.BuildResult2=function(n){n.Clear();for(var s=0,a=this.m_PolyOuts.length;s<a;s++){var u=this.m_PolyOuts[s],d=this.PointCount(u.Pts);if(!(u.IsOpen&&d<2||!u.IsOpen&&d<3)){this.FixHoleLinkage(u);var m=new e.PolyNode;n.m_AllPolys.push(m),u.PolyNode=m,m.m_polygon.length=d;for(var v=u.Pts.Prev,x=0;x<d;x++)m.m_polygon[x]=v.Pt,v=v.Prev}}for(var s=0,a=this.m_PolyOuts.length;s<a;s++){var u=this.m_PolyOuts[s];u.PolyNode!==null&&(u.IsOpen?(u.PolyNode.IsOpen=!0,n.AddChild(u.PolyNode)):u.FirstLeft!==null&&u.FirstLeft.PolyNode!=null?u.FirstLeft.PolyNode.AddChild(u.PolyNode):n.AddChild(u.PolyNode))}},e.Clipper.prototype.FixupOutPolygon=function(n){var s=null;n.BottomPt=null;for(var a=n.Pts;;){if(a.Prev==a||a.Prev==a.Next){this.DisposeOutPts(a),n.Pts=null;return}if(e.IntPoint.op_Equality(a.Pt,a.Next.Pt)||e.IntPoint.op_Equality(a.Pt,a.Prev.Pt)||e.ClipperBase.SlopesEqual(a.Prev.Pt,a.Pt,a.Next.Pt,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(a.Prev.Pt,a.Pt,a.Next.Pt)))s=null,a.Prev.Next=a.Next,a.Next.Prev=a.Prev,a=a.Prev;else{if(a==s)break;s===null&&(s=a),a=a.Next}}n.Pts=a},e.Clipper.prototype.DupOutPt=function(n,s){var a=new e.OutPt;return a.Pt.X=n.Pt.X,a.Pt.Y=n.Pt.Y,a.Idx=n.Idx,s?(a.Next=n.Next,a.Prev=n,n.Next.Prev=a,n.Next=a):(a.Prev=n.Prev,a.Next=n,n.Prev.Next=a,n.Prev=a),a},e.Clipper.prototype.GetOverlap=function(n,s,a,u,d){return n<s?a<u?(d.Left=Math.max(n,a),d.Right=Math.min(s,u)):(d.Left=Math.max(n,u),d.Right=Math.min(s,a)):a<u?(d.Left=Math.max(s,a),d.Right=Math.min(n,u)):(d.Left=Math.max(s,u),d.Right=Math.min(n,a)),d.Left<d.Right},e.Clipper.prototype.JoinHorz=function(n,s,a,u,d,m){var v=n.Pt.X>s.Pt.X?e.Direction.dRightToLeft:e.Direction.dLeftToRight,x=a.Pt.X>u.Pt.X?e.Direction.dRightToLeft:e.Direction.dLeftToRight;if(v==x)return!1;if(v==e.Direction.dLeftToRight){for(;n.Next.Pt.X<=d.X&&n.Next.Pt.X>=n.Pt.X&&n.Next.Pt.Y==d.Y;)n=n.Next;m&&n.Pt.X!=d.X&&(n=n.Next),s=this.DupOutPt(n,!m),e.IntPoint.op_Inequality(s.Pt,d)&&(n=s,n.Pt.X=d.X,n.Pt.Y=d.Y,s=this.DupOutPt(n,!m))}else{for(;n.Next.Pt.X>=d.X&&n.Next.Pt.X<=n.Pt.X&&n.Next.Pt.Y==d.Y;)n=n.Next;!m&&n.Pt.X!=d.X&&(n=n.Next),s=this.DupOutPt(n,m),e.IntPoint.op_Inequality(s.Pt,d)&&(n=s,n.Pt.X=d.X,n.Pt.Y=d.Y,s=this.DupOutPt(n,m))}if(x==e.Direction.dLeftToRight){for(;a.Next.Pt.X<=d.X&&a.Next.Pt.X>=a.Pt.X&&a.Next.Pt.Y==d.Y;)a=a.Next;m&&a.Pt.X!=d.X&&(a=a.Next),u=this.DupOutPt(a,!m),e.IntPoint.op_Inequality(u.Pt,d)&&(a=u,a.Pt.X=d.X,a.Pt.Y=d.Y,u=this.DupOutPt(a,!m))}else{for(;a.Next.Pt.X>=d.X&&a.Next.Pt.X<=a.Pt.X&&a.Next.Pt.Y==d.Y;)a=a.Next;!m&&a.Pt.X!=d.X&&(a=a.Next),u=this.DupOutPt(a,m),e.IntPoint.op_Inequality(u.Pt,d)&&(a=u,a.Pt.X=d.X,a.Pt.Y=d.Y,u=this.DupOutPt(a,m))}return v==e.Direction.dLeftToRight==m?(n.Prev=a,a.Next=n,s.Next=u,u.Prev=s):(n.Next=a,a.Prev=n,s.Prev=u,u.Next=s),!0},e.Clipper.prototype.JoinPoints=function(n,s,a){var u=n.OutPt1,d=new e.OutPt,m=n.OutPt2,v=new e.OutPt,x=n.OutPt1.Pt.Y==n.OffPt.Y;if(x&&e.IntPoint.op_Equality(n.OffPt,n.OutPt1.Pt)&&e.IntPoint.op_Equality(n.OffPt,n.OutPt2.Pt)){for(d=n.OutPt1.Next;d!=u&&e.IntPoint.op_Equality(d.Pt,n.OffPt);)d=d.Next;var C=d.Pt.Y>n.OffPt.Y;for(v=n.OutPt2.Next;v!=m&&e.IntPoint.op_Equality(v.Pt,n.OffPt);)v=v.Next;var I=v.Pt.Y>n.OffPt.Y;return C==I?!1:C?(d=this.DupOutPt(u,!1),v=this.DupOutPt(m,!0),u.Prev=m,m.Next=u,d.Next=v,v.Prev=d,n.OutPt1=u,n.OutPt2=d,!0):(d=this.DupOutPt(u,!0),v=this.DupOutPt(m,!1),u.Next=m,m.Prev=u,d.Prev=v,v.Next=d,n.OutPt1=u,n.OutPt2=d,!0)}else if(x){for(d=u;u.Prev.Pt.Y==u.Pt.Y&&u.Prev!=d&&u.Prev!=m;)u=u.Prev;for(;d.Next.Pt.Y==d.Pt.Y&&d.Next!=u&&d.Next!=m;)d=d.Next;if(d.Next==u||d.Next==m)return!1;for(v=m;m.Prev.Pt.Y==m.Pt.Y&&m.Prev!=v&&m.Prev!=d;)m=m.Prev;for(;v.Next.Pt.Y==v.Pt.Y&&v.Next!=m&&v.Next!=u;)v=v.Next;if(v.Next==m||v.Next==u)return!1;var M={Left:null,Right:null};if(!this.GetOverlap(u.Pt.X,d.Pt.X,m.Pt.X,v.Pt.X,M))return!1;var A=M.Left,k=M.Right,Y=new e.IntPoint,R;return u.Pt.X>=A&&u.Pt.X<=k?(Y.X=u.Pt.X,Y.Y=u.Pt.Y,R=u.Pt.X>d.Pt.X):m.Pt.X>=A&&m.Pt.X<=k?(Y.X=m.Pt.X,Y.Y=m.Pt.Y,R=m.Pt.X>v.Pt.X):d.Pt.X>=A&&d.Pt.X<=k?(Y.X=d.Pt.X,Y.Y=d.Pt.Y,R=d.Pt.X>u.Pt.X):(Y.X=v.Pt.X,Y.Y=v.Pt.Y,R=v.Pt.X>m.Pt.X),n.OutPt1=u,n.OutPt2=m,this.JoinHorz(u,d,m,v,Y,R)}else{for(d=u.Next;e.IntPoint.op_Equality(d.Pt,u.Pt)&&d!=u;)d=d.Next;var j=d.Pt.Y>u.Pt.Y||!e.ClipperBase.SlopesEqual(u.Pt,d.Pt,n.OffPt,this.m_UseFullRange);if(j){for(d=u.Prev;e.IntPoint.op_Equality(d.Pt,u.Pt)&&d!=u;)d=d.Prev;if(d.Pt.Y>u.Pt.Y||!e.ClipperBase.SlopesEqual(u.Pt,d.Pt,n.OffPt,this.m_UseFullRange))return!1}for(v=m.Next;e.IntPoint.op_Equality(v.Pt,m.Pt)&&v!=m;)v=v.Next;var gt=v.Pt.Y>m.Pt.Y||!e.ClipperBase.SlopesEqual(m.Pt,v.Pt,n.OffPt,this.m_UseFullRange);if(gt){for(v=m.Prev;e.IntPoint.op_Equality(v.Pt,m.Pt)&&v!=m;)v=v.Prev;if(v.Pt.Y>m.Pt.Y||!e.ClipperBase.SlopesEqual(m.Pt,v.Pt,n.OffPt,this.m_UseFullRange))return!1}return d==u||v==m||d==v||s==a&&j==gt?!1:j?(d=this.DupOutPt(u,!1),v=this.DupOutPt(m,!0),u.Prev=m,m.Next=u,d.Next=v,v.Prev=d,n.OutPt1=u,n.OutPt2=d,!0):(d=this.DupOutPt(u,!0),v=this.DupOutPt(m,!1),u.Next=m,m.Prev=u,d.Prev=v,v.Next=d,n.OutPt1=u,n.OutPt2=d,!0)}},e.Clipper.GetBounds=function(n){for(var s=0,a=n.length;s<a&&n[s].length==0;)s++;if(s==a)return new e.IntRect(0,0,0,0);var u=new e.IntRect;for(u.left=n[s][0].X,u.right=u.left,u.top=n[s][0].Y,u.bottom=u.top;s<a;s++)for(var d=0,m=n[s].length;d<m;d++)n[s][d].X<u.left?u.left=n[s][d].X:n[s][d].X>u.right&&(u.right=n[s][d].X),n[s][d].Y<u.top?u.top=n[s][d].Y:n[s][d].Y>u.bottom&&(u.bottom=n[s][d].Y);return u},e.Clipper.prototype.GetBounds2=function(n){var s=n,a=new e.IntRect;for(a.left=n.Pt.X,a.right=n.Pt.X,a.top=n.Pt.Y,a.bottom=n.Pt.Y,n=n.Next;n!=s;)n.Pt.X<a.left&&(a.left=n.Pt.X),n.Pt.X>a.right&&(a.right=n.Pt.X),n.Pt.Y<a.top&&(a.top=n.Pt.Y),n.Pt.Y>a.bottom&&(a.bottom=n.Pt.Y),n=n.Next;return a},e.Clipper.PointInPolygon=function(n,s){var a=0,u=s.length;if(u<3)return 0;for(var d=s[0],m=1;m<=u;++m){var v=m==u?s[0]:s[m];if(v.Y==n.Y&&(v.X==n.X||d.Y==n.Y&&v.X>n.X==d.X<n.X))return-1;if(d.Y<n.Y!=v.Y<n.Y){if(d.X>=n.X)if(v.X>n.X)a=1-a;else{var x=(d.X-n.X)*(v.Y-n.Y)-(v.X-n.X)*(d.Y-n.Y);if(x==0)return-1;x>0==v.Y>d.Y&&(a=1-a)}else if(v.X>n.X){var x=(d.X-n.X)*(v.Y-n.Y)-(v.X-n.X)*(d.Y-n.Y);if(x==0)return-1;x>0==v.Y>d.Y&&(a=1-a)}}d=v}return a},e.Clipper.prototype.PointInPolygon=function(n,s){for(var a=0,u=s;;){var d=s.Pt.X,m=s.Pt.Y,v=s.Next.Pt.X,x=s.Next.Pt.Y;if(x==n.Y&&(v==n.X||m==n.Y&&v>n.X==d<n.X))return-1;if(m<n.Y!=x<n.Y){if(d>=n.X)if(v>n.X)a=1-a;else{var C=(d-n.X)*(x-n.Y)-(v-n.X)*(m-n.Y);if(C==0)return-1;C>0==x>m&&(a=1-a)}else if(v>n.X){var C=(d-n.X)*(x-n.Y)-(v-n.X)*(m-n.Y);if(C==0)return-1;C>0==x>m&&(a=1-a)}}if(s=s.Next,u==s)break}return a},e.Clipper.prototype.Poly2ContainsPoly1=function(n,s){var a=n;do{var u=this.PointInPolygon(a.Pt,s);if(u>=0)return u!=0;a=a.Next}while(a!=n);return!0},e.Clipper.prototype.FixupFirstLefts1=function(n,s){for(var a=0,u=this.m_PolyOuts.length;a<u;a++){var d=this.m_PolyOuts[a];d.Pts!==null&&d.FirstLeft==n&&this.Poly2ContainsPoly1(d.Pts,s.Pts)&&(d.FirstLeft=s)}},e.Clipper.prototype.FixupFirstLefts2=function(n,s){for(var a=0,u=this.m_PolyOuts,d=u.length,m=u[a];a<d;a++,m=u[a])m.FirstLeft==n&&(m.FirstLeft=s)},e.Clipper.ParseFirstLeft=function(n){for(;n!=null&&n.Pts==null;)n=n.FirstLeft;return n},e.Clipper.prototype.JoinCommonEdges=function(){for(var n=0,s=this.m_Joins.length;n<s;n++){var a=this.m_Joins[n],u=this.GetOutRec(a.OutPt1.Idx),d=this.GetOutRec(a.OutPt2.Idx);if(!(u.Pts==null||d.Pts==null)){var m;if(u==d?m=u:this.Param1RightOfParam2(u,d)?m=d:this.Param1RightOfParam2(d,u)?m=u:m=this.GetLowermostRec(u,d),!!this.JoinPoints(a,u,d))if(u==d){if(u.Pts=a.OutPt1,u.BottomPt=null,d=this.CreateOutRec(),d.Pts=a.OutPt2,this.UpdateOutPtIdxs(d),this.m_UsingPolyTree)for(var v=0,x=this.m_PolyOuts.length;v<x-1;v++){var C=this.m_PolyOuts[v];C.Pts==null||e.Clipper.ParseFirstLeft(C.FirstLeft)!=u||C.IsHole==u.IsHole||this.Poly2ContainsPoly1(C.Pts,a.OutPt2)&&(C.FirstLeft=d)}this.Poly2ContainsPoly1(d.Pts,u.Pts)?(d.IsHole=!u.IsHole,d.FirstLeft=u,this.m_UsingPolyTree&&this.FixupFirstLefts2(d,u),(d.IsHole^this.ReverseSolution)==this.Area(d)>0&&this.ReversePolyPtLinks(d.Pts)):this.Poly2ContainsPoly1(u.Pts,d.Pts)?(d.IsHole=u.IsHole,u.IsHole=!d.IsHole,d.FirstLeft=u.FirstLeft,u.FirstLeft=d,this.m_UsingPolyTree&&this.FixupFirstLefts2(u,d),(u.IsHole^this.ReverseSolution)==this.Area(u)>0&&this.ReversePolyPtLinks(u.Pts)):(d.IsHole=u.IsHole,d.FirstLeft=u.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(u,d))}else d.Pts=null,d.BottomPt=null,d.Idx=u.Idx,u.IsHole=m.IsHole,m==d&&(u.FirstLeft=d.FirstLeft),d.FirstLeft=u,this.m_UsingPolyTree&&this.FixupFirstLefts2(d,u)}}},e.Clipper.prototype.UpdateOutPtIdxs=function(n){var s=n.Pts;do s.Idx=n.Idx,s=s.Prev;while(s!=n.Pts)},e.Clipper.prototype.DoSimplePolygons=function(){for(var n=0;n<this.m_PolyOuts.length;){var s=this.m_PolyOuts[n++],a=s.Pts;if(a!==null)do{for(var u=a.Next;u!=s.Pts;){if(e.IntPoint.op_Equality(a.Pt,u.Pt)&&u.Next!=a&&u.Prev!=a){var d=a.Prev,m=u.Prev;a.Prev=m,m.Next=a,u.Prev=d,d.Next=u,s.Pts=a;var v=this.CreateOutRec();v.Pts=u,this.UpdateOutPtIdxs(v),this.Poly2ContainsPoly1(v.Pts,s.Pts)?(v.IsHole=!s.IsHole,v.FirstLeft=s):this.Poly2ContainsPoly1(s.Pts,v.Pts)?(v.IsHole=s.IsHole,s.IsHole=!v.IsHole,v.FirstLeft=s.FirstLeft,s.FirstLeft=v):(v.IsHole=s.IsHole,v.FirstLeft=s.FirstLeft),u=a}u=u.Next}a=a.Next}while(a!=s.Pts)}},e.Clipper.Area=function(n){var s=n.length;if(s<3)return 0;for(var a=0,u=0,d=s-1;u<s;++u)a+=(n[d].X+n[u].X)*(n[d].Y-n[u].Y),d=u;return-a*.5},e.Clipper.prototype.Area=function(n){var s=n.Pts;if(s==null)return 0;var a=0;do a=a+(s.Prev.Pt.X+s.Pt.X)*(s.Prev.Pt.Y-s.Pt.Y),s=s.Next;while(s!=n.Pts);return a*.5},e.Clipper.SimplifyPolygon=function(n,s){var a=new Array,u=new e.Clipper(0);return u.StrictlySimple=!0,u.AddPath(n,e.PolyType.ptSubject,!0),u.Execute(e.ClipType.ctUnion,a,s,s),a},e.Clipper.SimplifyPolygons=function(n,s){typeof s>"u"&&(s=e.PolyFillType.pftEvenOdd);var a=new Array,u=new e.Clipper(0);return u.StrictlySimple=!0,u.AddPaths(n,e.PolyType.ptSubject,!0),u.Execute(e.ClipType.ctUnion,a,s,s),a},e.Clipper.DistanceSqrd=function(n,s){var a=n.X-s.X,u=n.Y-s.Y;return a*a+u*u},e.Clipper.DistanceFromLineSqrd=function(n,s,a){var u=s.Y-a.Y,d=a.X-s.X,m=u*s.X+d*s.Y;return m=u*n.X+d*n.Y-m,m*m/(u*u+d*d)},e.Clipper.SlopesNearCollinear=function(n,s,a,u){return e.Clipper.DistanceFromLineSqrd(s,n,a)<u},e.Clipper.PointsAreClose=function(n,s,a){var u=n.X-s.X,d=n.Y-s.Y;return u*u+d*d<=a},e.Clipper.ExcludeOp=function(n){var s=n.Prev;return s.Next=n.Next,n.Next.Prev=s,s.Idx=0,s},e.Clipper.CleanPolygon=function(n,s){typeof s>"u"&&(s=1.415);var a=n.length;if(a==0)return new Array;for(var u=new Array(a),d=0;d<a;++d)u[d]=new e.OutPt;for(var d=0;d<a;++d)u[d].Pt=n[d],u[d].Next=u[(d+1)%a],u[d].Next.Prev=u[d],u[d].Idx=0;for(var m=s*s,v=u[0];v.Idx==0&&v.Next!=v.Prev;)e.Clipper.PointsAreClose(v.Pt,v.Prev.Pt,m)?(v=e.Clipper.ExcludeOp(v),a--):e.Clipper.PointsAreClose(v.Prev.Pt,v.Next.Pt,m)?(e.Clipper.ExcludeOp(v.Next),v=e.Clipper.ExcludeOp(v),a-=2):e.Clipper.SlopesNearCollinear(v.Prev.Pt,v.Pt,v.Next.Pt,m)?(v=e.Clipper.ExcludeOp(v),a--):(v.Idx=1,v=v.Next);a<3&&(a=0);for(var x=new Array(a),d=0;d<a;++d)x[d]=new e.IntPoint(v.Pt),v=v.Next;return u=null,x},e.Clipper.CleanPolygons=function(n,s){for(var a=new Array(n.length),u=0,d=n.length;u<d;u++)a[u]=e.Clipper.CleanPolygon(n[u],s);return a},e.Clipper.Minkowski=function(n,s,a,u){var d=u?1:0,m=n.length,v=s.length,x=new Array;if(a)for(var C=0;C<v;C++){for(var I=new Array(m),M=0,A=n.length,k=n[M];M<A;M++,k=n[M])I[M]=new e.IntPoint(s[C].X+k.X,s[C].Y+k.Y);x.push(I)}else for(var C=0;C<v;C++){for(var I=new Array(m),M=0,A=n.length,k=n[M];M<A;M++,k=n[M])I[M]=new e.IntPoint(s[C].X-k.X,s[C].Y-k.Y);x.push(I)}for(var Y=new Array,C=0;C<v-1+d;C++)for(var M=0;M<m;M++){var R=new Array;R.push(x[C%v][M%m]),R.push(x[(C+1)%v][M%m]),R.push(x[(C+1)%v][(M+1)%m]),R.push(x[C%v][(M+1)%m]),e.Clipper.Orientation(R)||R.reverse(),Y.push(R)}var j=new e.Clipper(0);return j.AddPaths(Y,e.PolyType.ptSubject,!0),j.Execute(e.ClipType.ctUnion,x,e.PolyFillType.pftNonZero,e.PolyFillType.pftNonZero),x},e.Clipper.MinkowskiSum=function(){var n=arguments,s=n.length;if(s==3){var a=n[0],u=n[1],d=n[2];return e.Clipper.Minkowski(a,u,!0,d)}else if(s==4){for(var a=n[0],m=n[1],v=n[2],d=n[3],x=new e.Clipper,C,I=0,M=m.length;I<M;++I){var C=e.Clipper.Minkowski(a,m[I],!0,d);x.AddPaths(C,e.PolyType.ptSubject,!0)}d&&x.AddPaths(m,e.PolyType.ptClip,!0);var A=new e.Paths;return x.Execute(e.ClipType.ctUnion,A,v,v),A}},e.Clipper.MinkowskiDiff=function(n,s,a){return e.Clipper.Minkowski(n,s,!1,a)},e.Clipper.PolyTreeToPaths=function(n){var s=new Array;return e.Clipper.AddPolyNodeToPaths(n,e.Clipper.NodeType.ntAny,s),s},e.Clipper.AddPolyNodeToPaths=function(n,s,a){var u=!0;switch(s){case e.Clipper.NodeType.ntOpen:return;case e.Clipper.NodeType.ntClosed:u=!n.IsOpen;break}n.m_polygon.length>0&&u&&a.push(n.m_polygon);for(var d=0,m=n.Childs(),v=m.length,x=m[d];d<v;d++,x=m[d])e.Clipper.AddPolyNodeToPaths(x,s,a)},e.Clipper.OpenPathsFromPolyTree=function(n){for(var s=new e.Paths,a=0,u=n.ChildCount();a<u;a++)n.Childs()[a].IsOpen&&s.push(n.Childs()[a].m_polygon);return s},e.Clipper.ClosedPathsFromPolyTree=function(n){var s=new e.Paths;return e.Clipper.AddPolyNodeToPaths(n,e.Clipper.NodeType.ntClosed,s),s},H(e.Clipper,e.ClipperBase),e.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},e.ClipperOffset=function(n,s){typeof n>"u"&&(n=2),typeof s>"u"&&(s=e.ClipperOffset.def_arc_tolerance),this.m_destPolys=new e.Paths,this.m_srcPoly=new e.Path,this.m_destPoly=new e.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new e.IntPoint,this.m_polyNodes=new e.PolyNode,this.MiterLimit=n,this.ArcTolerance=s,this.m_lowest.X=-1},e.ClipperOffset.two_pi=6.28318530717959,e.ClipperOffset.def_arc_tolerance=.25,e.ClipperOffset.prototype.Clear=function(){e.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},e.ClipperOffset.Round=e.Clipper.Round,e.ClipperOffset.prototype.AddPath=function(n,s,a){var u=n.length-1;if(!(u<0)){var d=new e.PolyNode;if(d.m_jointype=s,d.m_endtype=a,a==e.EndType.etClosedLine||a==e.EndType.etClosedPolygon)for(;u>0&&e.IntPoint.op_Equality(n[0],n[u]);)u--;d.m_polygon.push(n[0]);for(var m=0,v=0,x=1;x<=u;x++)e.IntPoint.op_Inequality(d.m_polygon[m],n[x])&&(m++,d.m_polygon.push(n[x]),(n[x].Y>d.m_polygon[v].Y||n[x].Y==d.m_polygon[v].Y&&n[x].X<d.m_polygon[v].X)&&(v=m));if(!(a==e.EndType.etClosedPolygon&&m<2||a!=e.EndType.etClosedPolygon&&m<0)&&(this.m_polyNodes.AddChild(d),a==e.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new e.IntPoint(0,v);else{var C=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(d.m_polygon[v].Y>C.Y||d.m_polygon[v].Y==C.Y&&d.m_polygon[v].X<C.X)&&(this.m_lowest=new e.IntPoint(this.m_polyNodes.ChildCount()-1,v))}}},e.ClipperOffset.prototype.AddPaths=function(n,s,a){for(var u=0,d=n.length;u<d;u++)this.AddPath(n[u],s,a)},e.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!e.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var n=0;n<this.m_polyNodes.ChildCount();n++){var s=this.m_polyNodes.Childs()[n];(s.m_endtype==e.EndType.etClosedPolygon||s.m_endtype==e.EndType.etClosedLine&&e.Clipper.Orientation(s.m_polygon))&&s.m_polygon.reverse()}else for(var n=0;n<this.m_polyNodes.ChildCount();n++){var s=this.m_polyNodes.Childs()[n];s.m_endtype==e.EndType.etClosedLine&&!e.Clipper.Orientation(s.m_polygon)&&s.m_polygon.reverse()}},e.ClipperOffset.GetUnitNormal=function(n,s){var a=s.X-n.X,u=s.Y-n.Y;if(a==0&&u==0)return new e.DoublePoint(0,0);var d=1/Math.sqrt(a*a+u*u);return a*=d,u*=d,new e.DoublePoint(u,-a)},e.ClipperOffset.prototype.DoOffset=function(n){if(this.m_destPolys=new Array,this.m_delta=n,e.ClipperBase.near_zero(n)){for(var s=0;s<this.m_polyNodes.ChildCount();s++){var a=this.m_polyNodes.Childs()[s];a.m_endtype==e.EndType.etClosedPolygon&&this.m_destPolys.push(a.m_polygon)}return}this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5;var u;this.ArcTolerance<=0?u=e.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(n)*e.ClipperOffset.def_arc_tolerance?u=Math.abs(n)*e.ClipperOffset.def_arc_tolerance:u=this.ArcTolerance;var d=3.14159265358979/Math.acos(1-u/Math.abs(n));this.m_sin=Math.sin(e.ClipperOffset.two_pi/d),this.m_cos=Math.cos(e.ClipperOffset.two_pi/d),this.m_StepsPerRad=d/e.ClipperOffset.two_pi,n<0&&(this.m_sin=-this.m_sin);for(var s=0;s<this.m_polyNodes.ChildCount();s++){var a=this.m_polyNodes.Childs()[s];this.m_srcPoly=a.m_polygon;var m=this.m_srcPoly.length;if(!(m==0||n<=0&&(m<3||a.m_endtype!=e.EndType.etClosedPolygon))){if(this.m_destPoly=new Array,m==1){if(a.m_jointype==e.JoinType.jtRound)for(var v=1,x=0,C=1;C<=d;C++){this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[0].X+v*n),e.ClipperOffset.Round(this.m_srcPoly[0].Y+x*n)));var I=v;v=v*this.m_cos-this.m_sin*x,x=I*this.m_sin+x*this.m_cos}else for(var v=-1,x=-1,C=0;C<4;++C)this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[0].X+v*n),e.ClipperOffset.Round(this.m_srcPoly[0].Y+x*n))),v<0?v=1:x<0?x=1:v=-1;this.m_destPolys.push(this.m_destPoly);continue}this.m_normals.length=0;for(var C=0;C<m-1;C++)this.m_normals.push(e.ClipperOffset.GetUnitNormal(this.m_srcPoly[C],this.m_srcPoly[C+1]));if(a.m_endtype==e.EndType.etClosedLine||a.m_endtype==e.EndType.etClosedPolygon?this.m_normals.push(e.ClipperOffset.GetUnitNormal(this.m_srcPoly[m-1],this.m_srcPoly[0])):this.m_normals.push(new e.DoublePoint(this.m_normals[m-2])),a.m_endtype==e.EndType.etClosedPolygon){for(var M=m-1,C=0;C<m;C++)M=this.OffsetPoint(C,M,a.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(a.m_endtype==e.EndType.etClosedLine){for(var M=m-1,C=0;C<m;C++)M=this.OffsetPoint(C,M,a.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;for(var A=this.m_normals[m-1],C=m-1;C>0;C--)this.m_normals[C]=new e.DoublePoint(-this.m_normals[C-1].X,-this.m_normals[C-1].Y);this.m_normals[0]=new e.DoublePoint(-A.X,-A.Y),M=0;for(var C=m-1;C>=0;C--)M=this.OffsetPoint(C,M,a.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{for(var M=0,C=1;C<m-1;++C)M=this.OffsetPoint(C,M,a.m_jointype);var k;if(a.m_endtype==e.EndType.etOpenButt){var C=m-1;k=new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[C].X+this.m_normals[C].X*n),e.ClipperOffset.Round(this.m_srcPoly[C].Y+this.m_normals[C].Y*n)),this.m_destPoly.push(k),k=new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[C].X-this.m_normals[C].X*n),e.ClipperOffset.Round(this.m_srcPoly[C].Y-this.m_normals[C].Y*n)),this.m_destPoly.push(k)}else{var C=m-1;M=m-2,this.m_sinA=0,this.m_normals[C]=new e.DoublePoint(-this.m_normals[C].X,-this.m_normals[C].Y),a.m_endtype==e.EndType.etOpenSquare?this.DoSquare(C,M):this.DoRound(C,M)}for(var C=m-1;C>0;C--)this.m_normals[C]=new e.DoublePoint(-this.m_normals[C-1].X,-this.m_normals[C-1].Y);this.m_normals[0]=new e.DoublePoint(-this.m_normals[1].X,-this.m_normals[1].Y),M=m-1;for(var C=M-1;C>0;--C)M=this.OffsetPoint(C,M,a.m_jointype);a.m_endtype==e.EndType.etOpenButt?(k=new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*n),e.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*n)),this.m_destPoly.push(k),k=new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*n),e.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*n)),this.m_destPoly.push(k)):(M=1,this.m_sinA=0,a.m_endtype==e.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}}},e.ClipperOffset.prototype.Execute=function(){var n=arguments,s=n[0]instanceof e.PolyTree;if(s){var a=n[0],u=n[1];a.Clear(),this.FixOrientations(),this.DoOffset(u);var d=new e.Clipper(0);if(d.AddPaths(this.m_destPolys,e.PolyType.ptSubject,!0),u>0)d.Execute(e.ClipType.ctUnion,a,e.PolyFillType.pftPositive,e.PolyFillType.pftPositive);else{var m=e.Clipper.GetBounds(this.m_destPolys),v=new e.Path;if(v.push(new e.IntPoint(m.left-10,m.bottom+10)),v.push(new e.IntPoint(m.right+10,m.bottom+10)),v.push(new e.IntPoint(m.right+10,m.top-10)),v.push(new e.IntPoint(m.left-10,m.top-10)),d.AddPath(v,e.PolyType.ptSubject,!0),d.ReverseSolution=!0,d.Execute(e.ClipType.ctUnion,a,e.PolyFillType.pftNegative,e.PolyFillType.pftNegative),a.ChildCount()==1&&a.Childs()[0].ChildCount()>0){var x=a.Childs()[0];a.Childs()[0]=x.Childs()[0];for(var C=1;C<x.ChildCount();C++)a.AddChild(x.Childs()[C])}else a.Clear()}}else{var a=n[0],u=n[1];e.Clear(a),this.FixOrientations(),this.DoOffset(u);var d=new e.Clipper(0);if(d.AddPaths(this.m_destPolys,e.PolyType.ptSubject,!0),u>0)d.Execute(e.ClipType.ctUnion,a,e.PolyFillType.pftPositive,e.PolyFillType.pftPositive);else{var m=e.Clipper.GetBounds(this.m_destPolys),v=new e.Path;v.push(new e.IntPoint(m.left-10,m.bottom+10)),v.push(new e.IntPoint(m.right+10,m.bottom+10)),v.push(new e.IntPoint(m.right+10,m.top-10)),v.push(new e.IntPoint(m.left-10,m.top-10)),d.AddPath(v,e.PolyType.ptSubject,!0),d.ReverseSolution=!0,d.Execute(e.ClipType.ctUnion,a,e.PolyFillType.pftNegative,e.PolyFillType.pftNegative),a.length>0&&a.splice(0,1)}}},e.ClipperOffset.prototype.OffsetPoint=function(n,s,a){if(this.m_sinA=this.m_normals[s].X*this.m_normals[n].Y-this.m_normals[n].X*this.m_normals[s].Y,this.m_sinA<5e-5&&this.m_sinA>-5e-5)return s;if(this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1),this.m_sinA*this.m_delta<0)this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[n].X+this.m_normals[s].X*this.m_delta),e.ClipperOffset.Round(this.m_srcPoly[n].Y+this.m_normals[s].Y*this.m_delta))),this.m_destPoly.push(new e.IntPoint(this.m_srcPoly[n])),this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[n].X+this.m_normals[n].X*this.m_delta),e.ClipperOffset.Round(this.m_srcPoly[n].Y+this.m_normals[n].Y*this.m_delta)));else switch(a){case e.JoinType.jtMiter:{var u=1+(this.m_normals[n].X*this.m_normals[s].X+this.m_normals[n].Y*this.m_normals[s].Y);u>=this.m_miterLim?this.DoMiter(n,s,u):this.DoSquare(n,s);break}case e.JoinType.jtSquare:this.DoSquare(n,s);break;case e.JoinType.jtRound:this.DoRound(n,s);break}return s=n,s},e.ClipperOffset.prototype.DoSquare=function(n,s){var a=Math.tan(Math.atan2(this.m_sinA,this.m_normals[s].X*this.m_normals[n].X+this.m_normals[s].Y*this.m_normals[n].Y)/4);this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[n].X+this.m_delta*(this.m_normals[s].X-this.m_normals[s].Y*a)),e.ClipperOffset.Round(this.m_srcPoly[n].Y+this.m_delta*(this.m_normals[s].Y+this.m_normals[s].X*a)))),this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[n].X+this.m_delta*(this.m_normals[n].X+this.m_normals[n].Y*a)),e.ClipperOffset.Round(this.m_srcPoly[n].Y+this.m_delta*(this.m_normals[n].Y-this.m_normals[n].X*a))))},e.ClipperOffset.prototype.DoMiter=function(n,s,a){var u=this.m_delta/a;this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[n].X+(this.m_normals[s].X+this.m_normals[n].X)*u),e.ClipperOffset.Round(this.m_srcPoly[n].Y+(this.m_normals[s].Y+this.m_normals[n].Y)*u)))},e.ClipperOffset.prototype.DoRound=function(n,s){for(var a=Math.atan2(this.m_sinA,this.m_normals[s].X*this.m_normals[n].X+this.m_normals[s].Y*this.m_normals[n].Y),u=e.Cast_Int32(e.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(a))),d=this.m_normals[s].X,m=this.m_normals[s].Y,v,x=0;x<u;++x)this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[n].X+d*this.m_delta),e.ClipperOffset.Round(this.m_srcPoly[n].Y+m*this.m_delta))),v=d,d=d*this.m_cos-this.m_sin*m,m=v*this.m_sin+m*this.m_cos;this.m_destPoly.push(new e.IntPoint(e.ClipperOffset.Round(this.m_srcPoly[n].X+this.m_normals[n].X*this.m_delta),e.ClipperOffset.Round(this.m_srcPoly[n].Y+this.m_normals[n].Y*this.m_delta)))},e.Error=function(n){try{throw new Error(n)}catch(s){alert(s.message)}},e.JS={},e.JS.AreaOfPolygon=function(n,s){return s||(s=1),e.Clipper.Area(n)/(s*s)},e.JS.AreaOfPolygons=function(n,s){s||(s=1);for(var a=0,u=0;u<n.length;u++)a+=e.Clipper.Area(n[u]);return a/(s*s)},e.JS.BoundsOfPath=function(n,s){return e.JS.BoundsOfPaths([n],s)},e.JS.BoundsOfPaths=function(n,s){s||(s=1);var a=e.Clipper.GetBounds(n);return a.left/=s,a.bottom/=s,a.right/=s,a.top/=s,a},e.JS.Clean=function(u,s){if(!(u instanceof Array))return[];var a=u[0]instanceof Array,u=e.JS.Clone(u);if(typeof s!="number"||s===null)return e.Error("Delta is not a number in Clean()."),u;if(u.length===0||u.length==1&&u[0].length===0||s<0)return u;a||(u=[u]);for(var d=u.length,m,v,x,C,I,M,A,k=[],Y=0;Y<d;Y++)if(v=u[Y],m=v.length,m!==0){if(m<3){x=v,k.push(x);continue}for(x=v,C=s*s,I=v[0],M=1,A=1;A<m;A++)(v[A].X-I.X)*(v[A].X-I.X)+(v[A].Y-I.Y)*(v[A].Y-I.Y)<=C||(x[M]=v[A],I=v[A],M++);I=v[M-1],(v[0].X-I.X)*(v[0].X-I.X)+(v[0].Y-I.Y)*(v[0].Y-I.Y)<=C&&M--,M<m&&x.splice(M,m-M),x.length&&k.push(x)}return!a&&k.length?k=k[0]:!a&&k.length===0?k=[]:a&&k.length===0&&(k=[[]]),k},e.JS.Clone=function(n){if(!(n instanceof Array))return[];if(n.length===0)return[];if(n.length==1&&n[0].length===0)return[[]];var s=n[0]instanceof Array;s||(n=[n]);var a=n.length,u,d,m,v,x=new Array(a);for(d=0;d<a;d++){for(u=n[d].length,v=new Array(u),m=0;m<u;m++)v[m]={X:n[d][m].X,Y:n[d][m].Y};x[d]=v}return s||(x=x[0]),x},e.JS.Lighten=function(n,s){if(!(n instanceof Array))return[];if(typeof s!="number"||s===null)return e.Error("Tolerance is not a number in Lighten()."),e.JS.Clone(n);if(n.length===0||n.length==1&&n[0].length===0||s<0)return e.JS.Clone(n);n[0]instanceof Array||(n=[n]);var a,u,d,m,v,x,C,I,M,A,k,Y,R,j,gt,zt,F,$t=n.length,ut=s*s,we=[];for(a=0;a<$t;a++)if(d=n[a],x=d.length,x!=0){for(m=0;m<1e6;m++){for(v=[],x=d.length,d[x-1].X!=d[0].X||d[x-1].Y!=d[0].Y?(Y=1,d.push({X:d[0].X,Y:d[0].Y}),x=d.length):Y=0,k=[],u=0;u<x-2;u++)C=d[u],M=d[u+1],I=d[u+2],zt=C.X,F=C.Y,R=I.X-zt,j=I.Y-F,(R!==0||j!==0)&&(gt=((M.X-zt)*R+(M.Y-F)*j)/(R*R+j*j),gt>1?(zt=I.X,F=I.Y):gt>0&&(zt+=R*gt,F+=j*gt)),R=M.X-zt,j=M.Y-F,A=R*R+j*j,A<=ut&&(k[u+1]=1,u++);for(v.push({X:d[0].X,Y:d[0].Y}),u=1;u<x-1;u++)k[u]||v.push({X:d[u].X,Y:d[u].Y});if(v.push({X:d[x-1].X,Y:d[x-1].Y}),Y&&d.pop(),k.length)d=v;else break}x=v.length,v[x-1].X==v[0].X&&v[x-1].Y==v[0].Y&&v.pop(),v.length>2&&we.push(v)}return!n[0]instanceof Array&&(we=we[0]),typeof we>"u"&&(we=[[]]),we},e.JS.PerimeterOfPath=function(n,s,a){if(typeof n>"u")return 0;var u=Math.sqrt,d=0,m,v,x=0,C=0,I=0,M=0,A=n.length;if(A<2)return 0;for(s&&(n[A]=n[0],A++);--A;)m=n[A],x=m.X,C=m.Y,v=n[A-1],I=v.X,M=v.Y,d+=u((x-I)*(x-I)+(C-M)*(C-M));return s&&n.pop(),d/a},e.JS.PerimeterOfPaths=function(n,s,a){a||(a=1);for(var u=0,d=0;d<n.length;d++)u+=e.JS.PerimeterOfPath(n[d],s,a);return u},e.JS.ScaleDownPath=function(n,s){var a,u;for(s||(s=1),a=n.length;a--;)u=n[a],u.X=u.X/s,u.Y=u.Y/s},e.JS.ScaleDownPaths=function(n,s){var a,u,d;for(s||(s=1),a=n.length;a--;)for(u=n[a].length;u--;)d=n[a][u],d.X=d.X/s,d.Y=d.Y/s},e.JS.ScaleUpPath=function(n,s){var a,u,d=Math.round;for(s||(s=1),a=n.length;a--;)u=n[a],u.X=d(u.X*s),u.Y=d(u.Y*s)},e.JS.ScaleUpPaths=function(n,s){var a,u,d,m=Math.round;for(s||(s=1),a=n.length;a--;)for(u=n[a].length;u--;)d=n[a][u],d.X=m(d.X*s),d.Y=m(d.Y*s)},e.ExPolygons=function(){return[]},e.ExPolygon=function(){this.outer=null,this.holes=null},e.JS.AddOuterPolyNodeToExPolygons=function(n,s){var a=new e.ExPolygon;a.outer=n.Contour();var u=n.Childs(),d=u.length;a.holes=new Array(d);var m,v,x,C,I,M;for(x=0;x<d;x++)for(m=u[x],a.holes[x]=m.Contour(),C=0,I=m.Childs(),M=I.length;C<M;C++)v=I[C],e.JS.AddOuterPolyNodeToExPolygons(v,s);s.push(a)},e.JS.ExPolygonsToPaths=function(n){var s,a,u,d,m=new e.Paths;for(s=0,u=n.length;s<u;s++)for(m.push(n[s].outer),a=0,d=n[s].holes.length;a<d;a++)m.push(n[s].holes[a]);return m},e.JS.PolyTreeToExPolygons=function(n){var s=new e.ExPolygons,a,u,d,m;for(u=0,d=n.Childs(),m=d.length;u<m;u++)a=d[u],e.JS.AddOuterPolyNodeToExPolygons(a,s);return s},t.exports=e})(ch);const Fe=ch.exports,sf=(t,e)=>e.some(r=>t instanceof r);let ea,ia;function rf(){return ea||(ea=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function af(){return ia||(ia=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dh=new WeakMap,Os=new WeakMap,_h=new WeakMap,vs=new WeakMap,hr=new WeakMap;function hf(t){const e=new Promise((r,l)=>{const c=()=>{t.removeEventListener("success",p),t.removeEventListener("error",y)},p=()=>{r(qe(t.result)),c()},y=()=>{l(t.error),c()};t.addEventListener("success",p),t.addEventListener("error",y)});return e.then(r=>{r instanceof IDBCursor&&dh.set(r,t)}).catch(()=>{}),hr.set(e,t),e}function lf(t){if(Os.has(t))return;const e=new Promise((r,l)=>{const c=()=>{t.removeEventListener("complete",p),t.removeEventListener("error",y),t.removeEventListener("abort",y)},p=()=>{r(),c()},y=()=>{l(t.error),c()};t.addEventListener("complete",p),t.addEventListener("error",y),t.addEventListener("abort",y)});Os.set(t,e)}let As={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Os.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_h.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return qe(t[e])},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uf(t){As=t(As)}function ff(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const l=t.call(gs(this),e,...r);return _h.set(l,e.sort?e.sort():[e]),qe(l)}:af().includes(t)?function(...e){return t.apply(gs(this),e),qe(dh.get(this))}:function(...e){return qe(t.apply(gs(this),e))}}function cf(t){return typeof t=="function"?ff(t):(t instanceof IDBTransaction&&lf(t),sf(t,rf())?new Proxy(t,As):t)}function qe(t){if(t instanceof IDBRequest)return hf(t);if(vs.has(t))return vs.get(t);const e=cf(t);return e!==t&&(vs.set(t,e),hr.set(e,t)),e}const gs=t=>hr.get(t);function df(t,e,{blocked:r,upgrade:l,blocking:c}={}){const p=indexedDB.open(t,e),y=qe(p);return l&&p.addEventListener("upgradeneeded",P=>{l(qe(p.result),P.oldVersion,P.newVersion,qe(p.transaction))}),r&&p.addEventListener("blocked",()=>r()),c&&y.then(P=>P.addEventListener("versionchange",c)).catch(()=>{}),y}const _f=["get","getKey","getAll","getAllKeys","count"],pf=["put","add","delete","clear"],ys=new Map;function na(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ys.get(e))return ys.get(e);const r=e.replace(/FromIndex$/,""),l=e!==r,c=pf.includes(r);if(!(r in(l?IDBIndex:IDBObjectStore).prototype)||!(c||_f.includes(r)))return;const p=async function(y,...P){const T=this.transaction(y,c?"readwrite":"readonly");let E=T.store;l&&(E=E.index(P.shift()));const B=E[r](...P);return c&&await T.done,B};return ys.set(e,p),p}uf(t=>({get:(e,r,l)=>na(e,r)||t.get(e,r,l),has:(e,r)=>!!na(e,r)||t.has(e,r)}));const mf=at.Control.extend({options:{},_layers:{},initialize(t){at.Util.setOptions(this,t),this._layers={}},_addLayer(t){let e=15;t.options.minZoom&&(e=t.options.minZoom),this._layers[t._leaflet_id]=e,this._updateBox(null)},_removeLayer(t){this._layers[t._leaflet_id]=null,this._updateBox(null)},_getMinZoomLevel(){let t=-1;for(const e in this._layers)this._layers[e]!==null&&this._layers[e]>t&&(t=this._layers[e]);return t},_updateBox(t){const e=this._getMinZoomLevel();t!==null&&at.DomEvent.preventDefault(t),e==-1?this._container.innerHTML=this.options.minZoomMessageNoLayer:this._container.innerHTML=this.options.minZoomMessage.replace(/CURRENTZOOM/,this._map.getZoom()).replace(/MINZOOMLEVEL/,e),this._map.getZoom()>=e?this._container.style.display="none":this._container.style.display="block"},onAdd(t){return this._map=t,this._map.zoomIndicator=this,this._container=at.DomUtil.create("div","leaflet-control-minZoomIndicator"),this._map.on("moveend",this._updateBox,this),this._updateBox(null),this._container},onRemove(t){t.off({moveend:this._updateBox},this)}});at.Control.MinZoomIndicator=mf;const ph=at.FeatureGroup.extend({options:{debug:!1,minZoom:15,endPoint:"https://overpass-api.de/api/",query:"(node({{bbox}})[organic];node({{bbox}})[second_hand];);out qt;",loadedBounds:[],markerIcon:null,timeout:30*1e3,retryOnTimeout:!1,noInitialRequest:!1,cacheEnabled:!1,cacheTTL:1800,beforeRequest(){},afterRequest(){},onSuccess(t){for(let e=0;e<t.elements.length;e++){let r,l;const c=t.elements[e];if(c.id in this._ids)continue;this._ids[c.id]=!0,c.type==="node"?r=at.latLng(c.lat,c.lon):r=at.latLng(c.center.lat,c.center.lon),this.options.markerIcon?l=at.marker(r,{icon:this.options.markerIcon}):l=at.circle(r,20,{stroke:!1,fillColor:"#E54041",fillOpacity:.9});const p=this._getPoiPopupHTML(c.tags,c.id),y=at.popup().setContent(p);l.bindPopup(y),this._markers.addLayer(l)}},onError(){},onTimeout(){},minZoomIndicatorEnabled:!0,minZoomIndicatorOptions:{minZoomMessageNoLayer:"No layer assigned",minZoomMessage:"Current zoom Level: CURRENTZOOM. Data are visible at Level: MINZOOMLEVEL."}},initialize(t){at.Util.setOptions(this,t),this._ids={},this._loadedBounds=t.loadedBounds||[],this._requestInProgress=!1,this.options.cacheEnabled&&this._initCacheDb()},async _initCacheDb(){this._cacheDb=await df("leaflet-overpass-layer",1,{upgrade(e){e.createObjectStore("cache",{autoIncrement:!0})}}),!!this._map&&this._loadCachedItems()},_getPoiPopupHTML(t,e){let r;const l=document.createElement("a"),c=document.createElement("table"),p=document.createElement("div");l.href=`https://www.openstreetmap.org/edit?editor=id&node=${e}`,l.appendChild(document.createTextNode("Edit this entry in iD")),c.style.borderSpacing="10px",c.style.borderCollapse="separate";for(const y in t)r=c.insertRow(0),r.insertCell(0).appendChild(document.createTextNode(y)),r.insertCell(1).appendChild(document.createTextNode(t[y]));return p.appendChild(l),p.appendChild(c),p},_buildRequestBox(t){return at.rectangle(t,{bounds:t,color:"#204a87",stroke:!1,fillOpacity:.1,clickable:!1})},_addRequestBox(t){return this._requestBoxes.addLayer(t)},_getRequestBoxes(){return this._requestBoxes.getLayers()},_removeRequestBox(t){this._requestBoxes.removeLayer(t)},_removeRequestBoxes(){return this._requestBoxes.clearLayers()},_addResponseBox(t){return this._responseBoxes.addLayer(t)},_addResponseBoxes(t){this._removeRequestBoxes(),t.forEach(e=>{e.setStyle({color:"black",weight:2}),this._addResponseBox(e)})},_isFullyLoadedBounds(t,e){if(e.length===0)return!1;const r=this._buildClipsFromBounds([t]),l=this._buildClipsFromBounds(e),c=new Fe.Clipper,p=new Fe.PolyTree;return c.AddPaths(r,Fe.PolyType.ptSubject,!0),c.AddPaths(l,Fe.PolyType.ptClip,!0),c.Execute(Fe.ClipType.ctDifference,p,Fe.PolyFillType.pftNonZero,Fe.PolyFillType.pftNonZero),Fe.JS.PolyTreeToExPolygons(p).length===0},_getLoadedBounds(){return this._loadedBounds},_addLoadedBounds(t){this._loadedBounds.push(t)},_buildClipsFromBounds(t){return t.map(e=>[{X:e._southWest.lng*1e6,Y:e._southWest.lat*1e6},{X:e._southWest.lng*1e6,Y:e._northEast.lat*1e6},{X:e._northEast.lng*1e6,Y:e._northEast.lat*1e6},{X:e._northEast.lng*1e6,Y:e._southWest.lat*1e6}])},_buildBoundsFromClips(t){return t.map(e=>at.latLngBounds(at.latLng(e[0].Y/1e6,e[0].X/1e6).wrap(),at.latLng(e[2].Y/1e6,e[2].X/1e6).wrap()))},_buildOverpassQueryFromQueryAndBounds(t,e){const r=e._southWest,l=e._northEast,c=[r.lat,r.lng,l.lat,l.lng].join(",");return t=t.replace(/(\/\/.*)/g,""),t=t.replace(/(\{\{bbox\}\})/g,c),t},_buildOverpassUrlFromEndPointAndQuery(t,e){return`${t}interpreter?data=[out:json];${e}`},_buildLargerBounds(t){const e=Math.abs(t._northEast.lng-t._southWest.lng),r=Math.abs(t._northEast.lat-t._southWest.lat),l=e>r?e:r;return t._southWest.lat-=l/2,t._southWest.lng-=l/2,t._northEast.lat+=l/2,t._northEast.lng+=l/2,at.latLngBounds(at.latLng(t._southWest.lat,t._southWest.lng).wrap(),at.latLng(t._northEast.lat,t._northEast.lng).wrap())},_setRequestInProgress(t){this._requestInProgress=t},_isRequestInProgress(){return this._requestInProgress},_hasNextRequest(){return!!this._nextRequest},_getNextRequest(){return this._nextRequest},_setNextRequest(t){this._nextRequest=t},_removeNextRequest(){this._nextRequest=null},_prepareRequest(){if(this._map.getZoom()<this.options.minZoom)return!1;const t=this._buildLargerBounds(this._map.getBounds()),e=this._sendRequest.bind(this,t);this._isRequestInProgress()?this._setNextRequest(e):(this._removeNextRequest(),e())},_sendRequest(t){const e=this._getLoadedBounds();if(this._isFullyLoadedBounds(t,e)){this._setRequestInProgress(!1);return}const r=this._buildLargerBounds(t),l=this._buildOverpassUrlFromEndPointAndQuery(this.options.endPoint,this._buildOverpassQueryFromQueryAndBounds(this.options.query,r)),c=new XMLHttpRequest;if(this.options.beforeRequest.call(this)===!1){this.options.afterRequest.call(this);return}this._setRequestInProgress(!0),this.options.debug&&this._addRequestBox(this._buildRequestBox(r)),c.open("GET",l,!0),c.timeout=this.options.timeout,c.ontimeout=()=>this._onRequestTimeout(c,l,r),c.onload=()=>this._onRequestLoad(c,r),c.send()},_onRequestLoad(t,e){if(t.status>=200&&t.status<400){let r=JSON.parse(t.response);this.options.onSuccess.call(this,r);const l=typeof this._cacheDb<"u";if(this.options.cacheEnabled&&l){let c=new Date;c.setSeconds(c.getSeconds()+this.options.cacheTTL),this._getCachedItems().then(p=>{let y;p.forEach((P,T)=>{const E=P.query===this.options.query,B=at.latLng(P.bounds._northEast),N=at.latLng(P.bounds._southWest),D=at.latLngBounds(B,N);E&&e.equals(D)&&(y=T)}),this._cacheDb.put("cache",{query:this.options.query,result:r,bounds:e,expires:c},y)})}this._onRequestLoadCallback(e)}else this._onRequestErrorCallback(e),this.options.onError.call(this,t);this._onRequestCompleteCallback(e)},_onRequestTimeout(t,e,r){this.options.onTimeout.call(this,t),this.options.retryOnTimeout?this._sendRequest(e):(this._onRequestErrorCallback(r),this._onRequestCompleteCallback(r))},_onRequestLoadCallback(t){this._addLoadedBounds(t),this.options.debug&&this._addResponseBoxes(this._getRequestBoxes())},_onRequestErrorCallback(t){this.options.debug&&this._removeRequestBox(this._buildRequestBox(t))},_onRequestCompleteCallback(){if(this.options.afterRequest.call(this),this._hasNextRequest()){const t=this._getNextRequest();this._removeNextRequest(),t()}else this._setRequestInProgress(!1)},async _getCachedItems(){if(!(typeof this._cacheDb<"u"))return;const e=await this._cacheDb.getAllKeys("cache"),r=await this._cacheDb.getAll("cache"),l=new Map;return r.forEach((c,p)=>{const y=e[p];l.set(y,c)}),l},async _loadCachedItems(){if(!(typeof this._cacheDb<"u")||!this._map)return;(await this._getCachedItems()).forEach((r,l)=>{new Date>r.expires?this._cacheDb.delete("cache",l):r.query===this.options.query&&(this.options.onSuccess.call(this,r.result),this._onRequestLoadCallback(r.bounds))})},onAdd(t){this._map=t,this.options.minZoomIndicatorEnabled===!0&&(this._map.zoomIndicator?(this._zoomControl=this._map.zoomIndicator,this._zoomControl._addLayer(this)):(this._zoomControl=new at.Control.MinZoomIndicator(this.options.minZoomIndicatorOptions),this._map.addControl(this._zoomControl),this._zoomControl._addLayer(this))),this.options.debug&&(this._requestBoxes=at.featureGroup().addTo(this._map),this._responseBoxes=at.featureGroup().addTo(this._map)),this._markers=at.featureGroup().addTo(this._map),this.options.cacheEnabled&&typeof this._cacheDb<"u"&&this._loadCachedItems(),this.options.noInitialRequest||this._prepareRequest(),this._map.on("moveend",this._prepareRequest,this)},onRemove(t){at.LayerGroup.prototype.onRemove.call(this,t),this.options.minZoomIndicatorEnabled===!0&&this._map.zoomIndicator&&(this._zoomControl._removeLayer(this),this._map.removeControl(this._zoomControl),this._zoomControl=null,this._map.zoomIndicator=null),this.options.debug&&(this._map.removeLayer(this._requestBoxes),this._map.removeLayer(this._responseBoxes)),this._resetData(),this._map.removeLayer(this._markers),this._map.off("moveend",this._prepareRequest,this)},setQuery(t){this.options.query=t,this._resetData(),this._prepareRequest()},_resetData(){this._ids={},this._loadedBounds=[],this._requestInProgress=!1,this._markers.clearLayers(),this.options.debug&&(this._requestBoxes.clearLayers(),this._responseBoxes.clearLayers())},getData(){return this._data}});at.OverPassLayer=ph;at.overpassLayer=t=>new at.OverPassLayer(t);function vf(){const t=re([]),e=re(!0),r=`
    (
      node({{bbox}})[amenity~"^(fire_station|hospital)$"];
      node({{bbox}})[amenity~"^(hospital)$"];
      relation({{bbox}})[amenity~"^(hospital)$"];
      node({{bbox}})[healthcare~"^(hospital|clinic)$"];
      relation({{bbox}})[healthcare~"^(hospital|clinic)$"];
    );
    out;
  `,l=(p={})=>(p.minZoom=13,p.query=r,p.onSuccess=function(y){for(const P of y.elements){if(t.value.includes(P.id))continue;if(t.value.push(P.id),P.type!=="node")throw new Error("None node found, what shall we do?");const T=di.circle(di.latLng(P.lat,P.lon),20,{stroke:!0,color:"#0f57b4",weight:2,fillColor:"#e3e823"});T.bindPopup(di.popup().setContent(`
            <div><strong>${P.tags.name}</strong></div>
            <div>${P.tags.amenity}</div>
          `)),this._markers.addLayer(T)}e.value=!1},new ph(p));return{init:p=>p&&p.addLayer(l()),loading:e}}function gf(){const t=navigator.geolocation||null;let e=y=>y,r=y=>y;return{init:()=>{t==null||t.getCurrentPosition(e,r)},onAllowed:y=>{e=y},onDenied:y=>{r=y}}}const yf={key:0},Pf={key:1},xf={key:2},wf=he({__name:"TheMap",setup(t){const e=re(null),r=re(null),l=re(""),{t:c}=vi(),{init:p,map:y}=Qu(),{init:P,loading:T}=vf(),{init:E,onAllowed:B,onDenied:N}=gf(),D=async lt=>{if(await fl(),p(e.value,lt),!y.value)throw new Error("Your map was not initialized.");P(y.value)};return B(lt=>{r.value=!0,D([lt.coords.latitude,lt.coords.longitude])}),N(lt=>{lt.code===1&&(l.value="Access to geo location not granted."),lt.code===2&&(l.value="Could not retrieve your current location."),lt.code===3&&(l.value="Timout"),r.value=!1}),ul(()=>E()),(lt,Et)=>r.value===null?(It(),Zt("div",yf,"Waiting for geo location...")):r.value?(It(),Zt("div",xf,[bt(T)?(It(),un(nf,{key:0,class:"the-info",label:`${bt(c)("loading_safe_places")}...`},null,8,["label"])):go("",!0),We(Ns,null,{default:Ai(()=>[yo(ge(bt(c)("index.safe_places_intro")),1)]),_:1}),ye("div",{class:sa({transparent:bt(T)})},[ye("div",{id:"the-map",ref_key:"mapTag",ref:e},null,512)],2)])):(It(),Zt("div",Pf,ge(l.value),1))}});const Lf=Ve(wf,[["__scopeId","data-v-f5b43ac5"]]);function Tf(){const{t}=vi();return{safeLink:r=>{window.confirm(t("index.safe_link_note"))&&(self.location.href=r)}}}const Cf=t=>(cl("data-v-f007fc73"),t=t(),dl(),t),If={class:"the-modules"},bf=["href"],Sf=Cf(()=>ye("br",null,null,-1)),Ef={class:"the-small"},Mf=he({__name:"TheModules",setup(t){const{t:e}=vi(),{configuration:r,currentModule:l}=zi(),{safeLink:c}=Tf(),p=()=>{l.value={component:Lf}};return(y,P)=>(It(),Zt("div",If,[ye("a",{class:"the-module",href:`tel:${bt(r).institution.phone}`},[yo(ge(bt(e)("call_institution",{institution:bt(r).institution.name})),1),Sf,ye("span",Ef,ge(bt(r).institution.phone),1)],8,bf),ye("a",{class:"the-module",onClick:P[0]||(P[0]=T=>p())},ge(bt(e)("find_a_safe_help_resource")),1),bt(r).institution.chat?(It(),Zt("a",{key:0,class:"the-module",onClick:P[1]||(P[1]=T=>bt(c)(bt(r).institution.chat))},ge(bt(e)("go_to_live_chat")),1)):go("",!0)]))}});const Of=Ve(Mf,[["__scopeId","data-v-f007fc73"]]),Af=["innerHTML"],Bf=he({__name:"TheContentPage",props:{contentPage:null},setup(t){const e=t;return(r,l)=>(It(),Zt(ra,null,[We(aa,null,{default:Ai(()=>[yo(ge(e.contentPage.title),1)]),_:1}),We(Ns,null,{default:Ai(()=>[ye("div",{innerHTML:e.contentPage.content},null,8,Af)]),_:1})],64))}}),Bs=re(""),oa=document.getElementById("vida-script");Bs.value=oa instanceof HTMLScriptElement?oa.src.split("/").slice(0,-1).join("/")+"/":"/";function Nf(){return{baseUrl:Bs,replacePublicPaths:e=>e.replaceAll("__public/",Bs.value)}}function kf(){const{configuration:t}=zi(),{replacePublicPaths:e}=Nf(),{t:r}=vi();if(!t.value)throw new Error("Content pages can not be provided before initializing configuration");const l=re([{title:r("content_page.universal_hand_signal.title"),content:r("content_page.universal_hand_signal.content")},{title:r("content_page.what_can_you_do.title"),content:r("content_page.what_can_you_do.content")},{title:`Information about ${t.value.institution.name}`,content:`${t.value.institution.information}`},{title:r("content_page.about_this_widget.title"),content:r("content_page.about_this_widget.content")}]);return{contentPages:re(l.value.map(p=>({title:p.title,content:e(p.content)})))}}const Df={class:"the-content-pages"},zf=["onClick"],Zf=he({__name:"TheContentPages",setup(t){const{currentModule:e}=zi(),{contentPages:r}=kf(),l=c=>{e.value={component:Bf,props:{contentPage:c}}};return(c,p)=>(It(),Zt("div",Df,[(It(!0),Zt(ra,null,_l(bt(r),y=>(It(),Zt("div",{key:y.title},[ye("a",{href:"#",onClick:pl(P=>l(y),["prevent"])},ge(y.title),9,zf)]))),128))]))}});const Rf=Ve(Zf,[["__scopeId","data-v-f3da26ff"]]),Xf=he({__name:"TheBackButton",setup(t){const{t:e}=vi(),{currentModule:r}=zi(),l=()=>r.value=null;return(c,p)=>(It(),Zt("div",{class:"the-back",onClick:l},"< "+ge(bt(e)("back")),1))}});const Yf=Ve(Xf,[["__scopeId","data-v-b51ab8ee"]]),Ff={class:"the-help-center"},Wf={key:0},Hf={key:1},qf=he({__name:"TheHelpCenter",setup(t){const{currentModule:e}=zi();return(r,l)=>(It(),Zt("div",Ff,[bt(e)?(It(),un(Yf,{key:0})):go("",!0),We(yl,null,{default:Ai(()=>[bt(e)?(It(),Zt("div",Hf,[(It(),un(gl(bt(e).component),ml(vl(bt(e).props)),null,16))])):(It(),Zt("div",Wf,[We(wl),We(bl),We(Of),We(Rf)]))]),_:1})]))}});const Gf=Ve(qf,[["__scopeId","data-v-59312bc9"]]);export{Gf as default};
